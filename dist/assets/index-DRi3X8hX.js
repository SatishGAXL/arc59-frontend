const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index.es-DaFgXHbH.js","./format-DGteTMuG.js","./index-CCnwRl7e.js","./qr-code-styling-DPyl5Ylk.js","./index-oG-t8mgH.js"])))=>i.map(i=>d[i]);
var e3=Object.defineProperty;var t3=(t,e,n)=>e in t?e3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>t3(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n3(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var g2={exports:{}},eu={},m2={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),r3=Symbol.for("react.portal"),i3=Symbol.for("react.fragment"),s3=Symbol.for("react.strict_mode"),o3=Symbol.for("react.profiler"),a3=Symbol.for("react.provider"),l3=Symbol.for("react.context"),c3=Symbol.for("react.forward_ref"),u3=Symbol.for("react.suspense"),d3=Symbol.for("react.memo"),f3=Symbol.for("react.lazy"),Jm=Symbol.iterator;function h3(t){return t===null||typeof t!="object"?null:(t=Jm&&t[Jm]||t["@@iterator"],typeof t=="function"?t:null)}var y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w2=Object.assign,v2={};function Io(t,e,n){this.props=t,this.context=e,this.refs=v2,this.updater=n||y2}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x2(){}x2.prototype=Io.prototype;function Jp(t,e,n){this.props=t,this.context=e,this.refs=v2,this.updater=n||y2}var Kp=Jp.prototype=new x2;Kp.constructor=Jp;w2(Kp,Io.prototype);Kp.isPureReactComponent=!0;var Km=Array.isArray,b2=Object.prototype.hasOwnProperty,Hp={current:null},A2={key:!0,ref:!0,__self:!0,__source:!0};function I2(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)b2.call(e,r)&&!A2.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ka,type:t,key:s,ref:o,props:i,_owner:Hp.current}}function p3(t,e){return{$$typeof:Ka,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ka}function g3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hm=/\/+/g;function $d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?g3(""+t.key):e.toString(36)}function Yl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ka:case r3:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+$d(o,0):r,Km(i)?(n="",t!=null&&(n=t.replace(Hm,"$&/")+"/"),Yl(i,e,n,"",function(c){return c})):i!=null&&(qp(i)&&(i=p3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hm,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Km(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+$d(s,a);o+=Yl(s,e,n,l,i)}else if(l=h3(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+$d(s,a++),o+=Yl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(t,e,n){if(t==null)return t;var r=[],i=0;return Yl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function m3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},Xl={transition:null},y3={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:Xl,ReactCurrentOwner:Hp};function C2(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:yl,forEach:function(t,e,n){yl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yl(t,function(){e++}),e},toArray:function(t){return yl(t,function(e){return e})||[]},only:function(t){if(!qp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=Io;_t.Fragment=i3;_t.Profiler=o3;_t.PureComponent=Jp;_t.StrictMode=s3;_t.Suspense=u3;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y3;_t.act=C2;_t.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=w2({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Hp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)b2.call(e,l)&&!A2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ka,type:t.type,key:i,ref:s,props:r,_owner:o}};_t.createContext=function(t){return t={$$typeof:l3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:a3,_context:t},t.Consumer=t};_t.createElement=I2;_t.createFactory=function(t){var e=I2.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:c3,render:t}};_t.isValidElement=qp;_t.lazy=function(t){return{$$typeof:f3,_payload:{_status:-1,_result:t},_init:m3}};_t.memo=function(t,e){return{$$typeof:d3,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=Xl.transition;Xl.transition={};try{t()}finally{Xl.transition=e}};_t.unstable_act=C2;_t.useCallback=function(t,e){return Dn.current.useCallback(t,e)};_t.useContext=function(t){return Dn.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};_t.useEffect=function(t,e){return Dn.current.useEffect(t,e)};_t.useId=function(){return Dn.current.useId()};_t.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};_t.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return Dn.current.useMemo(t,e)};_t.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};_t.useRef=function(t){return Dn.current.useRef(t)};_t.useState=function(t){return Dn.current.useState(t)};_t.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};_t.useTransition=function(){return Dn.current.useTransition()};_t.version="18.3.1";m2.exports=_t;var Ct=m2.exports;const Mt=Ja(Ct);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w3=Ct,v3=Symbol.for("react.element"),x3=Symbol.for("react.fragment"),b3=Object.prototype.hasOwnProperty,A3=w3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I3={key:!0,ref:!0,__self:!0,__source:!0};function _2(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)b3.call(e,r)&&!I3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:v3,type:t,key:s,ref:o,props:i,_owner:A3.current}}eu.Fragment=x3;eu.jsx=_2;eu.jsxs=_2;g2.exports=eu;var It=g2.exports,yh={},E2={exports:{}},nr={},S2={exports:{}},R2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,q){var ae=Y.length;Y.push(q);e:for(;0<ae;){var we=ae-1>>>1,ve=Y[we];if(0<i(ve,q))Y[we]=q,Y[ae]=ve,ae=we;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var q=Y[0],ae=Y.pop();if(ae!==q){Y[0]=ae;e:for(var we=0,ve=Y.length,_e=ve>>>1;we<_e;){var ue=2*(we+1)-1,We=Y[ue],rt=ue+1,at=Y[rt];if(0>i(We,ae))rt<ve&&0>i(at,We)?(Y[we]=at,Y[rt]=ae,we=rt):(Y[we]=We,Y[ue]=ae,we=ue);else if(rt<ve&&0>i(at,ae))Y[we]=at,Y[rt]=ae,we=rt;else break e}}return q}function i(Y,q){var ae=Y.sortIndex-q.sortIndex;return ae!==0?ae:Y.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,h=null,v=3,I=!1,S=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(Y){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=Y)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function G(Y){if(M=!1,x(Y),!S)if(n(l)!==null)S=!0,Ge(Z);else{var q=n(c);q!==null&&Pe(G,q.startTime-Y)}}function Z(Y,q){S=!1,M&&(M=!1,E(V),V=-1),I=!0;var ae=v;try{for(x(q),h=n(l);h!==null&&(!(h.expirationTime>q)||Y&&!Ae());){var we=h.callback;if(typeof we=="function"){h.callback=null,v=h.priorityLevel;var ve=we(h.expirationTime<=q);q=t.unstable_now(),typeof ve=="function"?h.callback=ve:h===n(l)&&r(l),x(q)}else r(l);h=n(l)}if(h!==null)var _e=!0;else{var ue=n(c);ue!==null&&Pe(G,ue.startTime-q),_e=!1}return _e}finally{h=null,v=ae,I=!1}}var C=!1,D=null,V=-1,Q=5,$=-1;function Ae(){return!(t.unstable_now()-$<Q)}function fe(){if(D!==null){var Y=t.unstable_now();$=Y;var q=!0;try{q=D(!0,Y)}finally{q?be():(C=!1,D=null)}}else C=!1}var be;if(typeof m=="function")be=function(){m(fe)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ve=Le.port2;Le.port1.onmessage=fe,be=function(){Ve.postMessage(null)}}else be=function(){F(fe,0)};function Ge(Y){D=Y,C||(C=!0,be())}function Pe(Y,q){V=F(function(){Y(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){S||I||(S=!0,Ge(Z))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var ae=v;v=q;try{return Y()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ae=v;v=Y;try{return q()}finally{v=ae}},t.unstable_scheduleCallback=function(Y,q,ae){var we=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,Y){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ae+ve,Y={id:f++,callback:q,priorityLevel:Y,startTime:ae,expirationTime:ve,sortIndex:-1},ae>we?(Y.sortIndex=ae,e(c,Y),n(l)===null&&Y===n(c)&&(M?(E(V),V=-1):M=!0,Pe(G,ae-we))):(Y.sortIndex=ve,e(l,Y),S||I||(S=!0,Ge(Z))),Y},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(Y){var q=v;return function(){var ae=v;v=q;try{return Y.apply(this,arguments)}finally{v=ae}}}})(R2);S2.exports=R2;var C3=S2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3=Ct,tr=C3;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F2=new Set,Aa={};function Is(t,e){uo(t,e),uo(t+"Capture",e)}function uo(t,e){for(Aa[t]=e,t=0;t<e.length;t++)F2.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wh=Object.prototype.hasOwnProperty,E3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qm={},Qm={};function S3(t){return wh.call(Qm,t)?!0:wh.call(qm,t)?!1:E3.test(t)?Qm[t]=!0:(qm[t]=!0,!1)}function R3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F3(t,e,n,r){if(e===null||typeof e>"u"||R3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){In[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];In[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){In[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){In[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){In[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){In[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){In[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){In[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){In[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qp=/[\-:]([a-z])/g;function eg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qp,eg);In[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qp,eg);In[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qp,eg);In[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){In[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});In.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){In[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function tg(t,e,n,r){var i=In.hasOwnProperty(e)?In[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F3(e,n,i,r)&&(n=null),r||i===null?S3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gi=_3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),vh=Symbol.for("react.profiler"),k2=Symbol.for("react.provider"),B2=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),bh=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),T2=Symbol.for("react.offscreen"),e0=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,zd;function na(t){if(zd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zd=e&&e[1]||""}return`
`+zd+t}var Yd=!1;function Xd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function k3(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function Ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case Us:return"Portal";case vh:return"Profiler";case ng:return"StrictMode";case xh:return"Suspense";case bh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B2:return(t.displayName||"Context")+".Consumer";case k2:return(t._context.displayName||"Context")+".Provider";case rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ig:return e=t.displayName||null,e!==null?e:Ah(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return Ah(t(e))}catch{}}return null}function B3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(e);case 8:return e===ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T3(t){var e=N2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vl(t){t._valueTracker||(t._valueTracker=T3(t))}function L2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ih(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Oi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M2(t,e){e=e.checked,e!=null&&tg(t,"checked",e,!1)}function Ch(t,e){M2(t,e);var n=Oi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_h(t,e.type,n):e.hasOwnProperty("defaultValue")&&_h(t,e.type,Oi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _h(t,e,n){(e!=="number"||fc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Oi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Eh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(ra(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Oi(n)}}function W2(t,e){var n=Oi(e.value),r=Oi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Z2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Z2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xl,O2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xl=xl||document.createElement("div"),xl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N3=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(t){N3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ca[e]=ca[t]})});function D2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ca.hasOwnProperty(t)&&ca[t]?(""+e).trim():e+"px"}function U2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=D2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var L3=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(t,e){if(e){if(L3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function Fh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=null;function sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bh=null,eo=null,to=null;function s0(t){if(t=Qa(t)){if(typeof Bh!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=su(e),Bh(t.stateNode,t.type,e))}}function P2(t){eo?to?to.push(t):to=[t]:eo=t}function G2(){if(eo){var t=eo,e=to;if(to=eo=null,s0(t),e)for(t=0;t<e.length;t++)s0(e[t])}}function V2(t,e){return t(e)}function j2(){}var Jd=!1;function $2(t,e,n){if(Jd)return t(e,n);Jd=!0;try{return V2(t,e,n)}finally{Jd=!1,(eo!==null||to!==null)&&(j2(),G2())}}function Ca(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var Th=!1;if(li)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){Th=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{Th=!1}function M3(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ua=!1,hc=null,pc=!1,Nh=null,W3={onError:function(t){ua=!0,hc=t}};function Z3(t,e,n,r,i,s,o,a,l){ua=!1,hc=null,M3.apply(W3,arguments)}function O3(t,e,n,r,i,s,o,a,l){if(Z3.apply(this,arguments),ua){if(ua){var c=hc;ua=!1,hc=null}else throw Error(Oe(198));pc||(pc=!0,Nh=c)}}function Cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(Cs(t)!==t)throw Error(Oe(188))}function D3(t){var e=t.alternate;if(!e){if(e=Cs(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o0(i),t;if(s===r)return o0(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function Y2(t){return t=D3(t),t!==null?X2(t):null}function X2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X2(t);if(e!==null)return e;t=t.sibling}return null}var J2=tr.unstable_scheduleCallback,a0=tr.unstable_cancelCallback,U3=tr.unstable_shouldYield,P3=tr.unstable_requestPaint,qt=tr.unstable_now,G3=tr.unstable_getCurrentPriorityLevel,og=tr.unstable_ImmediatePriority,K2=tr.unstable_UserBlockingPriority,gc=tr.unstable_NormalPriority,V3=tr.unstable_LowPriority,H2=tr.unstable_IdlePriority,tu=null,Ur=null;function j3(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(tu,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:Y3,$3=Math.log,z3=Math.LN2;function Y3(t){return t>>>=0,t===0?32:31-($3(t)/z3|0)|0}var bl=64,Al=4194304;function ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ia(a):(s&=o,s!==0&&(r=ia(s)))}else o=n&~i,o!==0?r=ia(o):s!==0&&(r=ia(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function X3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=X3(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Lh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q2(){var t=bl;return bl<<=1,!(bl&4194240)&&(bl=64),t}function Kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ha(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function K3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ag(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Tt=0;function Q2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ew,lg,tw,nw,rw,Mh=!1,Il=[],Ri=null,Fi=null,ki=null,_a=new Map,Ea=new Map,Ii=[],H3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":_a.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(e.pointerId)}}function Mo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qa(e),e!==null&&lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function q3(t,e,n,r,i){switch(e){case"focusin":return Ri=Mo(Ri,t,e,n,r,i),!0;case"dragenter":return Fi=Mo(Fi,t,e,n,r,i),!0;case"mouseover":return ki=Mo(ki,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _a.set(s,Mo(_a.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ea.set(s,Mo(Ea.get(s)||null,t,e,n,r,i)),!0}return!1}function iw(t){var e=ts(t.target);if(e!==null){var n=Cs(e);if(n!==null){if(e=n.tag,e===13){if(e=z2(n),e!==null){t.blockedOn=e,rw(t.priority,function(){tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kh=r,n.target.dispatchEvent(r),kh=null}else return e=Qa(n),e!==null&&lg(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){Jl(t)&&n.delete(e)}function Q3(){Mh=!1,Ri!==null&&Jl(Ri)&&(Ri=null),Fi!==null&&Jl(Fi)&&(Fi=null),ki!==null&&Jl(ki)&&(ki=null),_a.forEach(c0),Ea.forEach(c0)}function Wo(t,e){t.blockedOn===e&&(t.blockedOn=null,Mh||(Mh=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,Q3)))}function Sa(t){function e(i){return Wo(i,t)}if(0<Il.length){Wo(Il[0],t);for(var n=1;n<Il.length;n++){var r=Il[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&Wo(Ri,t),Fi!==null&&Wo(Fi,t),ki!==null&&Wo(ki,t),_a.forEach(e),Ea.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)iw(n),n.blockedOn===null&&Ii.shift()}var no=gi.ReactCurrentBatchConfig,yc=!0;function e6(t,e,n,r){var i=Tt,s=no.transition;no.transition=null;try{Tt=1,cg(t,e,n,r)}finally{Tt=i,no.transition=s}}function t6(t,e,n,r){var i=Tt,s=no.transition;no.transition=null;try{Tt=4,cg(t,e,n,r)}finally{Tt=i,no.transition=s}}function cg(t,e,n,r){if(yc){var i=Wh(t,e,n,r);if(i===null)af(t,e,r,wc,n),l0(t,r);else if(q3(i,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<H3.indexOf(t)){for(;i!==null;){var s=Qa(i);if(s!==null&&ew(s),s=Wh(t,e,n,r),s===null&&af(t,e,r,wc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else af(t,e,r,null,n)}}var wc=null;function Wh(t,e,n,r){if(wc=null,t=sg(r),t=ts(t),t!==null)if(e=Cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wc=t,null}function sw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G3()){case og:return 1;case K2:return 4;case gc:case V3:return 16;case H2:return 536870912;default:return 16}default:return 16}}var _i=null,ug=null,Kl=null;function ow(){if(Kl)return Kl;var t,e=ug,n=e.length,r,i="value"in _i?_i.value:_i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kl=i.slice(t,1<r?1-r:void 0)}function Hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cl(){return!0}function u0(){return!1}function rr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cl:u0,this.isPropagationStopped=u0,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),e}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=rr(Co),qa=Yt({},Co,{view:0,detail:0}),n6=rr(qa),Hd,qd,Zo,nu=Yt({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(Hd=t.screenX-Zo.screenX,qd=t.screenY-Zo.screenY):qd=Hd=0,Zo=t),Hd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),d0=rr(nu),r6=Yt({},nu,{dataTransfer:0}),i6=rr(r6),s6=Yt({},qa,{relatedTarget:0}),Qd=rr(s6),o6=Yt({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),a6=rr(o6),l6=Yt({},Co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c6=rr(l6),u6=Yt({},Co,{data:0}),f0=rr(u6),d6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=h6[t])?!!e[t]:!1}function fg(){return p6}var g6=Yt({},qa,{key:function(t){if(t.key){var e=d6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fg,charCode:function(t){return t.type==="keypress"?Hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m6=rr(g6),y6=Yt({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h0=rr(y6),w6=Yt({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fg}),v6=rr(w6),x6=Yt({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),b6=rr(x6),A6=Yt({},nu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),I6=rr(A6),C6=[9,13,27,32],hg=li&&"CompositionEvent"in window,da=null;li&&"documentMode"in document&&(da=document.documentMode);var _6=li&&"TextEvent"in window&&!da,aw=li&&(!hg||da&&8<da&&11>=da),p0=" ",g0=!1;function lw(t,e){switch(t){case"keyup":return C6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function E6(t,e){switch(t){case"compositionend":return cw(e);case"keypress":return e.which!==32?null:(g0=!0,p0);case"textInput":return t=e.data,t===p0&&g0?null:t;default:return null}}function S6(t,e){if(Gs)return t==="compositionend"||!hg&&lw(t,e)?(t=ow(),Kl=ug=_i=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var R6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R6[t.type]:e==="textarea"}function uw(t,e,n,r){P2(r),e=vc(e,"onChange"),0<e.length&&(n=new dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fa=null,Ra=null;function F6(t){bw(t,0)}function ru(t){var e=$s(t);if(L2(e))return t}function k6(t,e){if(t==="change")return e}var dw=!1;if(li){var ef;if(li){var tf="oninput"in document;if(!tf){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),tf=typeof y0.oninput=="function"}ef=tf}else ef=!1;dw=ef&&(!document.documentMode||9<document.documentMode)}function w0(){fa&&(fa.detachEvent("onpropertychange",fw),Ra=fa=null)}function fw(t){if(t.propertyName==="value"&&ru(Ra)){var e=[];uw(e,Ra,t,sg(t)),$2(F6,e)}}function B6(t,e,n){t==="focusin"?(w0(),fa=e,Ra=n,fa.attachEvent("onpropertychange",fw)):t==="focusout"&&w0()}function T6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ru(Ra)}function N6(t,e){if(t==="click")return ru(e)}function L6(t,e){if(t==="input"||t==="change")return ru(e)}function M6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:M6;function Fa(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wh.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function v0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=v0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=v0(n)}}function hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pw(){for(var t=window,e=fc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fc(t.document)}return e}function pg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W6(t){var e=pw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hw(n.ownerDocument.documentElement,n)){if(r!==null&&pg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x0(n,s);var o=x0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z6=li&&"documentMode"in document&&11>=document.documentMode,Vs=null,Zh=null,ha=null,Oh=!1;function b0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oh||Vs==null||Vs!==fc(r)||(r=Vs,"selectionStart"in r&&pg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ha&&Fa(ha,r)||(ha=r,r=vc(Zh,"onSelect"),0<r.length&&(e=new dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function _l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},nf={},gw={};li&&(gw=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function iu(t){if(nf[t])return nf[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gw)return nf[t]=e[n];return t}var mw=iu("animationend"),yw=iu("animationiteration"),ww=iu("animationstart"),vw=iu("transitionend"),xw=new Map,A0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,e){xw.set(t,e),Is(e,[t])}for(var rf=0;rf<A0.length;rf++){var sf=A0[rf],O6=sf.toLowerCase(),D6=sf[0].toUpperCase()+sf.slice(1);$i(O6,"on"+D6)}$i(mw,"onAnimationEnd");$i(yw,"onAnimationIteration");$i(ww,"onAnimationStart");$i("dblclick","onDoubleClick");$i("focusin","onFocus");$i("focusout","onBlur");$i(vw,"onTransitionEnd");uo("onMouseEnter",["mouseout","mouseover"]);uo("onMouseLeave",["mouseout","mouseover"]);uo("onPointerEnter",["pointerout","pointerover"]);uo("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U6=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function I0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,O3(r,e,void 0,t),t.currentTarget=null}function bw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;I0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;I0(i,a,c),s=l}}}if(pc)throw t=Nh,pc=!1,Nh=null,t}function Ut(t,e){var n=e[Vh];n===void 0&&(n=e[Vh]=new Set);var r=t+"__bubble";n.has(r)||(Aw(e,t,2,!1),n.add(r))}function of(t,e,n){var r=0;e&&(r|=4),Aw(n,t,r,e)}var El="_reactListening"+Math.random().toString(36).slice(2);function ka(t){if(!t[El]){t[El]=!0,F2.forEach(function(n){n!=="selectionchange"&&(U6.has(n)||of(n,!1,t),of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[El]||(e[El]=!0,of("selectionchange",!1,e))}}function Aw(t,e,n,r){switch(sw(e)){case 1:var i=e6;break;case 4:i=t6;break;default:i=cg}n=i.bind(null,e,n,t),i=void 0,!Th||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function af(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}$2(function(){var c=s,f=sg(n),h=[];e:{var v=xw.get(t);if(v!==void 0){var I=dg,S=t;switch(t){case"keypress":if(Hl(n)===0)break e;case"keydown":case"keyup":I=m6;break;case"focusin":S="focus",I=Qd;break;case"focusout":S="blur",I=Qd;break;case"beforeblur":case"afterblur":I=Qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=i6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=v6;break;case mw:case yw:case ww:I=a6;break;case vw:I=b6;break;case"scroll":I=n6;break;case"wheel":I=I6;break;case"copy":case"cut":case"paste":I=c6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=h0}var M=(e&4)!==0,F=!M&&t==="scroll",E=M?v!==null?v+"Capture":null:v;M=[];for(var m=c,x;m!==null;){x=m;var G=x.stateNode;if(x.tag===5&&G!==null&&(x=G,E!==null&&(G=Ca(m,E),G!=null&&M.push(Ba(m,G,x)))),F)break;m=m.return}0<M.length&&(v=new I(v,S,null,n,f),h.push({event:v,listeners:M}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",v&&n!==kh&&(S=n.relatedTarget||n.fromElement)&&(ts(S)||S[ci]))break e;if((I||v)&&(v=f.window===f?f:(v=f.ownerDocument)?v.defaultView||v.parentWindow:window,I?(S=n.relatedTarget||n.toElement,I=c,S=S?ts(S):null,S!==null&&(F=Cs(S),S!==F||S.tag!==5&&S.tag!==6)&&(S=null)):(I=null,S=c),I!==S)){if(M=d0,G="onMouseLeave",E="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(M=h0,G="onPointerLeave",E="onPointerEnter",m="pointer"),F=I==null?v:$s(I),x=S==null?v:$s(S),v=new M(G,m+"leave",I,n,f),v.target=F,v.relatedTarget=x,G=null,ts(f)===c&&(M=new M(E,m+"enter",S,n,f),M.target=x,M.relatedTarget=F,G=M),F=G,I&&S)t:{for(M=I,E=S,m=0,x=M;x;x=Ss(x))m++;for(x=0,G=E;G;G=Ss(G))x++;for(;0<m-x;)M=Ss(M),m--;for(;0<x-m;)E=Ss(E),x--;for(;m--;){if(M===E||E!==null&&M===E.alternate)break t;M=Ss(M),E=Ss(E)}M=null}else M=null;I!==null&&C0(h,v,I,M,!1),S!==null&&F!==null&&C0(h,F,S,M,!0)}}e:{if(v=c?$s(c):window,I=v.nodeName&&v.nodeName.toLowerCase(),I==="select"||I==="input"&&v.type==="file")var Z=k6;else if(m0(v))if(dw)Z=L6;else{Z=T6;var C=B6}else(I=v.nodeName)&&I.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(Z=N6);if(Z&&(Z=Z(t,c))){uw(h,Z,n,f);break e}C&&C(t,v,c),t==="focusout"&&(C=v._wrapperState)&&C.controlled&&v.type==="number"&&_h(v,"number",v.value)}switch(C=c?$s(c):window,t){case"focusin":(m0(C)||C.contentEditable==="true")&&(Vs=C,Zh=c,ha=null);break;case"focusout":ha=Zh=Vs=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,b0(h,n,f);break;case"selectionchange":if(Z6)break;case"keydown":case"keyup":b0(h,n,f)}var D;if(hg)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Gs?lw(t,n)&&(V="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(aw&&n.locale!=="ko"&&(Gs||V!=="onCompositionStart"?V==="onCompositionEnd"&&Gs&&(D=ow()):(_i=f,ug="value"in _i?_i.value:_i.textContent,Gs=!0)),C=vc(c,V),0<C.length&&(V=new f0(V,t,null,n,f),h.push({event:V,listeners:C}),D?V.data=D:(D=cw(n),D!==null&&(V.data=D)))),(D=_6?E6(t,n):S6(t,n))&&(c=vc(c,"onBeforeInput"),0<c.length&&(f=new f0("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=D))}bw(h,e)})}function Ba(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ca(t,n),s!=null&&r.unshift(Ba(t,s,i)),s=Ca(t,e),s!=null&&r.push(Ba(t,s,i))),t=t.return}return r}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ca(n,s),l!=null&&o.unshift(Ba(n,l,a))):i||(l=Ca(n,s),l!=null&&o.push(Ba(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var P6=/\r\n?/g,G6=/\u0000|\uFFFD/g;function _0(t){return(typeof t=="string"?t:""+t).replace(P6,`
`).replace(G6,"")}function Sl(t,e,n){if(e=_0(e),_0(t)!==e&&n)throw Error(Oe(425))}function xc(){}var Dh=null,Uh=null;function Ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,V6=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,j6=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(t){return E0.resolve(null).then(t).catch($6)}:Gh;function $6(t){setTimeout(function(){throw t})}function lf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sa(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _o=Math.random().toString(36).slice(2),Or="__reactFiber$"+_o,Ta="__reactProps$"+_o,ci="__reactContainer$"+_o,Vh="__reactEvents$"+_o,z6="__reactListeners$"+_o,Y6="__reactHandles$"+_o;function ts(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S0(t);t!==null;){if(n=t[Or])return n;t=S0(t)}return e}t=n,n=t.parentNode}return null}function Qa(t){return t=t[Or]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function su(t){return t[Ta]||null}var jh=[],zs=-1;function zi(t){return{current:t}}function Pt(t){0>zs||(t.current=jh[zs],jh[zs]=null,zs--)}function Dt(t,e){zs++,jh[zs]=t.current,t.current=e}var Di={},Tn=zi(Di),Vn=zi(!1),hs=Di;function fo(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function jn(t){return t=t.childContextTypes,t!=null}function bc(){Pt(Vn),Pt(Tn)}function R0(t,e,n){if(Tn.current!==Di)throw Error(Oe(168));Dt(Tn,e),Dt(Vn,n)}function Iw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,B3(t)||"Unknown",i));return Yt({},n,r)}function Ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,hs=Tn.current,Dt(Tn,t),Dt(Vn,Vn.current),!0}function F0(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=Iw(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,Pt(Vn),Pt(Tn),Dt(Tn,t)):Pt(Vn),Dt(Vn,n)}var Qr=null,ou=!1,cf=!1;function Cw(t){Qr===null?Qr=[t]:Qr.push(t)}function X6(t){ou=!0,Cw(t)}function Yi(){if(!cf&&Qr!==null){cf=!0;var t=0,e=Tt;try{var n=Qr;for(Tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,ou=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),J2(og,Yi),i}finally{Tt=e,cf=!1}}return null}var Ys=[],Xs=0,Ic=null,Cc=0,cr=[],ur=0,ps=null,ti=1,ni="";function Hi(t,e){Ys[Xs++]=Cc,Ys[Xs++]=Ic,Ic=t,Cc=e}function _w(t,e,n){cr[ur++]=ti,cr[ur++]=ni,cr[ur++]=ps,ps=t;var r=ti;t=ni;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var s=32-Rr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ti=1<<32-Rr(e)+i|n<<i|r,ni=s+t}else ti=1<<s|n<<i|r,ni=t}function gg(t){t.return!==null&&(Hi(t,1),_w(t,1,0))}function mg(t){for(;t===Ic;)Ic=Ys[--Xs],Ys[Xs]=null,Cc=Ys[--Xs],Ys[Xs]=null;for(;t===ps;)ps=cr[--ur],cr[ur]=null,ni=cr[--ur],cr[ur]=null,ti=cr[--ur],cr[ur]=null}var Qn=null,Hn=null,Gt=!1,_r=null;function Ew(t,e){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Hn=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Hn=null,!0):!1;default:return!1}}function $h(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zh(t){if(Gt){var e=Hn;if(e){var n=e;if(!k0(t,e)){if($h(t))throw Error(Oe(418));e=Bi(n.nextSibling);var r=Qn;e&&k0(t,e)?Ew(r,n):(t.flags=t.flags&-4097|2,Gt=!1,Qn=t)}}else{if($h(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,Gt=!1,Qn=t}}}function B0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function Rl(t){if(t!==Qn)return!1;if(!Gt)return B0(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ph(t.type,t.memoizedProps)),e&&(e=Hn)){if($h(t))throw Sw(),Error(Oe(418));for(;e;)Ew(t,e),e=Bi(e.nextSibling)}if(B0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=Bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Qn?Bi(t.stateNode.nextSibling):null;return!0}function Sw(){for(var t=Hn;t;)t=Bi(t.nextSibling)}function ho(){Hn=Qn=null,Gt=!1}function yg(t){_r===null?_r=[t]:_r.push(t)}var J6=gi.ReactCurrentBatchConfig;function Oo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function Fl(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T0(t){var e=t._init;return e(t._payload)}function Rw(t){function e(E,m){if(t){var x=E.deletions;x===null?(E.deletions=[m],E.flags|=16):x.push(m)}}function n(E,m){if(!t)return null;for(;m!==null;)e(E,m),m=m.sibling;return null}function r(E,m){for(E=new Map;m!==null;)m.key!==null?E.set(m.key,m):E.set(m.index,m),m=m.sibling;return E}function i(E,m){return E=Mi(E,m),E.index=0,E.sibling=null,E}function s(E,m,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<m?(E.flags|=2,m):x):(E.flags|=2,m)):(E.flags|=1048576,m)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,m,x,G){return m===null||m.tag!==6?(m=mf(x,E.mode,G),m.return=E,m):(m=i(m,x),m.return=E,m)}function l(E,m,x,G){var Z=x.type;return Z===Ps?f(E,m,x.props.children,G,x.key):m!==null&&(m.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===xi&&T0(Z)===m.type)?(G=i(m,x.props),G.ref=Oo(E,m,x),G.return=E,G):(G=ic(x.type,x.key,x.props,null,E.mode,G),G.ref=Oo(E,m,x),G.return=E,G)}function c(E,m,x,G){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=yf(x,E.mode,G),m.return=E,m):(m=i(m,x.children||[]),m.return=E,m)}function f(E,m,x,G,Z){return m===null||m.tag!==7?(m=ls(x,E.mode,G,Z),m.return=E,m):(m=i(m,x),m.return=E,m)}function h(E,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=mf(""+m,E.mode,x),m.return=E,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wl:return x=ic(m.type,m.key,m.props,null,E.mode,x),x.ref=Oo(E,null,m),x.return=E,x;case Us:return m=yf(m,E.mode,x),m.return=E,m;case xi:var G=m._init;return h(E,G(m._payload),x)}if(ra(m)||No(m))return m=ls(m,E.mode,x,null),m.return=E,m;Fl(E,m)}return null}function v(E,m,x,G){var Z=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return Z!==null?null:a(E,m,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return x.key===Z?l(E,m,x,G):null;case Us:return x.key===Z?c(E,m,x,G):null;case xi:return Z=x._init,v(E,m,Z(x._payload),G)}if(ra(x)||No(x))return Z!==null?null:f(E,m,x,G,null);Fl(E,x)}return null}function I(E,m,x,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number")return E=E.get(x)||null,a(m,E,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case wl:return E=E.get(G.key===null?x:G.key)||null,l(m,E,G,Z);case Us:return E=E.get(G.key===null?x:G.key)||null,c(m,E,G,Z);case xi:var C=G._init;return I(E,m,x,C(G._payload),Z)}if(ra(G)||No(G))return E=E.get(x)||null,f(m,E,G,Z,null);Fl(m,G)}return null}function S(E,m,x,G){for(var Z=null,C=null,D=m,V=m=0,Q=null;D!==null&&V<x.length;V++){D.index>V?(Q=D,D=null):Q=D.sibling;var $=v(E,D,x[V],G);if($===null){D===null&&(D=Q);break}t&&D&&$.alternate===null&&e(E,D),m=s($,m,V),C===null?Z=$:C.sibling=$,C=$,D=Q}if(V===x.length)return n(E,D),Gt&&Hi(E,V),Z;if(D===null){for(;V<x.length;V++)D=h(E,x[V],G),D!==null&&(m=s(D,m,V),C===null?Z=D:C.sibling=D,C=D);return Gt&&Hi(E,V),Z}for(D=r(E,D);V<x.length;V++)Q=I(D,E,V,x[V],G),Q!==null&&(t&&Q.alternate!==null&&D.delete(Q.key===null?V:Q.key),m=s(Q,m,V),C===null?Z=Q:C.sibling=Q,C=Q);return t&&D.forEach(function(Ae){return e(E,Ae)}),Gt&&Hi(E,V),Z}function M(E,m,x,G){var Z=No(x);if(typeof Z!="function")throw Error(Oe(150));if(x=Z.call(x),x==null)throw Error(Oe(151));for(var C=Z=null,D=m,V=m=0,Q=null,$=x.next();D!==null&&!$.done;V++,$=x.next()){D.index>V?(Q=D,D=null):Q=D.sibling;var Ae=v(E,D,$.value,G);if(Ae===null){D===null&&(D=Q);break}t&&D&&Ae.alternate===null&&e(E,D),m=s(Ae,m,V),C===null?Z=Ae:C.sibling=Ae,C=Ae,D=Q}if($.done)return n(E,D),Gt&&Hi(E,V),Z;if(D===null){for(;!$.done;V++,$=x.next())$=h(E,$.value,G),$!==null&&(m=s($,m,V),C===null?Z=$:C.sibling=$,C=$);return Gt&&Hi(E,V),Z}for(D=r(E,D);!$.done;V++,$=x.next())$=I(D,E,V,$.value,G),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?V:$.key),m=s($,m,V),C===null?Z=$:C.sibling=$,C=$);return t&&D.forEach(function(fe){return e(E,fe)}),Gt&&Hi(E,V),Z}function F(E,m,x,G){if(typeof x=="object"&&x!==null&&x.type===Ps&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:e:{for(var Z=x.key,C=m;C!==null;){if(C.key===Z){if(Z=x.type,Z===Ps){if(C.tag===7){n(E,C.sibling),m=i(C,x.props.children),m.return=E,E=m;break e}}else if(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===xi&&T0(Z)===C.type){n(E,C.sibling),m=i(C,x.props),m.ref=Oo(E,C,x),m.return=E,E=m;break e}n(E,C);break}else e(E,C);C=C.sibling}x.type===Ps?(m=ls(x.props.children,E.mode,G,x.key),m.return=E,E=m):(G=ic(x.type,x.key,x.props,null,E.mode,G),G.ref=Oo(E,m,x),G.return=E,E=G)}return o(E);case Us:e:{for(C=x.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){n(E,m.sibling),m=i(m,x.children||[]),m.return=E,E=m;break e}else{n(E,m);break}else e(E,m);m=m.sibling}m=yf(x,E.mode,G),m.return=E,E=m}return o(E);case xi:return C=x._init,F(E,m,C(x._payload),G)}if(ra(x))return S(E,m,x,G);if(No(x))return M(E,m,x,G);Fl(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(n(E,m.sibling),m=i(m,x),m.return=E,E=m):(n(E,m),m=mf(x,E.mode,G),m.return=E,E=m),o(E)):n(E,m)}return F}var po=Rw(!0),Fw=Rw(!1),_c=zi(null),Ec=null,Js=null,wg=null;function vg(){wg=Js=Ec=null}function xg(t){var e=_c.current;Pt(_c),t._currentValue=e}function Yh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){Ec=t,wg=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(wg!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(Ec===null)throw Error(Oe(308));Js=t,Ec.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var ns=null;function bg(t){ns===null?ns=[t]:ns.push(t)}function kw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bg(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function Ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,bg(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function ql(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}function N0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sc(t,e,n,r){var i=t.updateQueue;bi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=c=l=null,a=s;do{var v=a.lane,I=a.eventTime;if((r&v)===v){f!==null&&(f=f.next={eventTime:I,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,M=a;switch(v=e,I=n,M.tag){case 1:if(S=M.payload,typeof S=="function"){h=S.call(I,h,v);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=M.payload,v=typeof S=="function"?S.call(I,h,v):S,v==null)break e;h=Yt({},h,v);break e;case 2:bi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else I={eventTime:I,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=I,l=h):f=f.next=I,o|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ms|=o,t.lanes=o,t.memoizedState=h}}function L0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var el={},Pr=zi(el),Na=zi(el),La=zi(el);function rs(t){if(t===el)throw Error(Oe(174));return t}function Ig(t,e){switch(Dt(La,e),Dt(Na,t),Dt(Pr,el),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sh(e,t)}Pt(Pr),Dt(Pr,e)}function go(){Pt(Pr),Pt(Na),Pt(La)}function Tw(t){rs(La.current);var e=rs(Pr.current),n=Sh(e,t.type);e!==n&&(Dt(Na,t),Dt(Pr,n))}function Cg(t){Na.current===t&&(Pt(Pr),Pt(Na))}var $t=zi(0);function Rc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uf=[];function _g(){for(var t=0;t<uf.length;t++)uf[t]._workInProgressVersionPrimary=null;uf.length=0}var Ql=gi.ReactCurrentDispatcher,df=gi.ReactCurrentBatchConfig,gs=0,zt=null,cn=null,mn=null,Fc=!1,pa=!1,Ma=0,K6=0;function Cn(){throw Error(Oe(321))}function Eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function Sg(t,e,n,r,i,s){if(gs=s,zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ql.current=t===null||t.memoizedState===null?e5:t5,t=n(r,i),pa){s=0;do{if(pa=!1,Ma=0,25<=s)throw Error(Oe(301));s+=1,mn=cn=null,e.updateQueue=null,Ql.current=n5,t=n(r,i)}while(pa)}if(Ql.current=kc,e=cn!==null&&cn.next!==null,gs=0,mn=cn=zt=null,Fc=!1,e)throw Error(Oe(300));return t}function Rg(){var t=Ma!==0;return Ma=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?zt.memoizedState=mn=t:mn=mn.next=t,mn}function gr(){if(cn===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=cn.next;var e=mn===null?zt.memoizedState:mn.next;if(e!==null)mn=e,cn=t;else{if(t===null)throw Error(Oe(310));cn=t,t={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},mn===null?zt.memoizedState=mn=t:mn=mn.next=t}return mn}function Wa(t,e){return typeof e=="function"?e(t):e}function ff(t){var e=gr(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=cn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((gs&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,zt.lanes|=f,ms|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,kr(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,zt.lanes|=s,ms|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hf(t){var e=gr(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kr(s,e.memoizedState)||(Gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Nw(){}function Lw(t,e){var n=zt,r=gr(),i=e(),s=!kr(r.memoizedState,i);if(s&&(r.memoizedState=i,Gn=!0),r=r.queue,Fg(Zw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mn!==null&&mn.memoizedState.tag&1){if(n.flags|=2048,Za(9,Ww.bind(null,n,r,i,e),void 0,null),yn===null)throw Error(Oe(349));gs&30||Mw(n,e,i)}return i}function Mw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ww(t,e,n,r){e.value=n,e.getSnapshot=r,Ow(e)&&Dw(t)}function Zw(t,e,n){return n(function(){Ow(e)&&Dw(t)})}function Ow(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function Dw(t){var e=ui(t,1);e!==null&&Fr(e,t,1,-1)}function M0(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:t},e.queue=t,t=t.dispatch=Q6.bind(null,zt,t),[e.memoizedState,t]}function Za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=zt.updateQueue,e===null?(e={lastEffect:null,stores:null},zt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uw(){return gr().memoizedState}function ec(t,e,n,r){var i=Mr();zt.flags|=t,i.memoizedState=Za(1|e,n,void 0,r===void 0?null:r)}function au(t,e,n,r){var i=gr();r=r===void 0?null:r;var s=void 0;if(cn!==null){var o=cn.memoizedState;if(s=o.destroy,r!==null&&Eg(r,o.deps)){i.memoizedState=Za(e,n,s,r);return}}zt.flags|=t,i.memoizedState=Za(1|e,n,s,r)}function W0(t,e){return ec(8390656,8,t,e)}function Fg(t,e){return au(2048,8,t,e)}function Pw(t,e){return au(4,2,t,e)}function Gw(t,e){return au(4,4,t,e)}function Vw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jw(t,e,n){return n=n!=null?n.concat([t]):null,au(4,4,Vw.bind(null,e,t),n)}function kg(){}function $w(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zw(t,e){var n=gr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yw(t,e,n){return gs&21?(kr(n,e)||(n=q2(),zt.lanes|=n,ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function H6(t,e){var n=Tt;Tt=n!==0&&4>n?n:4,t(!0);var r=df.transition;df.transition={};try{t(!1),e()}finally{Tt=n,df.transition=r}}function Xw(){return gr().memoizedState}function q6(t,e,n){var r=Li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jw(t))Kw(e,n);else if(n=kw(t,e,n,r),n!==null){var i=On();Fr(n,t,r,i),Hw(n,e,r)}}function Q6(t,e,n){var r=Li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jw(t))Kw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kr(a,o)){var l=e.interleaved;l===null?(i.next=i,bg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kw(t,e,i,r),n!==null&&(i=On(),Fr(n,t,r,i),Hw(n,e,r))}}function Jw(t){var e=t.alternate;return t===zt||e!==null&&e===zt}function Kw(t,e){pa=Fc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ag(t,n)}}var kc={readContext:pr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},e5={readContext:pr,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:W0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ec(4194308,4,Vw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ec(4194308,4,t,e)},useInsertionEffect:function(t,e){return ec(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=q6.bind(null,zt,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:M0,useDebugValue:kg,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=M0(!1),e=t[0];return t=H6.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=zt,i=Mr();if(Gt){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),yn===null)throw Error(Oe(349));gs&30||Mw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,W0(Zw.bind(null,r,s,t),[t]),r.flags|=2048,Za(9,Ww.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Mr(),e=yn.identifierPrefix;if(Gt){var n=ni,r=ti;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},t5={readContext:pr,useCallback:$w,useContext:pr,useEffect:Fg,useImperativeHandle:jw,useInsertionEffect:Pw,useLayoutEffect:Gw,useMemo:zw,useReducer:ff,useRef:Uw,useState:function(){return ff(Wa)},useDebugValue:kg,useDeferredValue:function(t){var e=gr();return Yw(e,cn.memoizedState,t)},useTransition:function(){var t=ff(Wa)[0],e=gr().memoizedState;return[t,e]},useMutableSource:Nw,useSyncExternalStore:Lw,useId:Xw,unstable_isNewReconciler:!1},n5={readContext:pr,useCallback:$w,useContext:pr,useEffect:Fg,useImperativeHandle:jw,useInsertionEffect:Pw,useLayoutEffect:Gw,useMemo:zw,useReducer:hf,useRef:Uw,useState:function(){return hf(Wa)},useDebugValue:kg,useDeferredValue:function(t){var e=gr();return cn===null?e.memoizedState=t:Yw(e,cn.memoizedState,t)},useTransition:function(){var t=hf(Wa)[0],e=gr().memoizedState;return[t,e]},useMutableSource:Nw,useSyncExternalStore:Lw,useId:Xw,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lu={isMounted:function(t){return(t=t._reactInternals)?Cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=Li(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Fr(e,t,i,r),ql(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=Li(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ti(t,s,i),e!==null&&(Fr(e,t,i,r),ql(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=Li(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(Fr(e,t,r,n),ql(e,t,r))}};function Z0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fa(n,r)||!Fa(i,s):!0}function qw(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=jn(e)?hs:Tn.current,r=e.contextTypes,s=(r=r!=null)?fo(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lu.enqueueReplaceState(e,e.state,null)}function Jh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ag(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=jn(e)?hs:Tn.current,i.context=fo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lu.enqueueReplaceState(i,i.state,null),Sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function mo(t,e){try{var n="",r=e;do n+=k3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var r5=typeof WeakMap=="function"?WeakMap:Map;function Qw(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tc||(Tc=!0,op=r),Kh(t,e)},n}function ev(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Kh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Kh(t,e),typeof r!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new r5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=y5.bind(null,t,e,n),e.then(t,t))}function U0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var i5=gi.ReactCurrentOwner,Gn=!1;function Mn(t,e,n,r){e.child=t===null?Fw(e,null,n,r):po(e,t.child,n,r)}function G0(t,e,n,r,i){n=n.render;var s=e.ref;return ro(e,i),r=Sg(t,e,n,r,s,i),n=Rg(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Gt&&n&&gg(e),e.flags|=1,Mn(t,e,r,i),e.child)}function V0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Og(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tv(t,e,s,r,i)):(t=ic(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fa,n(o,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=Mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function tv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fa(s,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,di(t,e,i)}return Hh(t,e,n,r,i)}function nv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(Hs,Jn),Jn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(Hs,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Dt(Hs,Jn),Jn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Dt(Hs,Jn),Jn|=r;return Mn(t,e,i,n),e.child}function rv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hh(t,e,n,r,i){var s=jn(n)?hs:Tn.current;return s=fo(e,s),ro(e,i),n=Sg(t,e,n,r,s,i),r=Rg(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Gt&&r&&gg(e),e.flags|=1,Mn(t,e,n,i),e.child)}function j0(t,e,n,r,i){if(jn(n)){var s=!0;Ac(e)}else s=!1;if(ro(e,i),e.stateNode===null)tc(t,e),qw(e,n,r),Jh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=jn(n)?hs:Tn.current,c=fo(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&O0(e,o,r,c),bi=!1;var v=e.memoizedState;o.state=v,Sc(e,r,o,i),l=e.memoizedState,a!==r||v!==l||Vn.current||bi?(typeof f=="function"&&(Xh(e,n,f,r),l=e.memoizedState),(a=bi||Z0(e,n,a,r,v,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xr(e.type,a),o.props=c,h=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=jn(n)?hs:Tn.current,l=fo(e,l));var I=n.getDerivedStateFromProps;(f=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||v!==l)&&O0(e,o,r,l),bi=!1,v=e.memoizedState,o.state=v,Sc(e,r,o,i);var S=e.memoizedState;a!==h||v!==S||Vn.current||bi?(typeof I=="function"&&(Xh(e,n,I,r),S=e.memoizedState),(c=bi||Z0(e,n,c,r,v,S,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return qh(t,e,n,r,s,i)}function qh(t,e,n,r,i,s){rv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&F0(e,n,!1),di(t,e,s);r=e.stateNode,i5.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=po(e,t.child,null,s),e.child=po(e,null,a,s)):Mn(t,e,a,s),e.memoizedState=r.state,i&&F0(e,n,!0),e.child}function iv(t){var e=t.stateNode;e.pendingContext?R0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R0(t,e.context,!1),Ig(t,e.containerInfo)}function $0(t,e,n,r,i){return ho(),yg(i),e.flags|=256,Mn(t,e,n,r),e.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function ep(t){return{baseLanes:t,cachePool:null,transitions:null}}function sv(t,e,n){var r=e.pendingProps,i=$t.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dt($t,i&1),t===null)return zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=du(o,r,0,null),t=ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ep(n),e.memoizedState=Qh,t):Bg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return s5(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Mi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Mi(a,s):(s=ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ep(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qh,r}return s=t.child,t=s.sibling,r=Mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bg(t,e){return e=du({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kl(t,e,n,r){return r!==null&&yg(r),po(e,t.child,null,n),t=Bg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function s5(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pf(Error(Oe(422))),kl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=du({mode:"visible",children:r.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&po(e,t.child,null,o),e.child.memoizedState=ep(o),e.memoizedState=Qh,s);if(!(e.mode&1))return kl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=pf(s,r,void 0),kl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gn||a){if(r=yn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ui(t,i),Fr(r,t,i,-1))}return Zg(),r=pf(Error(Oe(421))),kl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w5.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Hn=Bi(i.nextSibling),Qn=e,Gt=!0,_r=null,t!==null&&(cr[ur++]=ti,cr[ur++]=ni,cr[ur++]=ps,ti=t.id,ni=t.overflow,ps=e),e=Bg(e,r.children),e.flags|=4096,e)}function z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yh(t.return,e,n)}function gf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ov(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mn(t,e,r.children,n),r=$t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z0(t,n,e);else if(t.tag===19)z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dt($t,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),gf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}gf(e,!0,n,null,s);break;case"together":gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o5(t,e,n){switch(e.tag){case 3:iv(e),ho();break;case 5:Tw(e);break;case 1:jn(e.type)&&Ac(e);break;case 4:Ig(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dt(_c,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dt($t,$t.current&1),e.flags|=128,null):n&e.child.childLanes?sv(t,e,n):(Dt($t,$t.current&1),t=di(t,e,n),t!==null?t.sibling:null);Dt($t,$t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ov(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dt($t,$t.current),r)break;return null;case 22:case 23:return e.lanes=0,nv(t,e,n)}return di(t,e,n)}var av,tp,lv,cv;av=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tp=function(){};lv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rs(Pr.current);var s=null;switch(n){case"input":i=Ih(t,i),r=Ih(t,r),s=[];break;case"select":i=Yt({},i,{value:void 0}),r=Yt({},r,{value:void 0}),s=[];break;case"textarea":i=Eh(t,i),r=Eh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}Rh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Aa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Aa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};cv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function a5(t,e,n){var r=e.pendingProps;switch(mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return jn(e.type)&&bc(),_n(e),null;case 3:return r=e.stateNode,go(),Pt(Vn),Pt(Tn),_g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(cp(_r),_r=null))),tp(t,e),_n(e),null;case 5:Cg(e);var i=rs(La.current);if(n=e.type,t!==null&&e.stateNode!=null)lv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return _n(e),null}if(t=rs(Pr.current),Rl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[Ta]=s,t=(e.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(i=0;i<sa.length;i++)Ut(sa[i],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":t0(r,s),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",r);break;case"textarea":r0(r,s),Ut("invalid",r)}Rh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",""+a]):Aa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ut("scroll",r)}switch(n){case"input":vl(r),n0(r,s,!0);break;case"textarea":vl(r),i0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Z2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[Ta]=r,av(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fh(n,r),n){case"dialog":Ut("cancel",t),Ut("close",t),i=r;break;case"iframe":case"object":case"embed":Ut("load",t),i=r;break;case"video":case"audio":for(i=0;i<sa.length;i++)Ut(sa[i],t);i=r;break;case"source":Ut("error",t),i=r;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),i=r;break;case"details":Ut("toggle",t),i=r;break;case"input":t0(t,r),i=Ih(t,r),Ut("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yt({},r,{value:void 0}),Ut("invalid",t);break;case"textarea":r0(t,r),i=Eh(t,r),Ut("invalid",t);break;default:i=r}Rh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?U2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ia(t,l):typeof l=="number"&&Ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Aa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ut("scroll",t):l!=null&&tg(t,s,l,o))}switch(n){case"input":vl(t),n0(t,r,!1);break;case"textarea":vl(t),i0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Oi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)cv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=rs(La.current),rs(Pr.current),Rl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return _n(e),null;case 13:if(Pt($t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&Hn!==null&&e.mode&1&&!(e.flags&128))Sw(),ho(),e.flags|=98560,s=!1;else if(s=Rl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[Or]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),s=!1}else _r!==null&&(cp(_r),_r=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$t.current&1?un===0&&(un=3):Zg())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return go(),tp(t,e),t===null&&ka(e.stateNode.containerInfo),_n(e),null;case 10:return xg(e.type._context),_n(e),null;case 17:return jn(e.type)&&bc(),_n(e),null;case 19:if(Pt($t),s=e.memoizedState,s===null)return _n(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Do(s,!1);else{if(un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rc(t),o!==null){for(e.flags|=128,Do(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dt($t,$t.current&1|2),e.child}t=t.sibling}s.tail!==null&&qt()>yo&&(e.flags|=128,r=!0,Do(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return _n(e),null}else 2*qt()-s.renderingStartTime>yo&&n!==1073741824&&(e.flags|=128,r=!0,Do(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qt(),e.sibling=null,n=$t.current,Dt($t,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return Wg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function l5(t,e){switch(mg(e),e.tag){case 1:return jn(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),Pt(Vn),Pt(Tn),_g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cg(e),null;case 13:if(Pt($t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pt($t),null;case 4:return go(),null;case 10:return xg(e.type._context),null;case 22:case 23:return Wg(),null;case 24:return null;default:return null}}var Bl=!1,Fn=!1,c5=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jt(t,e,r)}else n.current=null}function np(t,e,n){try{n()}catch(r){Jt(t,e,r)}}var Y0=!1;function u5(t,e){if(Dh=yc,t=pw(),pg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,h=t,v=null;t:for(;;){for(var I;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(I=h.firstChild)!==null;)v=h,h=I;for(;;){if(h===t)break t;if(v===n&&++c===i&&(a=o),v===s&&++f===r&&(l=o),(I=h.nextSibling)!==null)break;h=v,v=h.parentNode}h=I}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uh={focusedElem:t,selectionRange:n},yc=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var M=S.memoizedProps,F=S.memoizedState,E=e.stateNode,m=E.getSnapshotBeforeUpdate(e.elementType===e.type?M:xr(e.type,M),F);E.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(G){Jt(e,e.return,G)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return S=Y0,Y0=!1,S}function ga(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&np(e,n,s)}i=i.next}while(i!==r)}}function cu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uv(t){var e=t.alternate;e!==null&&(t.alternate=null,uv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[Ta],delete e[Vh],delete e[z6],delete e[Y6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dv(t){return t.tag===5||t.tag===3||t.tag===4}function X0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(ip(t,e,n),t=t.sibling;t!==null;)ip(t,e,n),t=t.sibling}function sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sp(t,e,n),t=t.sibling;t!==null;)sp(t,e,n),t=t.sibling}var xn=null,Ir=!1;function yi(t,e,n){for(n=n.child;n!==null;)fv(t,e,n),n=n.sibling}function fv(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(tu,n)}catch{}switch(n.tag){case 5:Fn||Ks(n,e);case 6:var r=xn,i=Ir;xn=null,yi(t,e,n),xn=r,Ir=i,xn!==null&&(Ir?(t=xn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xn.removeChild(n.stateNode));break;case 18:xn!==null&&(Ir?(t=xn,n=n.stateNode,t.nodeType===8?lf(t.parentNode,n):t.nodeType===1&&lf(t,n),Sa(t)):lf(xn,n.stateNode));break;case 4:r=xn,i=Ir,xn=n.stateNode.containerInfo,Ir=!0,yi(t,e,n),xn=r,Ir=i;break;case 0:case 11:case 14:case 15:if(!Fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&np(n,e,o),i=i.next}while(i!==r)}yi(t,e,n);break;case 1:if(!Fn&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Jt(n,e,a)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Fn=(r=Fn)||n.memoizedState!==null,yi(t,e,n),Fn=r):yi(t,e,n);break;default:yi(t,e,n)}}function J0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new c5),e.forEach(function(r){var i=v5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xn=a.stateNode,Ir=!1;break e;case 3:xn=a.stateNode.containerInfo,Ir=!0;break e;case 4:xn=a.stateNode.containerInfo,Ir=!0;break e}a=a.return}if(xn===null)throw Error(Oe(160));fv(s,o,i),xn=null,Ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Jt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hv(e,t),e=e.sibling}function hv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Tr(t),r&4){try{ga(3,t,t.return),cu(3,t)}catch(M){Jt(t,t.return,M)}try{ga(5,t,t.return)}catch(M){Jt(t,t.return,M)}}break;case 1:vr(e,t),Tr(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(vr(e,t),Tr(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var i=t.stateNode;try{Ia(i,"")}catch(M){Jt(t,t.return,M)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&M2(i,s),Fh(a,o);var c=Fh(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?U2(i,h):f==="dangerouslySetInnerHTML"?O2(i,h):f==="children"?Ia(i,h):tg(i,f,h,c)}switch(a){case"input":Ch(i,s);break;case"textarea":W2(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?Qs(i,!!s.multiple,I,!1):v!==!!s.multiple&&(s.defaultValue!=null?Qs(i,!!s.multiple,s.defaultValue,!0):Qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ta]=s}catch(M){Jt(t,t.return,M)}}break;case 6:if(vr(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(M){Jt(t,t.return,M)}}break;case 3:if(vr(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sa(e.containerInfo)}catch(M){Jt(t,t.return,M)}break;case 4:vr(e,t),Tr(t);break;case 13:vr(e,t),Tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lg=qt())),r&4&&J0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Fn=(c=Fn)||f,vr(e,t),Fn=c):vr(e,t),Tr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(qe=t,f=t.child;f!==null;){for(h=qe=f;qe!==null;){switch(v=qe,I=v.child,v.tag){case 0:case 11:case 14:case 15:ga(4,v,v.return);break;case 1:Ks(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(M){Jt(r,n,M)}}break;case 5:Ks(v,v.return);break;case 22:if(v.memoizedState!==null){H0(h);continue}}I!==null?(I.return=v,qe=I):H0(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=D2("display",o))}catch(M){Jt(t,t.return,M)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(M){Jt(t,t.return,M)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vr(e,t),Tr(t),r&4&&J0(t);break;case 21:break;default:vr(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dv(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ia(i,""),r.flags&=-33);var s=X0(t);sp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=X0(t);ip(t,a,o);break;default:throw Error(Oe(161))}}catch(l){Jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function d5(t,e,n){qe=t,pv(t)}function pv(t,e,n){for(var r=(t.mode&1)!==0;qe!==null;){var i=qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Fn;a=Bl;var c=Fn;if(Bl=o,(Fn=l)&&!c)for(qe=i;qe!==null;)o=qe,l=o.child,o.tag===22&&o.memoizedState!==null?q0(i):l!==null?(l.return=o,qe=l):q0(i);for(;s!==null;)qe=s,pv(s),s=s.sibling;qe=i,Bl=a,Fn=c}K0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,qe=s):K0(t)}}function K0(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fn||cu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&L0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}L0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Sa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Fn||e.flags&512&&rp(e)}catch(v){Jt(e,e.return,v)}}if(e===t){qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}}function H0(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qe=n;break}qe=e.return}}function q0(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cu(4,e)}catch(l){Jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Jt(e,i,l)}}var s=e.return;try{rp(e)}catch(l){Jt(e,s,l)}break;case 5:var o=e.return;try{rp(e)}catch(l){Jt(e,o,l)}}}catch(l){Jt(e,e.return,l)}if(e===t){qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qe=a;break}qe=e.return}}var f5=Math.ceil,Bc=gi.ReactCurrentDispatcher,Tg=gi.ReactCurrentOwner,hr=gi.ReactCurrentBatchConfig,Ft=0,yn=null,sn=null,An=0,Jn=0,Hs=zi(0),un=0,Oa=null,ms=0,uu=0,Ng=0,ma=null,Pn=null,Lg=0,yo=1/0,qr=null,Tc=!1,op=null,Ni=null,Tl=!1,Ei=null,Nc=0,ya=0,ap=null,nc=-1,rc=0;function On(){return Ft&6?qt():nc!==-1?nc:nc=qt()}function Li(t){return t.mode&1?Ft&2&&An!==0?An&-An:J6.transition!==null?(rc===0&&(rc=q2()),rc):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:sw(t.type)),t):1}function Fr(t,e,n,r){if(50<ya)throw ya=0,ap=null,Error(Oe(185));Ha(t,n,r),(!(Ft&2)||t!==yn)&&(t===yn&&(!(Ft&2)&&(uu|=n),un===4&&Ci(t,An)),$n(t,r),n===1&&Ft===0&&!(e.mode&1)&&(yo=qt()+500,ou&&Yi()))}function $n(t,e){var n=t.callbackNode;J3(t,e);var r=mc(t,t===yn?An:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?X6(Q0.bind(null,t)):Cw(Q0.bind(null,t)),j6(function(){!(Ft&6)&&Yi()}),n=null;else{switch(Q2(r)){case 1:n=og;break;case 4:n=K2;break;case 16:n=gc;break;case 536870912:n=H2;break;default:n=gc}n=Av(n,gv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gv(t,e){if(nc=-1,rc=0,Ft&6)throw Error(Oe(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=mc(t,t===yn?An:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lc(t,r);else{e=r;var i=Ft;Ft|=2;var s=yv();(yn!==t||An!==e)&&(qr=null,yo=qt()+500,as(t,e));do try{g5();break}catch(a){mv(t,a)}while(!0);vg(),Bc.current=s,Ft=i,sn!==null?e=0:(yn=null,An=0,e=un)}if(e!==0){if(e===2&&(i=Lh(t),i!==0&&(r=i,e=lp(t,i))),e===1)throw n=Oa,as(t,0),Ci(t,r),$n(t,qt()),n;if(e===6)Ci(t,r);else{if(i=t.current.alternate,!(r&30)&&!h5(i)&&(e=Lc(t,r),e===2&&(s=Lh(t),s!==0&&(r=s,e=lp(t,s))),e===1))throw n=Oa,as(t,0),Ci(t,r),$n(t,qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:qi(t,Pn,qr);break;case 3:if(Ci(t,r),(r&130023424)===r&&(e=Lg+500-qt(),10<e)){if(mc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gh(qi.bind(null,t,Pn,qr),e);break}qi(t,Pn,qr);break;case 4:if(Ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f5(r/1960))-r,10<r){t.timeoutHandle=Gh(qi.bind(null,t,Pn,qr),r);break}qi(t,Pn,qr);break;case 5:qi(t,Pn,qr);break;default:throw Error(Oe(329))}}}return $n(t,qt()),t.callbackNode===n?gv.bind(null,t):null}function lp(t,e){var n=ma;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=Lc(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&cp(e)),t}function cp(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function h5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e){for(e&=~Ng,e&=~uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function Q0(t){if(Ft&6)throw Error(Oe(327));io();var e=mc(t,0);if(!(e&1))return $n(t,qt()),null;var n=Lc(t,e);if(t.tag!==0&&n===2){var r=Lh(t);r!==0&&(e=r,n=lp(t,r))}if(n===1)throw n=Oa,as(t,0),Ci(t,e),$n(t,qt()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,Pn,qr),$n(t,qt()),null}function Mg(t,e){var n=Ft;Ft|=1;try{return t(e)}finally{Ft=n,Ft===0&&(yo=qt()+500,ou&&Yi())}}function ys(t){Ei!==null&&Ei.tag===0&&!(Ft&6)&&io();var e=Ft;Ft|=1;var n=hr.transition,r=Tt;try{if(hr.transition=null,Tt=1,t)return t()}finally{Tt=r,hr.transition=n,Ft=e,!(Ft&6)&&Yi()}}function Wg(){Jn=Hs.current,Pt(Hs)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,V6(n)),sn!==null)for(n=sn.return;n!==null;){var r=n;switch(mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:go(),Pt(Vn),Pt(Tn),_g();break;case 5:Cg(r);break;case 4:go();break;case 13:Pt($t);break;case 19:Pt($t);break;case 10:xg(r.type._context);break;case 22:case 23:Wg()}n=n.return}if(yn=t,sn=t=Mi(t.current,null),An=Jn=e,un=0,Oa=null,Ng=uu=ms=0,Pn=ma=null,ns!==null){for(e=0;e<ns.length;e++)if(n=ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ns=null}return t}function mv(t,e){do{var n=sn;try{if(vg(),Ql.current=kc,Fc){for(var r=zt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fc=!1}if(gs=0,mn=cn=zt=null,pa=!1,Ma=0,Tg.current=null,n===null||n.return===null){un=1,Oa=e,sn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=An,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var v=f.alternate;v?(f.updateQueue=v.updateQueue,f.memoizedState=v.memoizedState,f.lanes=v.lanes):(f.updateQueue=null,f.memoizedState=null)}var I=U0(o);if(I!==null){I.flags&=-257,P0(I,o,a,s,e),I.mode&1&&D0(s,c,e),e=I,l=c;var S=e.updateQueue;if(S===null){var M=new Set;M.add(l),e.updateQueue=M}else S.add(l);break e}else{if(!(e&1)){D0(s,c,e),Zg();break e}l=Error(Oe(426))}}else if(Gt&&a.mode&1){var F=U0(o);if(F!==null){!(F.flags&65536)&&(F.flags|=256),P0(F,o,a,s,e),yg(mo(l,a));break e}}s=l=mo(l,a),un!==4&&(un=2),ma===null?ma=[s]:ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Qw(s,l,e);N0(s,E);break e;case 1:a=l;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ni===null||!Ni.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var G=ev(s,a,e);N0(s,G);break e}}s=s.return}while(s!==null)}vv(n)}catch(Z){e=Z,sn===n&&n!==null&&(sn=n=n.return);continue}break}while(!0)}function yv(){var t=Bc.current;return Bc.current=kc,t===null?kc:t}function Zg(){(un===0||un===3||un===2)&&(un=4),yn===null||!(ms&268435455)&&!(uu&268435455)||Ci(yn,An)}function Lc(t,e){var n=Ft;Ft|=2;var r=yv();(yn!==t||An!==e)&&(qr=null,as(t,e));do try{p5();break}catch(i){mv(t,i)}while(!0);if(vg(),Ft=n,Bc.current=r,sn!==null)throw Error(Oe(261));return yn=null,An=0,un}function p5(){for(;sn!==null;)wv(sn)}function g5(){for(;sn!==null&&!U3();)wv(sn)}function wv(t){var e=bv(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?vv(t):sn=e,Tg.current=null}function vv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=l5(n,e),n!==null){n.flags&=32767,sn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{un=6,sn=null;return}}else if(n=a5(n,e,Jn),n!==null){sn=n;return}if(e=e.sibling,e!==null){sn=e;return}sn=e=t}while(e!==null);un===0&&(un=5)}function qi(t,e,n){var r=Tt,i=hr.transition;try{hr.transition=null,Tt=1,m5(t,e,n,r)}finally{hr.transition=i,Tt=r}return null}function m5(t,e,n,r){do io();while(Ei!==null);if(Ft&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(K3(t,s),t===yn&&(sn=yn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tl||(Tl=!0,Av(gc,function(){return io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var o=Tt;Tt=1;var a=Ft;Ft|=4,Tg.current=null,u5(t,n),hv(n,t),W6(Uh),yc=!!Dh,Uh=Dh=null,t.current=n,d5(n),P3(),Ft=a,Tt=o,hr.transition=s}else t.current=n;if(Tl&&(Tl=!1,Ei=t,Nc=i),s=t.pendingLanes,s===0&&(Ni=null),j3(n.stateNode),$n(t,qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tc)throw Tc=!1,t=op,op=null,t;return Nc&1&&t.tag!==0&&io(),s=t.pendingLanes,s&1?t===ap?ya++:(ya=0,ap=t):ya=0,Yi(),null}function io(){if(Ei!==null){var t=Q2(Nc),e=hr.transition,n=Tt;try{if(hr.transition=null,Tt=16>t?16:t,Ei===null)var r=!1;else{if(t=Ei,Ei=null,Nc=0,Ft&6)throw Error(Oe(331));var i=Ft;for(Ft|=4,qe=t.current;qe!==null;){var s=qe,o=s.child;if(qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(qe=c;qe!==null;){var f=qe;switch(f.tag){case 0:case 11:case 15:ga(8,f,s)}var h=f.child;if(h!==null)h.return=f,qe=h;else for(;qe!==null;){f=qe;var v=f.sibling,I=f.return;if(uv(f),f===c){qe=null;break}if(v!==null){v.return=I,qe=v;break}qe=I}}}var S=s.alternate;if(S!==null){var M=S.child;if(M!==null){S.child=null;do{var F=M.sibling;M.sibling=null,M=F}while(M!==null)}}qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,qe=o;else e:for(;qe!==null;){if(s=qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ga(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,qe=E;break e}qe=s.return}}var m=t.current;for(qe=m;qe!==null;){o=qe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,qe=x;else e:for(o=m;qe!==null;){if(a=qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cu(9,a)}}catch(Z){Jt(a,a.return,Z)}if(a===o){qe=null;break e}var G=a.sibling;if(G!==null){G.return=a.return,qe=G;break e}qe=a.return}}if(Ft=i,Yi(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(tu,t)}catch{}r=!0}return r}finally{Tt=n,hr.transition=e}}return!1}function e1(t,e,n){e=mo(n,e),e=Qw(t,e,1),t=Ti(t,e,1),e=On(),t!==null&&(Ha(t,1,e),$n(t,e))}function Jt(t,e,n){if(t.tag===3)e1(t,t,n);else for(;e!==null;){if(e.tag===3){e1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){t=mo(n,t),t=ev(e,t,1),e=Ti(e,t,1),t=On(),e!==null&&(Ha(e,1,t),$n(e,t));break}}e=e.return}}function y5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,yn===t&&(An&n)===n&&(un===4||un===3&&(An&130023424)===An&&500>qt()-Lg?as(t,0):Ng|=n),$n(t,e)}function xv(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=On();t=ui(t,e),t!==null&&(Ha(t,e,n),$n(t,n))}function w5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xv(t,n)}function v5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),xv(t,n)}var bv;bv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,o5(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,Gt&&e.flags&1048576&&_w(e,Cc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tc(t,e),t=e.pendingProps;var i=fo(e,Tn.current);ro(e,n),i=Sg(null,e,r,t,i,n);var s=Rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jn(r)?(s=!0,Ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ag(e),i.updater=lu,e.stateNode=i,i._reactInternals=e,Jh(e,r,t,n),e=qh(null,e,r,!0,s,n)):(e.tag=0,Gt&&s&&gg(e),Mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=b5(r),t=xr(r,t),i){case 0:e=Hh(null,e,r,t,n);break e;case 1:e=j0(null,e,r,t,n);break e;case 11:e=G0(null,e,r,t,n);break e;case 14:e=V0(null,e,r,xr(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),Hh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),j0(t,e,r,i,n);case 3:e:{if(iv(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bw(t,e),Sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=mo(Error(Oe(423)),e),e=$0(t,e,r,n,i);break e}else if(r!==i){i=mo(Error(Oe(424)),e),e=$0(t,e,r,n,i);break e}else for(Hn=Bi(e.stateNode.containerInfo.firstChild),Qn=e,Gt=!0,_r=null,n=Fw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===i){e=di(t,e,n);break e}Mn(t,e,r,n)}e=e.child}return e;case 5:return Tw(e),t===null&&zh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ph(r,i)?o=null:s!==null&&Ph(r,s)&&(e.flags|=32),rv(t,e),Mn(t,e,o,n),e.child;case 6:return t===null&&zh(e),null;case 13:return sv(t,e,n);case 4:return Ig(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=po(e,null,r,n):Mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),G0(t,e,r,i,n);case 7:return Mn(t,e,e.pendingProps,n),e.child;case 8:return Mn(t,e,e.pendingProps.children,n),e.child;case 12:return Mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Dt(_c,r._currentValue),r._currentValue=o,s!==null)if(kr(s.value,o)){if(s.children===i.children&&!Vn.current){e=di(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ri(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Yh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ro(e,n),i=pr(i),r=r(i),e.flags|=1,Mn(t,e,r,n),e.child;case 14:return r=e.type,i=xr(r,e.pendingProps),i=xr(r.type,i),V0(t,e,r,i,n);case 15:return tv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),tc(t,e),e.tag=1,jn(r)?(t=!0,Ac(e)):t=!1,ro(e,n),qw(e,r,i),Jh(e,r,i,n),qh(null,e,r,!0,t,n);case 19:return ov(t,e,n);case 22:return nv(t,e,n)}throw Error(Oe(156,e.tag))};function Av(t,e){return J2(t,e)}function x5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,e,n,r){return new x5(t,e,n,r)}function Og(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b5(t){if(typeof t=="function")return Og(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rg)return 11;if(t===ig)return 14}return 2}function Mi(t,e){var n=t.alternate;return n===null?(n=dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ic(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Og(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return ls(n.children,i,s,e);case ng:o=8,i|=8;break;case vh:return t=dr(12,n,e,i|2),t.elementType=vh,t.lanes=s,t;case xh:return t=dr(13,n,e,i),t.elementType=xh,t.lanes=s,t;case bh:return t=dr(19,n,e,i),t.elementType=bh,t.lanes=s,t;case T2:return du(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k2:o=10;break e;case B2:o=9;break e;case rg:o=11;break e;case ig:o=14;break e;case xi:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=dr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ls(t,e,n,r){return t=dr(7,t,r,e),t.lanes=n,t}function du(t,e,n,r){return t=dr(22,t,r,e),t.elementType=T2,t.lanes=n,t.stateNode={isHidden:!1},t}function mf(t,e,n){return t=dr(6,t,null,e),t.lanes=n,t}function yf(t,e,n){return e=dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kd(0),this.expirationTimes=Kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dg(t,e,n,r,i,s,o,a,l){return t=new A5(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ag(s),t}function I5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Iv(t){if(!t)return Di;t=t._reactInternals;e:{if(Cs(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(jn(n))return Iw(t,n,e)}return e}function Cv(t,e,n,r,i,s,o,a,l){return t=Dg(n,r,!0,t,i,s,o,a,l),t.context=Iv(null),n=t.current,r=On(),i=Li(n),s=ri(r,i),s.callback=e??null,Ti(n,s,i),t.current.lanes=i,Ha(t,i,r),$n(t,r),t}function fu(t,e,n,r){var i=e.current,s=On(),o=Li(i);return n=Iv(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,o),t!==null&&(Fr(t,i,o,s),ql(t,i,o)),o}function Mc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ug(t,e){t1(t,e),(t=t.alternate)&&t1(t,e)}var _v=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pg(t){this._internalRoot=t}hu.prototype.render=Pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));fu(t,e,null,null)};hu.prototype.unmount=Pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){fu(null,t,null,null)}),e[ci]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=nw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&iw(t)}};function Gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n1(){}function C5(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Mc(o);s.call(c)}}var o=Cv(e,r,t,0,null,!1,!1,"",n1);return t._reactRootContainer=o,t[ci]=o.current,ka(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mc(l);a.call(c)}}var l=Dg(t,0,!1,null,null,!1,!1,"",n1);return t._reactRootContainer=l,t[ci]=l.current,ka(t.nodeType===8?t.parentNode:t),ys(function(){fu(e,l,n,r)}),l}function gu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Mc(o);a.call(l)}}fu(e,o,t,i)}else o=C5(n,e,t,i,r);return Mc(o)}ew=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ia(e.pendingLanes);n!==0&&(ag(e,n|1),$n(e,qt()),!(Ft&6)&&(yo=qt()+500,Yi()))}break;case 13:ys(function(){var r=ui(t,1);if(r!==null){var i=On();Fr(r,t,1,i)}}),Ug(t,1)}};lg=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=On();Fr(e,t,134217728,n)}Ug(t,134217728)}};tw=function(t){if(t.tag===13){var e=Li(t),n=ui(t,e);if(n!==null){var r=On();Fr(n,t,e,r)}Ug(t,e)}};nw=function(){return Tt};rw=function(t,e){var n=Tt;try{return Tt=t,e()}finally{Tt=n}};Bh=function(t,e,n){switch(e){case"input":if(Ch(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=su(r);if(!i)throw Error(Oe(90));L2(r),Ch(r,i)}}}break;case"textarea":W2(t,n);break;case"select":e=n.value,e!=null&&Qs(t,!!n.multiple,e,!1)}};V2=Mg;j2=ys;var _5={usingClientEntryPoint:!1,Events:[Qa,$s,su,P2,G2,Mg]},Uo={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E5={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y2(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{tu=Nl.inject(E5),Ur=Nl}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_5;nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gg(e))throw Error(Oe(200));return I5(t,e,null,n)};nr.createRoot=function(t,e){if(!Gg(t))throw Error(Oe(299));var n=!1,r="",i=_v;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dg(t,1,!1,null,null,n,!1,r,i),t[ci]=e.current,ka(t.nodeType===8?t.parentNode:t),new Pg(e)};nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=Y2(e),t=t===null?null:t.stateNode,t};nr.flushSync=function(t){return ys(t)};nr.hydrate=function(t,e,n){if(!pu(e))throw Error(Oe(200));return gu(null,t,e,!0,n)};nr.hydrateRoot=function(t,e,n){if(!Gg(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_v;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Cv(e,null,t,1,n??null,i,!1,s,o),t[ci]=e.current,ka(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hu(e)};nr.render=function(t,e,n){if(!pu(e))throw Error(Oe(200));return gu(null,t,e,!1,n)};nr.unmountComponentAtNode=function(t){if(!pu(t))throw Error(Oe(40));return t._reactRootContainer?(ys(function(){gu(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};nr.unstable_batchedUpdates=Mg;nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pu(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return gu(t,e,n,!1,r)};nr.version="18.3.1-next-f1338f8080-20240426";function Ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ev)}catch(t){console.error(t)}}Ev(),E2.exports=nr;var S5=E2.exports,r1=S5;yh.createRoot=r1.createRoot,yh.hydrateRoot=r1.hydrateRoot;var Sv={exports:{}},Rv={},Fv={exports:{}},kv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Ct;function R5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var F5=typeof Object.is=="function"?Object.is:R5,k5=wo.useState,B5=wo.useEffect,T5=wo.useLayoutEffect,N5=wo.useDebugValue;function L5(t,e){var n=e(),r=k5({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return T5(function(){i.value=n,i.getSnapshot=e,wf(i)&&s({inst:i})},[t,n,e]),B5(function(){return wf(i)&&s({inst:i}),t(function(){wf(i)&&s({inst:i})})},[t]),N5(n),n}function wf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!F5(t,n)}catch{return!0}}function M5(t,e){return e()}var W5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M5:L5;kv.useSyncExternalStore=wo.useSyncExternalStore!==void 0?wo.useSyncExternalStore:W5;Fv.exports=kv;var Z5=Fv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Ct,O5=Z5;function D5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var U5=typeof Object.is=="function"?Object.is:D5,P5=O5.useSyncExternalStore,G5=mu.useRef,V5=mu.useEffect,j5=mu.useMemo,$5=mu.useDebugValue;Rv.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=G5(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=j5(function(){function l(I){if(!c){if(c=!0,f=I,I=r(I),i!==void 0&&o.hasValue){var S=o.value;if(i(S,I))return h=S}return h=I}if(S=h,U5(f,I))return S;var M=r(I);return i!==void 0&&i(S,M)?(f=I,S):(f=I,h=M)}var c=!1,f,h,v=n===void 0?null:n;return[function(){return l(e())},v===null?void 0:function(){return l(v())}]},[e,n,r,i]);var a=P5(t,s[0],s[1]);return V5(function(){o.hasValue=!0,o.value=a},[a]),$5(a),a};Sv.exports=Rv;var z5=Sv.exports;const so=new WeakMap,sc=new WeakMap,Wc={current:[]};let vf=!1;const Ll=new Set,i1=new Map;function Bv(t){const e=Array.from(t).sort((n,r)=>n instanceof oo&&n.options.deps.includes(r)?1:r instanceof oo&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Wc.current.includes(n))continue;Wc.current.push(n),n.recompute();const r=sc.get(n);if(r)for(const i of r){const s=so.get(i);s&&Bv(s)}}}function Y5(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function X5(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function J5(t){if(Ll.add(t),!vf)try{for(vf=!0;Ll.size>0;){const e=Array.from(Ll);Ll.clear();for(const n of e){const r=i1.get(n)??n.prevState;n.prevState=r,Y5(n)}for(const n of e){const r=so.get(n);r&&(Wc.current.push(n),Bv(r))}for(const n of e){const r=so.get(n);if(r)for(const i of r)X5(i)}}}finally{vf=!1,Wc.current=[],i1.clear()}}class up{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),J5(this)},this.prevState=e,this.state=e,this.options=n}}class oo{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof oo&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s==null||s()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof oo)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof up){let r=so.get(n);r||(r=new Set,so.set(n,r)),r.add(this);let i=sc.get(this);i||(i=new Set,sc.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof oo)this.unregisterFromGraph(n.options.deps);else if(n instanceof up){const r=so.get(n);r&&r.delete(this);const i=sc.get(this);i&&i.delete(n)}}}function Ml(t,e=n=>n){return z5.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,K5)}function K5(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var J={},yu={};yu.byteLength=Q5;yu.toByteArray=tA;yu.fromByteArray=iA;var Dr=[],ar=[],H5=typeof Uint8Array<"u"?Uint8Array:Array,xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Rs=0,q5=xf.length;Rs<q5;++Rs)Dr[Rs]=xf[Rs],ar[xf.charCodeAt(Rs)]=Rs;ar[45]=62;ar[95]=63;function Tv(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function Q5(t){var e=Tv(t),n=e[0],r=e[1];return(n+r)*3/4-r}function eA(t,e,n){return(e+n)*3/4-n}function tA(t){var e,n=Tv(t),r=n[0],i=n[1],s=new H5(eA(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=ar[t.charCodeAt(l)]<<18|ar[t.charCodeAt(l+1)]<<12|ar[t.charCodeAt(l+2)]<<6|ar[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=ar[t.charCodeAt(l)]<<2|ar[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=ar[t.charCodeAt(l)]<<10|ar[t.charCodeAt(l+1)]<<4|ar[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function nA(t){return Dr[t>>18&63]+Dr[t>>12&63]+Dr[t>>6&63]+Dr[t&63]}function rA(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(nA(r));return i.join("")}function iA(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(rA(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Dr[e>>2]+Dr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Dr[e>>10]+Dr[e>>4&63]+Dr[e<<2&63]+"=")),i.join("")}var Vg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Vg.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,f=-7,h=n?i-1:0,v=n?-1:1,I=t[e+h];for(h+=v,s=I&(1<<-f)-1,I>>=-f,f+=a;f>0;s=s*256+t[e+h],h+=v,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=r;f>0;o=o*256+t[e+h],h+=v,f-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(I?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(I?-1:1)*o*Math.pow(2,s-r)};Vg.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,f=(1<<c)-1,h=f>>1,v=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=r?0:s-1,S=r?1:-1,M=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?e+=v/l:e+=v*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(e*l-1)*Math.pow(2,i),o=o+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+I]=a&255,I+=S,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+I]=o&255,I+=S,o/=256,c-=8);t[n+I-S]|=M*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=yu,n=Vg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=m,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const y=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(y,u),y.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');const u=new Uint8Array(y);return Object.setPrototypeOf(u,a.prototype),u}function a(y,u,p){if(typeof y=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(y)}return l(y,u,p)}a.poolSize=8192;function l(y,u,p){if(typeof y=="string")return v(y,u);if(ArrayBuffer.isView(y))return S(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(k(y,ArrayBuffer)||y&&k(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(k(y,SharedArrayBuffer)||y&&k(y.buffer,SharedArrayBuffer)))return M(y,u,p);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const A=y.valueOf&&y.valueOf();if(A!=null&&A!==y)return a.from(A,u,p);const z=F(y);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return a.from(y[Symbol.toPrimitive]("string"),u,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}a.from=function(y,u,p){return l(y,u,p)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function f(y,u,p){return c(y),y<=0?o(y):u!==void 0?typeof p=="string"?o(y).fill(u,p):o(y).fill(u):o(y)}a.alloc=function(y,u,p){return f(y,u,p)};function h(y){return c(y),o(y<0?0:E(y)|0)}a.allocUnsafe=function(y){return h(y)},a.allocUnsafeSlow=function(y){return h(y)};function v(y,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const p=x(y,u)|0;let A=o(p);const z=A.write(y,u);return z!==p&&(A=A.slice(0,z)),A}function I(y){const u=y.length<0?0:E(y.length)|0,p=o(u);for(let A=0;A<u;A+=1)p[A]=y[A]&255;return p}function S(y){if(k(y,Uint8Array)){const u=new Uint8Array(y);return M(u.buffer,u.byteOffset,u.byteLength)}return I(y)}function M(y,u,p){if(u<0||y.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<u+(p||0))throw new RangeError('"length" is outside of buffer bounds');let A;return u===void 0&&p===void 0?A=new Uint8Array(y):p===void 0?A=new Uint8Array(y,u):A=new Uint8Array(y,u,p),Object.setPrototypeOf(A,a.prototype),A}function F(y){if(a.isBuffer(y)){const u=E(y.length)|0,p=o(u);return p.length===0||y.copy(p,0,0,u),p}if(y.length!==void 0)return typeof y.length!="number"||O(y.length)?o(0):I(y);if(y.type==="Buffer"&&Array.isArray(y.data))return I(y.data)}function E(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return y|0}function m(y){return+y!=y&&(y=0),a.alloc(+y)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,p){if(k(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),k(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(u)||!a.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===p)return 0;let A=u.length,z=p.length;for(let te=0,ge=Math.min(A,z);te<ge;++te)if(u[te]!==p[te]){A=u[te],z=p[te];break}return A<z?-1:z<A?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,p){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let A;if(p===void 0)for(p=0,A=0;A<u.length;++A)p+=u[A].length;const z=a.allocUnsafe(p);let te=0;for(A=0;A<u.length;++A){let ge=u[A];if(k(ge,Uint8Array))te+ge.length>z.length?(a.isBuffer(ge)||(ge=a.from(ge)),ge.copy(z,te)):Uint8Array.prototype.set.call(z,ge,te);else if(a.isBuffer(ge))ge.copy(z,te);else throw new TypeError('"list" argument must be an Array of Buffers');te+=ge.length}return z};function x(y,u){if(a.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||k(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const p=y.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&p===0)return 0;let z=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return re(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return _(y).length;default:if(z)return A?-1:re(y).length;u=(""+u).toLowerCase(),z=!0}}a.byteLength=x;function G(y,u,p){let A=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,u>>>=0,p<=u))return"";for(y||(y="utf8");;)switch(y){case"hex":return q(this,u,p);case"utf8":case"utf-8":return Le(this,u,p);case"ascii":return Pe(this,u,p);case"latin1":case"binary":return Y(this,u,p);case"base64":return be(this,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,u,p);default:if(A)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),A=!0}}a.prototype._isBuffer=!0;function Z(y,u,p){const A=y[u];y[u]=y[p],y[p]=A}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<u;p+=2)Z(this,p,p+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<u;p+=4)Z(this,p,p+3),Z(this,p+1,p+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<u;p+=8)Z(this,p,p+7),Z(this,p+1,p+6),Z(this,p+2,p+5),Z(this,p+3,p+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?Le(this,0,u):G.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const p=t.INSPECT_MAX_BYTES;return u=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(u+=" ... "),"<Buffer "+u+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(u,p,A,z,te){if(k(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(p===void 0&&(p=0),A===void 0&&(A=u?u.length:0),z===void 0&&(z=0),te===void 0&&(te=this.length),p<0||A>u.length||z<0||te>this.length)throw new RangeError("out of range index");if(z>=te&&p>=A)return 0;if(z>=te)return-1;if(p>=A)return 1;if(p>>>=0,A>>>=0,z>>>=0,te>>>=0,this===u)return 0;let ge=te-z,Ue=A-p;const tt=Math.min(ge,Ue),Qe=this.slice(z,te),Je=u.slice(p,A);for(let ct=0;ct<tt;++ct)if(Qe[ct]!==Je[ct]){ge=Qe[ct],Ue=Je[ct];break}return ge<Ue?-1:Ue<ge?1:0};function C(y,u,p,A,z){if(y.length===0)return-1;if(typeof p=="string"?(A=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,O(p)&&(p=z?0:y.length-1),p<0&&(p=y.length+p),p>=y.length){if(z)return-1;p=y.length-1}else if(p<0)if(z)p=0;else return-1;if(typeof u=="string"&&(u=a.from(u,A)),a.isBuffer(u))return u.length===0?-1:D(y,u,p,A,z);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(y,u,p):Uint8Array.prototype.lastIndexOf.call(y,u,p):D(y,[u],p,A,z);throw new TypeError("val must be string, number or Buffer")}function D(y,u,p,A,z){let te=1,ge=y.length,Ue=u.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(y.length<2||u.length<2)return-1;te=2,ge/=2,Ue/=2,p/=2}function tt(Je,ct){return te===1?Je[ct]:Je.readUInt16BE(ct*te)}let Qe;if(z){let Je=-1;for(Qe=p;Qe<ge;Qe++)if(tt(y,Qe)===tt(u,Je===-1?0:Qe-Je)){if(Je===-1&&(Je=Qe),Qe-Je+1===Ue)return Je*te}else Je!==-1&&(Qe-=Qe-Je),Je=-1}else for(p+Ue>ge&&(p=ge-Ue),Qe=p;Qe>=0;Qe--){let Je=!0;for(let ct=0;ct<Ue;ct++)if(tt(y,Qe+ct)!==tt(u,ct)){Je=!1;break}if(Je)return Qe}return-1}a.prototype.includes=function(u,p,A){return this.indexOf(u,p,A)!==-1},a.prototype.indexOf=function(u,p,A){return C(this,u,p,A,!0)},a.prototype.lastIndexOf=function(u,p,A){return C(this,u,p,A,!1)};function V(y,u,p,A){p=Number(p)||0;const z=y.length-p;A?(A=Number(A),A>z&&(A=z)):A=z;const te=u.length;A>te/2&&(A=te/2);let ge;for(ge=0;ge<A;++ge){const Ue=parseInt(u.substr(ge*2,2),16);if(O(Ue))return ge;y[p+ge]=Ue}return ge}function Q(y,u,p,A){return g(re(u,y.length-p),y,p,A)}function $(y,u,p,A){return g(le(u),y,p,A)}function Ae(y,u,p,A){return g(_(u),y,p,A)}function fe(y,u,p,A){return g(pe(u,y.length-p),y,p,A)}a.prototype.write=function(u,p,A,z){if(p===void 0)z="utf8",A=this.length,p=0;else if(A===void 0&&typeof p=="string")z=p,A=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(A)?(A=A>>>0,z===void 0&&(z="utf8")):(z=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const te=this.length-p;if((A===void 0||A>te)&&(A=te),u.length>0&&(A<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let ge=!1;for(;;)switch(z){case"hex":return V(this,u,p,A);case"utf8":case"utf-8":return Q(this,u,p,A);case"ascii":case"latin1":case"binary":return $(this,u,p,A);case"base64":return Ae(this,u,p,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,u,p,A);default:if(ge)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),ge=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function be(y,u,p){return u===0&&p===y.length?e.fromByteArray(y):e.fromByteArray(y.slice(u,p))}function Le(y,u,p){p=Math.min(y.length,p);const A=[];let z=u;for(;z<p;){const te=y[z];let ge=null,Ue=te>239?4:te>223?3:te>191?2:1;if(z+Ue<=p){let tt,Qe,Je,ct;switch(Ue){case 1:te<128&&(ge=te);break;case 2:tt=y[z+1],(tt&192)===128&&(ct=(te&31)<<6|tt&63,ct>127&&(ge=ct));break;case 3:tt=y[z+1],Qe=y[z+2],(tt&192)===128&&(Qe&192)===128&&(ct=(te&15)<<12|(tt&63)<<6|Qe&63,ct>2047&&(ct<55296||ct>57343)&&(ge=ct));break;case 4:tt=y[z+1],Qe=y[z+2],Je=y[z+3],(tt&192)===128&&(Qe&192)===128&&(Je&192)===128&&(ct=(te&15)<<18|(tt&63)<<12|(Qe&63)<<6|Je&63,ct>65535&&ct<1114112&&(ge=ct))}}ge===null?(ge=65533,Ue=1):ge>65535&&(ge-=65536,A.push(ge>>>10&1023|55296),ge=56320|ge&1023),A.push(ge),z+=Ue}return Ge(A)}const Ve=4096;function Ge(y){const u=y.length;if(u<=Ve)return String.fromCharCode.apply(String,y);let p="",A=0;for(;A<u;)p+=String.fromCharCode.apply(String,y.slice(A,A+=Ve));return p}function Pe(y,u,p){let A="";p=Math.min(y.length,p);for(let z=u;z<p;++z)A+=String.fromCharCode(y[z]&127);return A}function Y(y,u,p){let A="";p=Math.min(y.length,p);for(let z=u;z<p;++z)A+=String.fromCharCode(y[z]);return A}function q(y,u,p){const A=y.length;(!u||u<0)&&(u=0),(!p||p<0||p>A)&&(p=A);let z="";for(let te=u;te<p;++te)z+=j[y[te]];return z}function ae(y,u,p){const A=y.slice(u,p);let z="";for(let te=0;te<A.length-1;te+=2)z+=String.fromCharCode(A[te]+A[te+1]*256);return z}a.prototype.slice=function(u,p){const A=this.length;u=~~u,p=p===void 0?A:~~p,u<0?(u+=A,u<0&&(u=0)):u>A&&(u=A),p<0?(p+=A,p<0&&(p=0)):p>A&&(p=A),p<u&&(p=u);const z=this.subarray(u,p);return Object.setPrototypeOf(z,a.prototype),z};function we(y,u,p){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+u>p)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,p,A){u=u>>>0,p=p>>>0,A||we(u,p,this.length);let z=this[u],te=1,ge=0;for(;++ge<p&&(te*=256);)z+=this[u+ge]*te;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,p,A){u=u>>>0,p=p>>>0,A||we(u,p,this.length);let z=this[u+--p],te=1;for(;p>0&&(te*=256);)z+=this[u+--p]*te;return z},a.prototype.readUint8=a.prototype.readUInt8=function(u,p){return u=u>>>0,p||we(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,p){return u=u>>>0,p||we(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,p){return u=u>>>0,p||we(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,p){return u=u>>>0,p||we(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,p){return u=u>>>0,p||we(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=ne(function(u){u=u>>>0,he(u,"offset");const p=this[u],A=this[u+7];(p===void 0||A===void 0)&&se(u,this.length-8);const z=p+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,te=this[++u]+this[++u]*2**8+this[++u]*2**16+A*2**24;return BigInt(z)+(BigInt(te)<<BigInt(32))}),a.prototype.readBigUInt64BE=ne(function(u){u=u>>>0,he(u,"offset");const p=this[u],A=this[u+7];(p===void 0||A===void 0)&&se(u,this.length-8);const z=p*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],te=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+A;return(BigInt(z)<<BigInt(32))+BigInt(te)}),a.prototype.readIntLE=function(u,p,A){u=u>>>0,p=p>>>0,A||we(u,p,this.length);let z=this[u],te=1,ge=0;for(;++ge<p&&(te*=256);)z+=this[u+ge]*te;return te*=128,z>=te&&(z-=Math.pow(2,8*p)),z},a.prototype.readIntBE=function(u,p,A){u=u>>>0,p=p>>>0,A||we(u,p,this.length);let z=p,te=1,ge=this[u+--z];for(;z>0&&(te*=256);)ge+=this[u+--z]*te;return te*=128,ge>=te&&(ge-=Math.pow(2,8*p)),ge},a.prototype.readInt8=function(u,p){return u=u>>>0,p||we(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,p){u=u>>>0,p||we(u,2,this.length);const A=this[u]|this[u+1]<<8;return A&32768?A|4294901760:A},a.prototype.readInt16BE=function(u,p){u=u>>>0,p||we(u,2,this.length);const A=this[u+1]|this[u]<<8;return A&32768?A|4294901760:A},a.prototype.readInt32LE=function(u,p){return u=u>>>0,p||we(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,p){return u=u>>>0,p||we(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=ne(function(u){u=u>>>0,he(u,"offset");const p=this[u],A=this[u+7];(p===void 0||A===void 0)&&se(u,this.length-8);const z=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(A<<24);return(BigInt(z)<<BigInt(32))+BigInt(p+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=ne(function(u){u=u>>>0,he(u,"offset");const p=this[u],A=this[u+7];(p===void 0||A===void 0)&&se(u,this.length-8);const z=(p<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(z)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+A)}),a.prototype.readFloatLE=function(u,p){return u=u>>>0,p||we(u,4,this.length),n.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,p){return u=u>>>0,p||we(u,4,this.length),n.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,p){return u=u>>>0,p||we(u,8,this.length),n.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,p){return u=u>>>0,p||we(u,8,this.length),n.read(this,u,!1,52,8)};function ve(y,u,p,A,z,te){if(!a.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>z||u<te)throw new RangeError('"value" argument is out of bounds');if(p+A>y.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,p,A,z){if(u=+u,p=p>>>0,A=A>>>0,!z){const Ue=Math.pow(2,8*A)-1;ve(this,u,p,A,Ue,0)}let te=1,ge=0;for(this[p]=u&255;++ge<A&&(te*=256);)this[p+ge]=u/te&255;return p+A},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,p,A,z){if(u=+u,p=p>>>0,A=A>>>0,!z){const Ue=Math.pow(2,8*A)-1;ve(this,u,p,A,Ue,0)}let te=A-1,ge=1;for(this[p+te]=u&255;--te>=0&&(ge*=256);)this[p+te]=u/ge&255;return p+A},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,1,255,0),this[p]=u&255,p+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,2,65535,0),this[p]=u&255,this[p+1]=u>>>8,p+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,2,65535,0),this[p]=u>>>8,this[p+1]=u&255,p+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,4,4294967295,0),this[p+3]=u>>>24,this[p+2]=u>>>16,this[p+1]=u>>>8,this[p]=u&255,p+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,4,4294967295,0),this[p]=u>>>24,this[p+1]=u>>>16,this[p+2]=u>>>8,this[p+3]=u&255,p+4};function _e(y,u,p,A,z){X(u,A,z,y,p,7);let te=Number(u&BigInt(4294967295));y[p++]=te,te=te>>8,y[p++]=te,te=te>>8,y[p++]=te,te=te>>8,y[p++]=te;let ge=Number(u>>BigInt(32)&BigInt(4294967295));return y[p++]=ge,ge=ge>>8,y[p++]=ge,ge=ge>>8,y[p++]=ge,ge=ge>>8,y[p++]=ge,p}function ue(y,u,p,A,z){X(u,A,z,y,p,7);let te=Number(u&BigInt(4294967295));y[p+7]=te,te=te>>8,y[p+6]=te,te=te>>8,y[p+5]=te,te=te>>8,y[p+4]=te;let ge=Number(u>>BigInt(32)&BigInt(4294967295));return y[p+3]=ge,ge=ge>>8,y[p+2]=ge,ge=ge>>8,y[p+1]=ge,ge=ge>>8,y[p]=ge,p+8}a.prototype.writeBigUInt64LE=ne(function(u,p=0){return _e(this,u,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ne(function(u,p=0){return ue(this,u,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,p,A,z){if(u=+u,p=p>>>0,!z){const tt=Math.pow(2,8*A-1);ve(this,u,p,A,tt-1,-tt)}let te=0,ge=1,Ue=0;for(this[p]=u&255;++te<A&&(ge*=256);)u<0&&Ue===0&&this[p+te-1]!==0&&(Ue=1),this[p+te]=(u/ge>>0)-Ue&255;return p+A},a.prototype.writeIntBE=function(u,p,A,z){if(u=+u,p=p>>>0,!z){const tt=Math.pow(2,8*A-1);ve(this,u,p,A,tt-1,-tt)}let te=A-1,ge=1,Ue=0;for(this[p+te]=u&255;--te>=0&&(ge*=256);)u<0&&Ue===0&&this[p+te+1]!==0&&(Ue=1),this[p+te]=(u/ge>>0)-Ue&255;return p+A},a.prototype.writeInt8=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,1,127,-128),u<0&&(u=255+u+1),this[p]=u&255,p+1},a.prototype.writeInt16LE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,2,32767,-32768),this[p]=u&255,this[p+1]=u>>>8,p+2},a.prototype.writeInt16BE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,2,32767,-32768),this[p]=u>>>8,this[p+1]=u&255,p+2},a.prototype.writeInt32LE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,4,2147483647,-2147483648),this[p]=u&255,this[p+1]=u>>>8,this[p+2]=u>>>16,this[p+3]=u>>>24,p+4},a.prototype.writeInt32BE=function(u,p,A){return u=+u,p=p>>>0,A||ve(this,u,p,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[p]=u>>>24,this[p+1]=u>>>16,this[p+2]=u>>>8,this[p+3]=u&255,p+4},a.prototype.writeBigInt64LE=ne(function(u,p=0){return _e(this,u,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ne(function(u,p=0){return ue(this,u,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function We(y,u,p,A,z,te){if(p+A>y.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function rt(y,u,p,A,z){return u=+u,p=p>>>0,z||We(y,u,p,4),n.write(y,u,p,A,23,4),p+4}a.prototype.writeFloatLE=function(u,p,A){return rt(this,u,p,!0,A)},a.prototype.writeFloatBE=function(u,p,A){return rt(this,u,p,!1,A)};function at(y,u,p,A,z){return u=+u,p=p>>>0,z||We(y,u,p,8),n.write(y,u,p,A,52,8),p+8}a.prototype.writeDoubleLE=function(u,p,A){return at(this,u,p,!0,A)},a.prototype.writeDoubleBE=function(u,p,A){return at(this,u,p,!1,A)},a.prototype.copy=function(u,p,A,z){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(A||(A=0),!z&&z!==0&&(z=this.length),p>=u.length&&(p=u.length),p||(p=0),z>0&&z<A&&(z=A),z===A||u.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),u.length-p<z-A&&(z=u.length-p+A);const te=z-A;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,A,z):Uint8Array.prototype.set.call(u,this.subarray(A,z),p),te},a.prototype.fill=function(u,p,A,z){if(typeof u=="string"){if(typeof p=="string"?(z=p,p=0,A=this.length):typeof A=="string"&&(z=A,A=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(u.length===1){const ge=u.charCodeAt(0);(z==="utf8"&&ge<128||z==="latin1")&&(u=ge)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(p<0||this.length<p||this.length<A)throw new RangeError("Out of range index");if(A<=p)return this;p=p>>>0,A=A===void 0?this.length:A>>>0,u||(u=0);let te;if(typeof u=="number")for(te=p;te<A;++te)this[te]=u;else{const ge=a.isBuffer(u)?u:a.from(u,z),Ue=ge.length;if(Ue===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(te=0;te<A-p;++te)this[te+p]=ge[te%Ue]}return this};const Be={};function Me(y,u,p){Be[y]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}Me("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Me("ERR_INVALID_ARG_TYPE",function(y,u){return`The "${y}" argument must be of type number. Received type ${typeof u}`},TypeError),Me("ERR_OUT_OF_RANGE",function(y,u,p){let A=`The value of "${y}" is out of range.`,z=p;return Number.isInteger(p)&&Math.abs(p)>2**32?z=R(String(p)):typeof p=="bigint"&&(z=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(z=R(z)),z+="n"),A+=` It must be ${u}. Received ${z}`,A},RangeError);function R(y){let u="",p=y.length;const A=y[0]==="-"?1:0;for(;p>=A+4;p-=3)u=`_${y.slice(p-3,p)}${u}`;return`${y.slice(0,p)}${u}`}function U(y,u,p){he(u,"offset"),(y[u]===void 0||y[u+p]===void 0)&&se(u,y.length-(p+1))}function X(y,u,p,A,z,te){if(y>p||y<u){const ge=typeof u=="bigint"?"n":"";let Ue;throw u===0||u===BigInt(0)?Ue=`>= 0${ge} and < 2${ge} ** ${(te+1)*8}${ge}`:Ue=`>= -(2${ge} ** ${(te+1)*8-1}${ge}) and < 2 ** ${(te+1)*8-1}${ge}`,new Be.ERR_OUT_OF_RANGE("value",Ue,y)}U(A,z,te)}function he(y,u){if(typeof y!="number")throw new Be.ERR_INVALID_ARG_TYPE(u,"number",y)}function se(y,u,p){throw Math.floor(y)!==y?(he(y,p),new Be.ERR_OUT_OF_RANGE("offset","an integer",y)):u<0?new Be.ERR_BUFFER_OUT_OF_BOUNDS:new Be.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,y)}const ce=/[^+/0-9A-Za-z-_]/g;function xe(y){if(y=y.split("=")[0],y=y.trim().replace(ce,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function re(y,u){u=u||1/0;let p;const A=y.length;let z=null;const te=[];for(let ge=0;ge<A;++ge){if(p=y.charCodeAt(ge),p>55295&&p<57344){if(!z){if(p>56319){(u-=3)>-1&&te.push(239,191,189);continue}else if(ge+1===A){(u-=3)>-1&&te.push(239,191,189);continue}z=p;continue}if(p<56320){(u-=3)>-1&&te.push(239,191,189),z=p;continue}p=(z-55296<<10|p-56320)+65536}else z&&(u-=3)>-1&&te.push(239,191,189);if(z=null,p<128){if((u-=1)<0)break;te.push(p)}else if(p<2048){if((u-=2)<0)break;te.push(p>>6|192,p&63|128)}else if(p<65536){if((u-=3)<0)break;te.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((u-=4)<0)break;te.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return te}function le(y){const u=[];for(let p=0;p<y.length;++p)u.push(y.charCodeAt(p)&255);return u}function pe(y,u){let p,A,z;const te=[];for(let ge=0;ge<y.length&&!((u-=2)<0);++ge)p=y.charCodeAt(ge),A=p>>8,z=p%256,te.push(z),te.push(A);return te}function _(y){return e.toByteArray(xe(y))}function g(y,u,p,A){let z;for(z=0;z<A&&!(z+p>=u.length||z>=y.length);++z)u[z+p]=y[z];return z}function k(y,u){return y instanceof u||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===u.name}function O(y){return y!==y}const j=function(){const y="0123456789abcdef",u=new Array(256);for(let p=0;p<16;++p){const A=p*16;for(let z=0;z<16;++z)u[A+z]=y[p]+y[z]}return u}();function ne(y){return typeof BigInt>"u"?ie:y}function ie(){throw new Error("BigInt not supported")}})(J);function sA(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nv={exports:{}};const oA={},aA=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"})),lA=n3(aA);(function(t){(function(e){var n=function(w){var N,T=new Float64Array(16);if(w)for(N=0;N<w.length;N++)T[N]=w[N];return T},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),l=n([56129,1]),c=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function S(w,N,T,d){w[N]=T>>24&255,w[N+1]=T>>16&255,w[N+2]=T>>8&255,w[N+3]=T&255,w[N+4]=d>>24&255,w[N+5]=d>>16&255,w[N+6]=d>>8&255,w[N+7]=d&255}function M(w,N,T,d,P){var de,me=0;for(de=0;de<P;de++)me|=w[N+de]^T[d+de];return(1&me-1>>>8)-1}function F(w,N,T,d){return M(w,N,T,d,16)}function E(w,N,T,d){return M(w,N,T,d,32)}function m(w,N,T,d){for(var P=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,de=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,me=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,Te=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,De=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,nt=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,ze=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,St=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Ke=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,gt=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,wt=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,At=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,xt=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,mt=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,ut=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,yt=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,Ye=P,st=de,je=me,He=Te,et=De,$e=nt,Ie=ze,Ce=St,Ne=Ke,b=gt,B=wt,L=At,H=xt,K=mt,ee=ut,ye=yt,W,Re=0;Re<20;Re+=2)W=Ye+H|0,et^=W<<7|W>>>25,W=et+Ye|0,Ne^=W<<9|W>>>23,W=Ne+et|0,H^=W<<13|W>>>19,W=H+Ne|0,Ye^=W<<18|W>>>14,W=$e+st|0,b^=W<<7|W>>>25,W=b+$e|0,K^=W<<9|W>>>23,W=K+b|0,st^=W<<13|W>>>19,W=st+K|0,$e^=W<<18|W>>>14,W=B+Ie|0,ee^=W<<7|W>>>25,W=ee+B|0,je^=W<<9|W>>>23,W=je+ee|0,Ie^=W<<13|W>>>19,W=Ie+je|0,B^=W<<18|W>>>14,W=ye+L|0,He^=W<<7|W>>>25,W=He+ye|0,Ce^=W<<9|W>>>23,W=Ce+He|0,L^=W<<13|W>>>19,W=L+Ce|0,ye^=W<<18|W>>>14,W=Ye+He|0,st^=W<<7|W>>>25,W=st+Ye|0,je^=W<<9|W>>>23,W=je+st|0,He^=W<<13|W>>>19,W=He+je|0,Ye^=W<<18|W>>>14,W=$e+et|0,Ie^=W<<7|W>>>25,W=Ie+$e|0,Ce^=W<<9|W>>>23,W=Ce+Ie|0,et^=W<<13|W>>>19,W=et+Ce|0,$e^=W<<18|W>>>14,W=B+b|0,L^=W<<7|W>>>25,W=L+B|0,Ne^=W<<9|W>>>23,W=Ne+L|0,b^=W<<13|W>>>19,W=b+Ne|0,B^=W<<18|W>>>14,W=ye+ee|0,H^=W<<7|W>>>25,W=H+ye|0,K^=W<<9|W>>>23,W=K+H|0,ee^=W<<13|W>>>19,W=ee+K|0,ye^=W<<18|W>>>14;Ye=Ye+P|0,st=st+de|0,je=je+me|0,He=He+Te|0,et=et+De|0,$e=$e+nt|0,Ie=Ie+ze|0,Ce=Ce+St|0,Ne=Ne+Ke|0,b=b+gt|0,B=B+wt|0,L=L+At|0,H=H+xt|0,K=K+mt|0,ee=ee+ut|0,ye=ye+yt|0,w[0]=Ye>>>0&255,w[1]=Ye>>>8&255,w[2]=Ye>>>16&255,w[3]=Ye>>>24&255,w[4]=st>>>0&255,w[5]=st>>>8&255,w[6]=st>>>16&255,w[7]=st>>>24&255,w[8]=je>>>0&255,w[9]=je>>>8&255,w[10]=je>>>16&255,w[11]=je>>>24&255,w[12]=He>>>0&255,w[13]=He>>>8&255,w[14]=He>>>16&255,w[15]=He>>>24&255,w[16]=et>>>0&255,w[17]=et>>>8&255,w[18]=et>>>16&255,w[19]=et>>>24&255,w[20]=$e>>>0&255,w[21]=$e>>>8&255,w[22]=$e>>>16&255,w[23]=$e>>>24&255,w[24]=Ie>>>0&255,w[25]=Ie>>>8&255,w[26]=Ie>>>16&255,w[27]=Ie>>>24&255,w[28]=Ce>>>0&255,w[29]=Ce>>>8&255,w[30]=Ce>>>16&255,w[31]=Ce>>>24&255,w[32]=Ne>>>0&255,w[33]=Ne>>>8&255,w[34]=Ne>>>16&255,w[35]=Ne>>>24&255,w[36]=b>>>0&255,w[37]=b>>>8&255,w[38]=b>>>16&255,w[39]=b>>>24&255,w[40]=B>>>0&255,w[41]=B>>>8&255,w[42]=B>>>16&255,w[43]=B>>>24&255,w[44]=L>>>0&255,w[45]=L>>>8&255,w[46]=L>>>16&255,w[47]=L>>>24&255,w[48]=H>>>0&255,w[49]=H>>>8&255,w[50]=H>>>16&255,w[51]=H>>>24&255,w[52]=K>>>0&255,w[53]=K>>>8&255,w[54]=K>>>16&255,w[55]=K>>>24&255,w[56]=ee>>>0&255,w[57]=ee>>>8&255,w[58]=ee>>>16&255,w[59]=ee>>>24&255,w[60]=ye>>>0&255,w[61]=ye>>>8&255,w[62]=ye>>>16&255,w[63]=ye>>>24&255}function x(w,N,T,d){for(var P=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,de=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,me=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,Te=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,De=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,nt=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,ze=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,St=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Ke=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,gt=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,wt=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,At=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,xt=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,mt=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,ut=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,yt=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,Ye=P,st=de,je=me,He=Te,et=De,$e=nt,Ie=ze,Ce=St,Ne=Ke,b=gt,B=wt,L=At,H=xt,K=mt,ee=ut,ye=yt,W,Re=0;Re<20;Re+=2)W=Ye+H|0,et^=W<<7|W>>>25,W=et+Ye|0,Ne^=W<<9|W>>>23,W=Ne+et|0,H^=W<<13|W>>>19,W=H+Ne|0,Ye^=W<<18|W>>>14,W=$e+st|0,b^=W<<7|W>>>25,W=b+$e|0,K^=W<<9|W>>>23,W=K+b|0,st^=W<<13|W>>>19,W=st+K|0,$e^=W<<18|W>>>14,W=B+Ie|0,ee^=W<<7|W>>>25,W=ee+B|0,je^=W<<9|W>>>23,W=je+ee|0,Ie^=W<<13|W>>>19,W=Ie+je|0,B^=W<<18|W>>>14,W=ye+L|0,He^=W<<7|W>>>25,W=He+ye|0,Ce^=W<<9|W>>>23,W=Ce+He|0,L^=W<<13|W>>>19,W=L+Ce|0,ye^=W<<18|W>>>14,W=Ye+He|0,st^=W<<7|W>>>25,W=st+Ye|0,je^=W<<9|W>>>23,W=je+st|0,He^=W<<13|W>>>19,W=He+je|0,Ye^=W<<18|W>>>14,W=$e+et|0,Ie^=W<<7|W>>>25,W=Ie+$e|0,Ce^=W<<9|W>>>23,W=Ce+Ie|0,et^=W<<13|W>>>19,W=et+Ce|0,$e^=W<<18|W>>>14,W=B+b|0,L^=W<<7|W>>>25,W=L+B|0,Ne^=W<<9|W>>>23,W=Ne+L|0,b^=W<<13|W>>>19,W=b+Ne|0,B^=W<<18|W>>>14,W=ye+ee|0,H^=W<<7|W>>>25,W=H+ye|0,K^=W<<9|W>>>23,W=K+H|0,ee^=W<<13|W>>>19,W=ee+K|0,ye^=W<<18|W>>>14;w[0]=Ye>>>0&255,w[1]=Ye>>>8&255,w[2]=Ye>>>16&255,w[3]=Ye>>>24&255,w[4]=$e>>>0&255,w[5]=$e>>>8&255,w[6]=$e>>>16&255,w[7]=$e>>>24&255,w[8]=B>>>0&255,w[9]=B>>>8&255,w[10]=B>>>16&255,w[11]=B>>>24&255,w[12]=ye>>>0&255,w[13]=ye>>>8&255,w[14]=ye>>>16&255,w[15]=ye>>>24&255,w[16]=Ie>>>0&255,w[17]=Ie>>>8&255,w[18]=Ie>>>16&255,w[19]=Ie>>>24&255,w[20]=Ce>>>0&255,w[21]=Ce>>>8&255,w[22]=Ce>>>16&255,w[23]=Ce>>>24&255,w[24]=Ne>>>0&255,w[25]=Ne>>>8&255,w[26]=Ne>>>16&255,w[27]=Ne>>>24&255,w[28]=b>>>0&255,w[29]=b>>>8&255,w[30]=b>>>16&255,w[31]=b>>>24&255}function G(w,N,T,d){m(w,N,T,d)}function Z(w,N,T,d){x(w,N,T,d)}var C=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function D(w,N,T,d,P,de,me){var Te=new Uint8Array(16),De=new Uint8Array(64),nt,ze;for(ze=0;ze<16;ze++)Te[ze]=0;for(ze=0;ze<8;ze++)Te[ze]=de[ze];for(;P>=64;){for(G(De,Te,me,C),ze=0;ze<64;ze++)w[N+ze]=T[d+ze]^De[ze];for(nt=1,ze=8;ze<16;ze++)nt=nt+(Te[ze]&255)|0,Te[ze]=nt&255,nt>>>=8;P-=64,N+=64,d+=64}if(P>0)for(G(De,Te,me,C),ze=0;ze<P;ze++)w[N+ze]=T[d+ze]^De[ze];return 0}function V(w,N,T,d,P){var de=new Uint8Array(16),me=new Uint8Array(64),Te,De;for(De=0;De<16;De++)de[De]=0;for(De=0;De<8;De++)de[De]=d[De];for(;T>=64;){for(G(me,de,P,C),De=0;De<64;De++)w[N+De]=me[De];for(Te=1,De=8;De<16;De++)Te=Te+(de[De]&255)|0,de[De]=Te&255,Te>>>=8;T-=64,N+=64}if(T>0)for(G(me,de,P,C),De=0;De<T;De++)w[N+De]=me[De];return 0}function Q(w,N,T,d,P){var de=new Uint8Array(32);Z(de,d,P,C);for(var me=new Uint8Array(8),Te=0;Te<8;Te++)me[Te]=d[Te+16];return V(w,N,T,me,de)}function $(w,N,T,d,P,de,me){var Te=new Uint8Array(32);Z(Te,de,me,C);for(var De=new Uint8Array(8),nt=0;nt<8;nt++)De[nt]=de[nt+16];return D(w,N,T,d,P,De,Te)}var Ae=function(w){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var N,T,d,P,de,me,Te,De;N=w[0]&255|(w[1]&255)<<8,this.r[0]=N&8191,T=w[2]&255|(w[3]&255)<<8,this.r[1]=(N>>>13|T<<3)&8191,d=w[4]&255|(w[5]&255)<<8,this.r[2]=(T>>>10|d<<6)&7939,P=w[6]&255|(w[7]&255)<<8,this.r[3]=(d>>>7|P<<9)&8191,de=w[8]&255|(w[9]&255)<<8,this.r[4]=(P>>>4|de<<12)&255,this.r[5]=de>>>1&8190,me=w[10]&255|(w[11]&255)<<8,this.r[6]=(de>>>14|me<<2)&8191,Te=w[12]&255|(w[13]&255)<<8,this.r[7]=(me>>>11|Te<<5)&8065,De=w[14]&255|(w[15]&255)<<8,this.r[8]=(Te>>>8|De<<8)&8191,this.r[9]=De>>>5&127,this.pad[0]=w[16]&255|(w[17]&255)<<8,this.pad[1]=w[18]&255|(w[19]&255)<<8,this.pad[2]=w[20]&255|(w[21]&255)<<8,this.pad[3]=w[22]&255|(w[23]&255)<<8,this.pad[4]=w[24]&255|(w[25]&255)<<8,this.pad[5]=w[26]&255|(w[27]&255)<<8,this.pad[6]=w[28]&255|(w[29]&255)<<8,this.pad[7]=w[30]&255|(w[31]&255)<<8};Ae.prototype.blocks=function(w,N,T){for(var d=this.fin?0:2048,P,de,me,Te,De,nt,ze,St,Ke,gt,wt,At,xt,mt,ut,yt,Ye,st,je,He=this.h[0],et=this.h[1],$e=this.h[2],Ie=this.h[3],Ce=this.h[4],Ne=this.h[5],b=this.h[6],B=this.h[7],L=this.h[8],H=this.h[9],K=this.r[0],ee=this.r[1],ye=this.r[2],W=this.r[3],Re=this.r[4],ke=this.r[5],Fe=this.r[6],Ze=this.r[7],Xe=this.r[8],it=this.r[9];T>=16;)P=w[N+0]&255|(w[N+1]&255)<<8,He+=P&8191,de=w[N+2]&255|(w[N+3]&255)<<8,et+=(P>>>13|de<<3)&8191,me=w[N+4]&255|(w[N+5]&255)<<8,$e+=(de>>>10|me<<6)&8191,Te=w[N+6]&255|(w[N+7]&255)<<8,Ie+=(me>>>7|Te<<9)&8191,De=w[N+8]&255|(w[N+9]&255)<<8,Ce+=(Te>>>4|De<<12)&8191,Ne+=De>>>1&8191,nt=w[N+10]&255|(w[N+11]&255)<<8,b+=(De>>>14|nt<<2)&8191,ze=w[N+12]&255|(w[N+13]&255)<<8,B+=(nt>>>11|ze<<5)&8191,St=w[N+14]&255|(w[N+15]&255)<<8,L+=(ze>>>8|St<<8)&8191,H+=St>>>5|d,Ke=0,gt=Ke,gt+=He*K,gt+=et*(5*it),gt+=$e*(5*Xe),gt+=Ie*(5*Ze),gt+=Ce*(5*Fe),Ke=gt>>>13,gt&=8191,gt+=Ne*(5*ke),gt+=b*(5*Re),gt+=B*(5*W),gt+=L*(5*ye),gt+=H*(5*ee),Ke+=gt>>>13,gt&=8191,wt=Ke,wt+=He*ee,wt+=et*K,wt+=$e*(5*it),wt+=Ie*(5*Xe),wt+=Ce*(5*Ze),Ke=wt>>>13,wt&=8191,wt+=Ne*(5*Fe),wt+=b*(5*ke),wt+=B*(5*Re),wt+=L*(5*W),wt+=H*(5*ye),Ke+=wt>>>13,wt&=8191,At=Ke,At+=He*ye,At+=et*ee,At+=$e*K,At+=Ie*(5*it),At+=Ce*(5*Xe),Ke=At>>>13,At&=8191,At+=Ne*(5*Ze),At+=b*(5*Fe),At+=B*(5*ke),At+=L*(5*Re),At+=H*(5*W),Ke+=At>>>13,At&=8191,xt=Ke,xt+=He*W,xt+=et*ye,xt+=$e*ee,xt+=Ie*K,xt+=Ce*(5*it),Ke=xt>>>13,xt&=8191,xt+=Ne*(5*Xe),xt+=b*(5*Ze),xt+=B*(5*Fe),xt+=L*(5*ke),xt+=H*(5*Re),Ke+=xt>>>13,xt&=8191,mt=Ke,mt+=He*Re,mt+=et*W,mt+=$e*ye,mt+=Ie*ee,mt+=Ce*K,Ke=mt>>>13,mt&=8191,mt+=Ne*(5*it),mt+=b*(5*Xe),mt+=B*(5*Ze),mt+=L*(5*Fe),mt+=H*(5*ke),Ke+=mt>>>13,mt&=8191,ut=Ke,ut+=He*ke,ut+=et*Re,ut+=$e*W,ut+=Ie*ye,ut+=Ce*ee,Ke=ut>>>13,ut&=8191,ut+=Ne*K,ut+=b*(5*it),ut+=B*(5*Xe),ut+=L*(5*Ze),ut+=H*(5*Fe),Ke+=ut>>>13,ut&=8191,yt=Ke,yt+=He*Fe,yt+=et*ke,yt+=$e*Re,yt+=Ie*W,yt+=Ce*ye,Ke=yt>>>13,yt&=8191,yt+=Ne*ee,yt+=b*K,yt+=B*(5*it),yt+=L*(5*Xe),yt+=H*(5*Ze),Ke+=yt>>>13,yt&=8191,Ye=Ke,Ye+=He*Ze,Ye+=et*Fe,Ye+=$e*ke,Ye+=Ie*Re,Ye+=Ce*W,Ke=Ye>>>13,Ye&=8191,Ye+=Ne*ye,Ye+=b*ee,Ye+=B*K,Ye+=L*(5*it),Ye+=H*(5*Xe),Ke+=Ye>>>13,Ye&=8191,st=Ke,st+=He*Xe,st+=et*Ze,st+=$e*Fe,st+=Ie*ke,st+=Ce*Re,Ke=st>>>13,st&=8191,st+=Ne*W,st+=b*ye,st+=B*ee,st+=L*K,st+=H*(5*it),Ke+=st>>>13,st&=8191,je=Ke,je+=He*it,je+=et*Xe,je+=$e*Ze,je+=Ie*Fe,je+=Ce*ke,Ke=je>>>13,je&=8191,je+=Ne*Re,je+=b*W,je+=B*ye,je+=L*ee,je+=H*K,Ke+=je>>>13,je&=8191,Ke=(Ke<<2)+Ke|0,Ke=Ke+gt|0,gt=Ke&8191,Ke=Ke>>>13,wt+=Ke,He=gt,et=wt,$e=At,Ie=xt,Ce=mt,Ne=ut,b=yt,B=Ye,L=st,H=je,N+=16,T-=16;this.h[0]=He,this.h[1]=et,this.h[2]=$e,this.h[3]=Ie,this.h[4]=Ce,this.h[5]=Ne,this.h[6]=b,this.h[7]=B,this.h[8]=L,this.h[9]=H},Ae.prototype.finish=function(w,N){var T=new Uint16Array(10),d,P,de,me;if(this.leftover){for(me=this.leftover,this.buffer[me++]=1;me<16;me++)this.buffer[me]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(d=this.h[1]>>>13,this.h[1]&=8191,me=2;me<10;me++)this.h[me]+=d,d=this.h[me]>>>13,this.h[me]&=8191;for(this.h[0]+=d*5,d=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=d,d=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=d,T[0]=this.h[0]+5,d=T[0]>>>13,T[0]&=8191,me=1;me<10;me++)T[me]=this.h[me]+d,d=T[me]>>>13,T[me]&=8191;for(T[9]-=8192,P=(d^1)-1,me=0;me<10;me++)T[me]&=P;for(P=~P,me=0;me<10;me++)this.h[me]=this.h[me]&P|T[me];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,de=this.h[0]+this.pad[0],this.h[0]=de&65535,me=1;me<8;me++)de=(this.h[me]+this.pad[me]|0)+(de>>>16)|0,this.h[me]=de&65535;w[N+0]=this.h[0]>>>0&255,w[N+1]=this.h[0]>>>8&255,w[N+2]=this.h[1]>>>0&255,w[N+3]=this.h[1]>>>8&255,w[N+4]=this.h[2]>>>0&255,w[N+5]=this.h[2]>>>8&255,w[N+6]=this.h[3]>>>0&255,w[N+7]=this.h[3]>>>8&255,w[N+8]=this.h[4]>>>0&255,w[N+9]=this.h[4]>>>8&255,w[N+10]=this.h[5]>>>0&255,w[N+11]=this.h[5]>>>8&255,w[N+12]=this.h[6]>>>0&255,w[N+13]=this.h[6]>>>8&255,w[N+14]=this.h[7]>>>0&255,w[N+15]=this.h[7]>>>8&255},Ae.prototype.update=function(w,N,T){var d,P;if(this.leftover){for(P=16-this.leftover,P>T&&(P=T),d=0;d<P;d++)this.buffer[this.leftover+d]=w[N+d];if(T-=P,N+=P,this.leftover+=P,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(P=T-T%16,this.blocks(w,N,P),N+=P,T-=P),T){for(d=0;d<T;d++)this.buffer[this.leftover+d]=w[N+d];this.leftover+=T}};function fe(w,N,T,d,P,de){var me=new Ae(de);return me.update(T,d,P),me.finish(w,N),0}function be(w,N,T,d,P,de){var me=new Uint8Array(16);return fe(me,0,T,d,P,de),F(w,N,me,0)}function Le(w,N,T,d,P){var de;if(T<32)return-1;for($(w,0,N,0,T,d,P),fe(w,16,w,32,T-32,w),de=0;de<16;de++)w[de]=0;return 0}function Ve(w,N,T,d,P){var de,me=new Uint8Array(32);if(T<32||(Q(me,0,32,d,P),be(N,16,N,32,T-32,me)!==0))return-1;for($(w,0,N,0,T,d,P),de=0;de<32;de++)w[de]=0;return 0}function Ge(w,N){var T;for(T=0;T<16;T++)w[T]=N[T]|0}function Pe(w){var N,T,d=1;for(N=0;N<16;N++)T=w[N]+d+65535,d=Math.floor(T/65536),w[N]=T-d*65536;w[0]+=d-1+37*(d-1)}function Y(w,N,T){for(var d,P=~(T-1),de=0;de<16;de++)d=P&(w[de]^N[de]),w[de]^=d,N[de]^=d}function q(w,N){var T,d,P,de=n(),me=n();for(T=0;T<16;T++)me[T]=N[T];for(Pe(me),Pe(me),Pe(me),d=0;d<2;d++){for(de[0]=me[0]-65517,T=1;T<15;T++)de[T]=me[T]-65535-(de[T-1]>>16&1),de[T-1]&=65535;de[15]=me[15]-32767-(de[14]>>16&1),P=de[15]>>16&1,de[14]&=65535,Y(me,de,1-P)}for(T=0;T<16;T++)w[2*T]=me[T]&255,w[2*T+1]=me[T]>>8}function ae(w,N){var T=new Uint8Array(32),d=new Uint8Array(32);return q(T,w),q(d,N),E(T,0,d,0)}function we(w){var N=new Uint8Array(32);return q(N,w),N[0]&1}function ve(w,N){var T;for(T=0;T<16;T++)w[T]=N[2*T]+(N[2*T+1]<<8);w[15]&=32767}function _e(w,N,T){for(var d=0;d<16;d++)w[d]=N[d]+T[d]}function ue(w,N,T){for(var d=0;d<16;d++)w[d]=N[d]-T[d]}function We(w,N,T){var d,P,de=0,me=0,Te=0,De=0,nt=0,ze=0,St=0,Ke=0,gt=0,wt=0,At=0,xt=0,mt=0,ut=0,yt=0,Ye=0,st=0,je=0,He=0,et=0,$e=0,Ie=0,Ce=0,Ne=0,b=0,B=0,L=0,H=0,K=0,ee=0,ye=0,W=T[0],Re=T[1],ke=T[2],Fe=T[3],Ze=T[4],Xe=T[5],it=T[6],dt=T[7],ft=T[8],vt=T[9],Rt=T[10],Ot=T[11],jt=T[12],fn=T[13],hn=T[14],ln=T[15];d=N[0],de+=d*W,me+=d*Re,Te+=d*ke,De+=d*Fe,nt+=d*Ze,ze+=d*Xe,St+=d*it,Ke+=d*dt,gt+=d*ft,wt+=d*vt,At+=d*Rt,xt+=d*Ot,mt+=d*jt,ut+=d*fn,yt+=d*hn,Ye+=d*ln,d=N[1],me+=d*W,Te+=d*Re,De+=d*ke,nt+=d*Fe,ze+=d*Ze,St+=d*Xe,Ke+=d*it,gt+=d*dt,wt+=d*ft,At+=d*vt,xt+=d*Rt,mt+=d*Ot,ut+=d*jt,yt+=d*fn,Ye+=d*hn,st+=d*ln,d=N[2],Te+=d*W,De+=d*Re,nt+=d*ke,ze+=d*Fe,St+=d*Ze,Ke+=d*Xe,gt+=d*it,wt+=d*dt,At+=d*ft,xt+=d*vt,mt+=d*Rt,ut+=d*Ot,yt+=d*jt,Ye+=d*fn,st+=d*hn,je+=d*ln,d=N[3],De+=d*W,nt+=d*Re,ze+=d*ke,St+=d*Fe,Ke+=d*Ze,gt+=d*Xe,wt+=d*it,At+=d*dt,xt+=d*ft,mt+=d*vt,ut+=d*Rt,yt+=d*Ot,Ye+=d*jt,st+=d*fn,je+=d*hn,He+=d*ln,d=N[4],nt+=d*W,ze+=d*Re,St+=d*ke,Ke+=d*Fe,gt+=d*Ze,wt+=d*Xe,At+=d*it,xt+=d*dt,mt+=d*ft,ut+=d*vt,yt+=d*Rt,Ye+=d*Ot,st+=d*jt,je+=d*fn,He+=d*hn,et+=d*ln,d=N[5],ze+=d*W,St+=d*Re,Ke+=d*ke,gt+=d*Fe,wt+=d*Ze,At+=d*Xe,xt+=d*it,mt+=d*dt,ut+=d*ft,yt+=d*vt,Ye+=d*Rt,st+=d*Ot,je+=d*jt,He+=d*fn,et+=d*hn,$e+=d*ln,d=N[6],St+=d*W,Ke+=d*Re,gt+=d*ke,wt+=d*Fe,At+=d*Ze,xt+=d*Xe,mt+=d*it,ut+=d*dt,yt+=d*ft,Ye+=d*vt,st+=d*Rt,je+=d*Ot,He+=d*jt,et+=d*fn,$e+=d*hn,Ie+=d*ln,d=N[7],Ke+=d*W,gt+=d*Re,wt+=d*ke,At+=d*Fe,xt+=d*Ze,mt+=d*Xe,ut+=d*it,yt+=d*dt,Ye+=d*ft,st+=d*vt,je+=d*Rt,He+=d*Ot,et+=d*jt,$e+=d*fn,Ie+=d*hn,Ce+=d*ln,d=N[8],gt+=d*W,wt+=d*Re,At+=d*ke,xt+=d*Fe,mt+=d*Ze,ut+=d*Xe,yt+=d*it,Ye+=d*dt,st+=d*ft,je+=d*vt,He+=d*Rt,et+=d*Ot,$e+=d*jt,Ie+=d*fn,Ce+=d*hn,Ne+=d*ln,d=N[9],wt+=d*W,At+=d*Re,xt+=d*ke,mt+=d*Fe,ut+=d*Ze,yt+=d*Xe,Ye+=d*it,st+=d*dt,je+=d*ft,He+=d*vt,et+=d*Rt,$e+=d*Ot,Ie+=d*jt,Ce+=d*fn,Ne+=d*hn,b+=d*ln,d=N[10],At+=d*W,xt+=d*Re,mt+=d*ke,ut+=d*Fe,yt+=d*Ze,Ye+=d*Xe,st+=d*it,je+=d*dt,He+=d*ft,et+=d*vt,$e+=d*Rt,Ie+=d*Ot,Ce+=d*jt,Ne+=d*fn,b+=d*hn,B+=d*ln,d=N[11],xt+=d*W,mt+=d*Re,ut+=d*ke,yt+=d*Fe,Ye+=d*Ze,st+=d*Xe,je+=d*it,He+=d*dt,et+=d*ft,$e+=d*vt,Ie+=d*Rt,Ce+=d*Ot,Ne+=d*jt,b+=d*fn,B+=d*hn,L+=d*ln,d=N[12],mt+=d*W,ut+=d*Re,yt+=d*ke,Ye+=d*Fe,st+=d*Ze,je+=d*Xe,He+=d*it,et+=d*dt,$e+=d*ft,Ie+=d*vt,Ce+=d*Rt,Ne+=d*Ot,b+=d*jt,B+=d*fn,L+=d*hn,H+=d*ln,d=N[13],ut+=d*W,yt+=d*Re,Ye+=d*ke,st+=d*Fe,je+=d*Ze,He+=d*Xe,et+=d*it,$e+=d*dt,Ie+=d*ft,Ce+=d*vt,Ne+=d*Rt,b+=d*Ot,B+=d*jt,L+=d*fn,H+=d*hn,K+=d*ln,d=N[14],yt+=d*W,Ye+=d*Re,st+=d*ke,je+=d*Fe,He+=d*Ze,et+=d*Xe,$e+=d*it,Ie+=d*dt,Ce+=d*ft,Ne+=d*vt,b+=d*Rt,B+=d*Ot,L+=d*jt,H+=d*fn,K+=d*hn,ee+=d*ln,d=N[15],Ye+=d*W,st+=d*Re,je+=d*ke,He+=d*Fe,et+=d*Ze,$e+=d*Xe,Ie+=d*it,Ce+=d*dt,Ne+=d*ft,b+=d*vt,B+=d*Rt,L+=d*Ot,H+=d*jt,K+=d*fn,ee+=d*hn,ye+=d*ln,de+=38*st,me+=38*je,Te+=38*He,De+=38*et,nt+=38*$e,ze+=38*Ie,St+=38*Ce,Ke+=38*Ne,gt+=38*b,wt+=38*B,At+=38*L,xt+=38*H,mt+=38*K,ut+=38*ee,yt+=38*ye,P=1,d=de+P+65535,P=Math.floor(d/65536),de=d-P*65536,d=me+P+65535,P=Math.floor(d/65536),me=d-P*65536,d=Te+P+65535,P=Math.floor(d/65536),Te=d-P*65536,d=De+P+65535,P=Math.floor(d/65536),De=d-P*65536,d=nt+P+65535,P=Math.floor(d/65536),nt=d-P*65536,d=ze+P+65535,P=Math.floor(d/65536),ze=d-P*65536,d=St+P+65535,P=Math.floor(d/65536),St=d-P*65536,d=Ke+P+65535,P=Math.floor(d/65536),Ke=d-P*65536,d=gt+P+65535,P=Math.floor(d/65536),gt=d-P*65536,d=wt+P+65535,P=Math.floor(d/65536),wt=d-P*65536,d=At+P+65535,P=Math.floor(d/65536),At=d-P*65536,d=xt+P+65535,P=Math.floor(d/65536),xt=d-P*65536,d=mt+P+65535,P=Math.floor(d/65536),mt=d-P*65536,d=ut+P+65535,P=Math.floor(d/65536),ut=d-P*65536,d=yt+P+65535,P=Math.floor(d/65536),yt=d-P*65536,d=Ye+P+65535,P=Math.floor(d/65536),Ye=d-P*65536,de+=P-1+37*(P-1),P=1,d=de+P+65535,P=Math.floor(d/65536),de=d-P*65536,d=me+P+65535,P=Math.floor(d/65536),me=d-P*65536,d=Te+P+65535,P=Math.floor(d/65536),Te=d-P*65536,d=De+P+65535,P=Math.floor(d/65536),De=d-P*65536,d=nt+P+65535,P=Math.floor(d/65536),nt=d-P*65536,d=ze+P+65535,P=Math.floor(d/65536),ze=d-P*65536,d=St+P+65535,P=Math.floor(d/65536),St=d-P*65536,d=Ke+P+65535,P=Math.floor(d/65536),Ke=d-P*65536,d=gt+P+65535,P=Math.floor(d/65536),gt=d-P*65536,d=wt+P+65535,P=Math.floor(d/65536),wt=d-P*65536,d=At+P+65535,P=Math.floor(d/65536),At=d-P*65536,d=xt+P+65535,P=Math.floor(d/65536),xt=d-P*65536,d=mt+P+65535,P=Math.floor(d/65536),mt=d-P*65536,d=ut+P+65535,P=Math.floor(d/65536),ut=d-P*65536,d=yt+P+65535,P=Math.floor(d/65536),yt=d-P*65536,d=Ye+P+65535,P=Math.floor(d/65536),Ye=d-P*65536,de+=P-1+37*(P-1),w[0]=de,w[1]=me,w[2]=Te,w[3]=De,w[4]=nt,w[5]=ze,w[6]=St,w[7]=Ke,w[8]=gt,w[9]=wt,w[10]=At,w[11]=xt,w[12]=mt,w[13]=ut,w[14]=yt,w[15]=Ye}function rt(w,N){We(w,N,N)}function at(w,N){var T=n(),d;for(d=0;d<16;d++)T[d]=N[d];for(d=253;d>=0;d--)rt(T,T),d!==2&&d!==4&&We(T,T,N);for(d=0;d<16;d++)w[d]=T[d]}function Be(w,N){var T=n(),d;for(d=0;d<16;d++)T[d]=N[d];for(d=250;d>=0;d--)rt(T,T),d!==1&&We(T,T,N);for(d=0;d<16;d++)w[d]=T[d]}function Me(w,N,T){var d=new Uint8Array(32),P=new Float64Array(80),de,me,Te=n(),De=n(),nt=n(),ze=n(),St=n(),Ke=n();for(me=0;me<31;me++)d[me]=N[me];for(d[31]=N[31]&127|64,d[0]&=248,ve(P,T),me=0;me<16;me++)De[me]=P[me],ze[me]=Te[me]=nt[me]=0;for(Te[0]=ze[0]=1,me=254;me>=0;--me)de=d[me>>>3]>>>(me&7)&1,Y(Te,De,de),Y(nt,ze,de),_e(St,Te,nt),ue(Te,Te,nt),_e(nt,De,ze),ue(De,De,ze),rt(ze,St),rt(Ke,Te),We(Te,nt,Te),We(nt,De,St),_e(St,Te,nt),ue(Te,Te,nt),rt(De,Te),ue(nt,ze,Ke),We(Te,nt,l),_e(Te,Te,ze),We(nt,nt,Te),We(Te,ze,Ke),We(ze,De,P),rt(De,St),Y(Te,De,de),Y(nt,ze,de);for(me=0;me<16;me++)P[me+16]=Te[me],P[me+32]=nt[me],P[me+48]=De[me],P[me+64]=ze[me];var gt=P.subarray(32),wt=P.subarray(16);return at(gt,gt),We(wt,wt,gt),q(w,wt),0}function R(w,N){return Me(w,N,s)}function U(w,N){return r(N,32),R(w,N)}function X(w,N,T){var d=new Uint8Array(32);return Me(d,T,N),Z(w,i,d,C)}var he=Le,se=Ve;function ce(w,N,T,d,P,de){var me=new Uint8Array(32);return X(me,P,de),he(w,N,T,d,me)}function xe(w,N,T,d,P,de){var me=new Uint8Array(32);return X(me,P,de),se(w,N,T,d,me)}var re=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function le(w,N,T,d){for(var P=new Int32Array(16),de=new Int32Array(16),me,Te,De,nt,ze,St,Ke,gt,wt,At,xt,mt,ut,yt,Ye,st,je,He,et,$e,Ie,Ce,Ne,b,B,L,H=w[0],K=w[1],ee=w[2],ye=w[3],W=w[4],Re=w[5],ke=w[6],Fe=w[7],Ze=N[0],Xe=N[1],it=N[2],dt=N[3],ft=N[4],vt=N[5],Rt=N[6],Ot=N[7],jt=0;d>=128;){for(et=0;et<16;et++)$e=8*et+jt,P[et]=T[$e+0]<<24|T[$e+1]<<16|T[$e+2]<<8|T[$e+3],de[et]=T[$e+4]<<24|T[$e+5]<<16|T[$e+6]<<8|T[$e+7];for(et=0;et<80;et++)if(me=H,Te=K,De=ee,nt=ye,ze=W,St=Re,Ke=ke,gt=Fe,wt=Ze,At=Xe,xt=it,mt=dt,ut=ft,yt=vt,Ye=Rt,st=Ot,Ie=Fe,Ce=Ot,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=(W>>>14|ft<<18)^(W>>>18|ft<<14)^(ft>>>9|W<<23),Ce=(ft>>>14|W<<18)^(ft>>>18|W<<14)^(W>>>9|ft<<23),Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,Ie=W&Re^~W&ke,Ce=ft&vt^~ft&Rt,Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,Ie=re[et*2],Ce=re[et*2+1],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,Ie=P[et%16],Ce=de[et%16],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,je=B&65535|L<<16,He=Ne&65535|b<<16,Ie=je,Ce=He,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=(H>>>28|Ze<<4)^(Ze>>>2|H<<30)^(Ze>>>7|H<<25),Ce=(Ze>>>28|H<<4)^(H>>>2|Ze<<30)^(H>>>7|Ze<<25),Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,Ie=H&K^H&ee^K&ee,Ce=Ze&Xe^Ze&it^Xe&it,Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,gt=B&65535|L<<16,st=Ne&65535|b<<16,Ie=nt,Ce=mt,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=je,Ce=He,Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,nt=B&65535|L<<16,mt=Ne&65535|b<<16,K=me,ee=Te,ye=De,W=nt,Re=ze,ke=St,Fe=Ke,H=gt,Xe=wt,it=At,dt=xt,ft=mt,vt=ut,Rt=yt,Ot=Ye,Ze=st,et%16===15)for($e=0;$e<16;$e++)Ie=P[$e],Ce=de[$e],Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=P[($e+9)%16],Ce=de[($e+9)%16],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,je=P[($e+1)%16],He=de[($e+1)%16],Ie=(je>>>1|He<<31)^(je>>>8|He<<24)^je>>>7,Ce=(He>>>1|je<<31)^(He>>>8|je<<24)^(He>>>7|je<<25),Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,je=P[($e+14)%16],He=de[($e+14)%16],Ie=(je>>>19|He<<13)^(He>>>29|je<<3)^je>>>6,Ce=(He>>>19|je<<13)^(je>>>29|He<<3)^(He>>>6|je<<26),Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,P[$e]=B&65535|L<<16,de[$e]=Ne&65535|b<<16;Ie=H,Ce=Ze,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[0],Ce=N[0],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[0]=H=B&65535|L<<16,N[0]=Ze=Ne&65535|b<<16,Ie=K,Ce=Xe,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[1],Ce=N[1],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[1]=K=B&65535|L<<16,N[1]=Xe=Ne&65535|b<<16,Ie=ee,Ce=it,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[2],Ce=N[2],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[2]=ee=B&65535|L<<16,N[2]=it=Ne&65535|b<<16,Ie=ye,Ce=dt,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[3],Ce=N[3],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[3]=ye=B&65535|L<<16,N[3]=dt=Ne&65535|b<<16,Ie=W,Ce=ft,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[4],Ce=N[4],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[4]=W=B&65535|L<<16,N[4]=ft=Ne&65535|b<<16,Ie=Re,Ce=vt,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[5],Ce=N[5],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[5]=Re=B&65535|L<<16,N[5]=vt=Ne&65535|b<<16,Ie=ke,Ce=Rt,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[6],Ce=N[6],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[6]=ke=B&65535|L<<16,N[6]=Rt=Ne&65535|b<<16,Ie=Fe,Ce=Ot,Ne=Ce&65535,b=Ce>>>16,B=Ie&65535,L=Ie>>>16,Ie=w[7],Ce=N[7],Ne+=Ce&65535,b+=Ce>>>16,B+=Ie&65535,L+=Ie>>>16,b+=Ne>>>16,B+=b>>>16,L+=B>>>16,w[7]=Fe=B&65535|L<<16,N[7]=Ot=Ne&65535|b<<16,jt+=128,d-=128}return d}function pe(w,N,T){var d=new Int32Array(8),P=new Int32Array(8),de=new Uint8Array(256),me,Te=T;for(d[0]=1779033703,d[1]=3144134277,d[2]=1013904242,d[3]=2773480762,d[4]=1359893119,d[5]=2600822924,d[6]=528734635,d[7]=1541459225,P[0]=4089235720,P[1]=2227873595,P[2]=4271175723,P[3]=1595750129,P[4]=2917565137,P[5]=725511199,P[6]=4215389547,P[7]=327033209,le(d,P,N,T),T%=128,me=0;me<T;me++)de[me]=N[Te-T+me];for(de[T]=128,T=256-128*(T<112?1:0),de[T-9]=0,S(de,T-8,Te/536870912|0,Te<<3),le(d,P,de,T),me=0;me<8;me++)S(w,8*me,d[me],P[me]);return 0}function _(w,N){var T=n(),d=n(),P=n(),de=n(),me=n(),Te=n(),De=n(),nt=n(),ze=n();ue(T,w[1],w[0]),ue(ze,N[1],N[0]),We(T,T,ze),_e(d,w[0],w[1]),_e(ze,N[0],N[1]),We(d,d,ze),We(P,w[3],N[3]),We(P,P,f),We(de,w[2],N[2]),_e(de,de,de),ue(me,d,T),ue(Te,de,P),_e(De,de,P),_e(nt,d,T),We(w[0],me,Te),We(w[1],nt,De),We(w[2],De,Te),We(w[3],me,nt)}function g(w,N,T){var d;for(d=0;d<4;d++)Y(w[d],N[d],T)}function k(w,N){var T=n(),d=n(),P=n();at(P,N[2]),We(T,N[0],P),We(d,N[1],P),q(w,d),w[31]^=we(T)<<7}function O(w,N,T){var d,P;for(Ge(w[0],o),Ge(w[1],a),Ge(w[2],a),Ge(w[3],o),P=255;P>=0;--P)d=T[P/8|0]>>(P&7)&1,g(w,N,d),_(N,w),_(w,w),g(w,N,d)}function j(w,N){var T=[n(),n(),n(),n()];Ge(T[0],h),Ge(T[1],v),Ge(T[2],a),We(T[3],h,v),O(w,T,N)}function ne(w,N,T){var d=new Uint8Array(64),P=[n(),n(),n(),n()],de;for(T||r(N,32),pe(d,N,32),d[0]&=248,d[31]&=127,d[31]|=64,j(P,d),k(w,P),de=0;de<32;de++)N[de+32]=w[de];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function y(w,N){var T,d,P,de;for(d=63;d>=32;--d){for(T=0,P=d-32,de=d-12;P<de;++P)N[P]+=T-16*N[d]*ie[P-(d-32)],T=Math.floor((N[P]+128)/256),N[P]-=T*256;N[P]+=T,N[d]=0}for(T=0,P=0;P<32;P++)N[P]+=T-(N[31]>>4)*ie[P],T=N[P]>>8,N[P]&=255;for(P=0;P<32;P++)N[P]-=T*ie[P];for(d=0;d<32;d++)N[d+1]+=N[d]>>8,w[d]=N[d]&255}function u(w){var N=new Float64Array(64),T;for(T=0;T<64;T++)N[T]=w[T];for(T=0;T<64;T++)w[T]=0;y(w,N)}function p(w,N,T,d){var P=new Uint8Array(64),de=new Uint8Array(64),me=new Uint8Array(64),Te,De,nt=new Float64Array(64),ze=[n(),n(),n(),n()];pe(P,d,32),P[0]&=248,P[31]&=127,P[31]|=64;var St=T+64;for(Te=0;Te<T;Te++)w[64+Te]=N[Te];for(Te=0;Te<32;Te++)w[32+Te]=P[32+Te];for(pe(me,w.subarray(32),T+32),u(me),j(ze,me),k(w,ze),Te=32;Te<64;Te++)w[Te]=d[Te];for(pe(de,w,T+64),u(de),Te=0;Te<64;Te++)nt[Te]=0;for(Te=0;Te<32;Te++)nt[Te]=me[Te];for(Te=0;Te<32;Te++)for(De=0;De<32;De++)nt[Te+De]+=de[Te]*P[De];return y(w.subarray(32),nt),St}function A(w,N){var T=n(),d=n(),P=n(),de=n(),me=n(),Te=n(),De=n();return Ge(w[2],a),ve(w[1],N),rt(P,w[1]),We(de,P,c),ue(P,P,w[2]),_e(de,w[2],de),rt(me,de),rt(Te,me),We(De,Te,me),We(T,De,P),We(T,T,de),Be(T,T),We(T,T,P),We(T,T,de),We(T,T,de),We(w[0],T,de),rt(d,w[0]),We(d,d,de),ae(d,P)&&We(w[0],w[0],I),rt(d,w[0]),We(d,d,de),ae(d,P)?-1:(we(w[0])===N[31]>>7&&ue(w[0],o,w[0]),We(w[3],w[0],w[1]),0)}function z(w,N,T,d){var P,de=new Uint8Array(32),me=new Uint8Array(64),Te=[n(),n(),n(),n()],De=[n(),n(),n(),n()];if(T<64||A(De,d))return-1;for(P=0;P<T;P++)w[P]=N[P];for(P=0;P<32;P++)w[P+32]=d[P];if(pe(me,w,T),u(me),O(Te,De,me),j(De,N.subarray(32)),_(Te,De),k(de,Te),T-=64,E(N,0,de,0)){for(P=0;P<T;P++)w[P]=0;return-1}for(P=0;P<T;P++)w[P]=N[P+64];return T}var te=32,ge=24,Ue=32,tt=16,Qe=32,Je=32,ct=32,Vt=32,Nt=32,en=ge,an=Ue,tn=tt,wr=64,Xr=32,mi=64,Bo=32,To=64;e.lowlevel={crypto_core_hsalsa20:Z,crypto_stream_xor:$,crypto_stream:Q,crypto_stream_salsa20_xor:D,crypto_stream_salsa20:V,crypto_onetimeauth:fe,crypto_onetimeauth_verify:be,crypto_verify_16:F,crypto_verify_32:E,crypto_secretbox:Le,crypto_secretbox_open:Ve,crypto_scalarmult:Me,crypto_scalarmult_base:R,crypto_box_beforenm:X,crypto_box_afternm:he,crypto_box:ce,crypto_box_open:xe,crypto_box_keypair:U,crypto_hash:pe,crypto_sign:p,crypto_sign_keypair:ne,crypto_sign_open:z,crypto_secretbox_KEYBYTES:te,crypto_secretbox_NONCEBYTES:ge,crypto_secretbox_ZEROBYTES:Ue,crypto_secretbox_BOXZEROBYTES:tt,crypto_scalarmult_BYTES:Qe,crypto_scalarmult_SCALARBYTES:Je,crypto_box_PUBLICKEYBYTES:ct,crypto_box_SECRETKEYBYTES:Vt,crypto_box_BEFORENMBYTES:Nt,crypto_box_NONCEBYTES:en,crypto_box_ZEROBYTES:an,crypto_box_BOXZEROBYTES:tn,crypto_sign_BYTES:wr,crypto_sign_PUBLICKEYBYTES:Xr,crypto_sign_SECRETKEYBYTES:mi,crypto_sign_SEEDBYTES:Bo,crypto_hash_BYTES:To,gf:n,D:c,L:ie,pack25519:q,unpack25519:ve,M:We,A:_e,S:rt,Z:ue,pow2523:Be,add:_,set25519:Ge,modL:y,scalarmult:O,scalarbase:j};function gl(w,N){if(w.length!==te)throw new Error("bad key size");if(N.length!==ge)throw new Error("bad nonce size")}function jd(w,N){if(w.length!==ct)throw new Error("bad public key size");if(N.length!==Vt)throw new Error("bad secret key size")}function Nn(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ml(w){for(var N=0;N<w.length;N++)w[N]=0}e.randomBytes=function(w){var N=new Uint8Array(w);return r(N,w),N},e.secretbox=function(w,N,T){Nn(w,N,T),gl(T,N);for(var d=new Uint8Array(Ue+w.length),P=new Uint8Array(d.length),de=0;de<w.length;de++)d[de+Ue]=w[de];return Le(P,d,d.length,N,T),P.subarray(tt)},e.secretbox.open=function(w,N,T){Nn(w,N,T),gl(T,N);for(var d=new Uint8Array(tt+w.length),P=new Uint8Array(d.length),de=0;de<w.length;de++)d[de+tt]=w[de];return d.length<32||Ve(P,d,d.length,N,T)!==0?null:P.subarray(Ue)},e.secretbox.keyLength=te,e.secretbox.nonceLength=ge,e.secretbox.overheadLength=tt,e.scalarMult=function(w,N){if(Nn(w,N),w.length!==Je)throw new Error("bad n size");if(N.length!==Qe)throw new Error("bad p size");var T=new Uint8Array(Qe);return Me(T,w,N),T},e.scalarMult.base=function(w){if(Nn(w),w.length!==Je)throw new Error("bad n size");var N=new Uint8Array(Qe);return R(N,w),N},e.scalarMult.scalarLength=Je,e.scalarMult.groupElementLength=Qe,e.box=function(w,N,T,d){var P=e.box.before(T,d);return e.secretbox(w,N,P)},e.box.before=function(w,N){Nn(w,N),jd(w,N);var T=new Uint8Array(Nt);return X(T,w,N),T},e.box.after=e.secretbox,e.box.open=function(w,N,T,d){var P=e.box.before(T,d);return e.secretbox.open(w,N,P)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var w=new Uint8Array(ct),N=new Uint8Array(Vt);return U(w,N),{publicKey:w,secretKey:N}},e.box.keyPair.fromSecretKey=function(w){if(Nn(w),w.length!==Vt)throw new Error("bad secret key size");var N=new Uint8Array(ct);return R(N,w),{publicKey:N,secretKey:new Uint8Array(w)}},e.box.publicKeyLength=ct,e.box.secretKeyLength=Vt,e.box.sharedKeyLength=Nt,e.box.nonceLength=en,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(w,N){if(Nn(w,N),N.length!==mi)throw new Error("bad secret key size");var T=new Uint8Array(wr+w.length);return p(T,w,w.length,N),T},e.sign.open=function(w,N){if(Nn(w,N),N.length!==Xr)throw new Error("bad public key size");var T=new Uint8Array(w.length),d=z(T,w,w.length,N);if(d<0)return null;for(var P=new Uint8Array(d),de=0;de<P.length;de++)P[de]=T[de];return P},e.sign.detached=function(w,N){for(var T=e.sign(w,N),d=new Uint8Array(wr),P=0;P<d.length;P++)d[P]=T[P];return d},e.sign.detached.verify=function(w,N,T){if(Nn(w,N,T),N.length!==wr)throw new Error("bad signature size");if(T.length!==Xr)throw new Error("bad public key size");var d=new Uint8Array(wr+w.length),P=new Uint8Array(wr+w.length),de;for(de=0;de<wr;de++)d[de]=N[de];for(de=0;de<w.length;de++)d[de+wr]=w[de];return z(P,d,d.length,T)>=0},e.sign.keyPair=function(){var w=new Uint8Array(Xr),N=new Uint8Array(mi);return ne(w,N),{publicKey:w,secretKey:N}},e.sign.keyPair.fromSecretKey=function(w){if(Nn(w),w.length!==mi)throw new Error("bad secret key size");for(var N=new Uint8Array(Xr),T=0;T<N.length;T++)N[T]=w[32+T];return{publicKey:N,secretKey:new Uint8Array(w)}},e.sign.keyPair.fromSeed=function(w){if(Nn(w),w.length!==Bo)throw new Error("bad seed size");for(var N=new Uint8Array(Xr),T=new Uint8Array(mi),d=0;d<32;d++)T[d]=w[d];return ne(N,T,!0),{publicKey:N,secretKey:T}},e.sign.publicKeyLength=Xr,e.sign.secretKeyLength=mi,e.sign.seedLength=Bo,e.sign.signatureLength=wr,e.hash=function(w){Nn(w);var N=new Uint8Array(To);return pe(N,w,w.length),N},e.hash.hashLength=To,e.verify=function(w,N){return Nn(w,N),w.length===0||N.length===0||w.length!==N.length?!1:M(w,0,N,0,w.length)===0},e.setPRNG=function(w){r=w},function(){var w=typeof self<"u"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var N=65536;e.setPRNG(function(T,d){var P,de=new Uint8Array(d);for(P=0;P<d;P+=N)w.getRandomValues(de.subarray(P,P+Math.min(d-P,N)));for(P=0;P<d;P++)T[P]=de[P];ml(de)})}else typeof sA<"u"&&(w=lA,w&&w.randomBytes&&e.setPRNG(function(T,d){var P,de=w.randomBytes(d);for(P=0;P<d;P++)T[P]=de[P];ml(de)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Nv);var cA=Nv.exports;const $r=Ja(cA);var Lv={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA512_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Qc:s&&(i=self);var a=!i.JS_SHA512_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],h=[24,16,8,0],v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],I=["hex","array","digest","arrayBuffer"],S=[];(i.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(C){return Object.prototype.toString.call(C)==="[object Array]"}),l&&(i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(C){return typeof C=="object"&&C.buffer&&C.buffer.constructor===ArrayBuffer});var M=function(C,D){return function(V){return new x(D,!0).update(V)[C]()}},F=function(C){var D=M("hex",C);D.create=function(){return new x(C)},D.update=function($){return D.create().update($)};for(var V=0;V<I.length;++V){var Q=I[V];D[Q]=M(Q,C)}return D},E=function(C,D){return function(V,Q){return new G(V,D,!0).update(Q)[C]()}},m=function(C){var D=E("hex",C);D.create=function($){return new G($,C)},D.update=function($,Ae){return D.create($).update(Ae)};for(var V=0;V<I.length;++V){var Q=I[V];D[Q]=E(Q,C)}return D};function x(C,D){D?(S[0]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=S[16]=S[17]=S[18]=S[19]=S[20]=S[21]=S[22]=S[23]=S[24]=S[25]=S[26]=S[27]=S[28]=S[29]=S[30]=S[31]=S[32]=0,this.blocks=S):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):C==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):C==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=C,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}x.prototype.update=function(C){if(this.finalized)throw new Error(n);var D,V=typeof C;if(V!=="string"){if(V==="object"){if(C===null)throw new Error(e);if(l&&C.constructor===ArrayBuffer)C=new Uint8Array(C);else if(!Array.isArray(C)&&(!l||!ArrayBuffer.isView(C)))throw new Error(e)}else throw new Error(e);D=!0}for(var Q,$=0,Ae,fe=C.length,be=this.blocks;$<fe;){if(this.hashed&&(this.hashed=!1,be[0]=this.block,be[1]=be[2]=be[3]=be[4]=be[5]=be[6]=be[7]=be[8]=be[9]=be[10]=be[11]=be[12]=be[13]=be[14]=be[15]=be[16]=be[17]=be[18]=be[19]=be[20]=be[21]=be[22]=be[23]=be[24]=be[25]=be[26]=be[27]=be[28]=be[29]=be[30]=be[31]=be[32]=0),D)for(Ae=this.start;$<fe&&Ae<128;++$)be[Ae>>2]|=C[$]<<h[Ae++&3];else for(Ae=this.start;$<fe&&Ae<128;++$)Q=C.charCodeAt($),Q<128?be[Ae>>2]|=Q<<h[Ae++&3]:Q<2048?(be[Ae>>2]|=(192|Q>>6)<<h[Ae++&3],be[Ae>>2]|=(128|Q&63)<<h[Ae++&3]):Q<55296||Q>=57344?(be[Ae>>2]|=(224|Q>>12)<<h[Ae++&3],be[Ae>>2]|=(128|Q>>6&63)<<h[Ae++&3],be[Ae>>2]|=(128|Q&63)<<h[Ae++&3]):(Q=65536+((Q&1023)<<10|C.charCodeAt(++$)&1023),be[Ae>>2]|=(240|Q>>18)<<h[Ae++&3],be[Ae>>2]|=(128|Q>>12&63)<<h[Ae++&3],be[Ae>>2]|=(128|Q>>6&63)<<h[Ae++&3],be[Ae>>2]|=(128|Q&63)<<h[Ae++&3]);this.lastByteIndex=Ae,this.bytes+=Ae-this.start,Ae>=128?(this.block=be[32],this.start=Ae-128,this.hash(),this.hashed=!0):this.start=Ae}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var C=this.blocks,D=this.lastByteIndex;C[32]=this.block,C[D>>2]|=f[D&3],this.block=C[32],D>=112&&(this.hashed||this.hash(),C[0]=this.block,C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=C[10]=C[11]=C[12]=C[13]=C[14]=C[15]=C[16]=C[17]=C[18]=C[19]=C[20]=C[21]=C[22]=C[23]=C[24]=C[25]=C[26]=C[27]=C[28]=C[29]=C[30]=C[31]=C[32]=0),C[30]=this.hBytes<<3|this.bytes>>>29,C[31]=this.bytes<<3,this.hash()}},x.prototype.hash=function(){var C=this.h0h,D=this.h0l,V=this.h1h,Q=this.h1l,$=this.h2h,Ae=this.h2l,fe=this.h3h,be=this.h3l,Le=this.h4h,Ve=this.h4l,Ge=this.h5h,Pe=this.h5l,Y=this.h6h,q=this.h6l,ae=this.h7h,we=this.h7l,ve=this.blocks,_e,ue,We,rt,at,Be,Me,R,U,X,he,se,ce,xe,re,le,pe,_,g,k,O,j,ne,ie,y;for(_e=32;_e<160;_e+=2)k=ve[_e-30],O=ve[_e-29],ue=(k>>>1|O<<31)^(k>>>8|O<<24)^k>>>7,We=(O>>>1|k<<31)^(O>>>8|k<<24)^(O>>>7|k<<25),k=ve[_e-4],O=ve[_e-3],rt=(k>>>19|O<<13)^(O>>>29|k<<3)^k>>>6,at=(O>>>19|k<<13)^(k>>>29|O<<3)^(O>>>6|k<<26),k=ve[_e-32],O=ve[_e-31],j=ve[_e-14],ne=ve[_e-13],Be=(ne&65535)+(O&65535)+(We&65535)+(at&65535),Me=(ne>>>16)+(O>>>16)+(We>>>16)+(at>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(ue&65535)+(rt&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(ue>>>16)+(rt>>>16)+(R>>>16),ve[_e]=U<<16|R&65535,ve[_e+1]=Me<<16|Be&65535;var u=C,p=D,A=V,z=Q,te=$,ge=Ae,Ue=fe,tt=be,Qe=Le,Je=Ve,ct=Ge,Vt=Pe,Nt=Y,en=q,an=ae,tn=we;for(le=A&te,pe=z&ge,_e=0;_e<160;_e+=8)ue=(u>>>28|p<<4)^(p>>>2|u<<30)^(p>>>7|u<<25),We=(p>>>28|u<<4)^(u>>>2|p<<30)^(u>>>7|p<<25),rt=(Qe>>>14|Je<<18)^(Qe>>>18|Je<<14)^(Je>>>9|Qe<<23),at=(Je>>>14|Qe<<18)^(Je>>>18|Qe<<14)^(Qe>>>9|Je<<23),X=u&A,he=p&z,_=X^u&te^le,g=he^p&ge^pe,ie=Qe&ct^~Qe&Nt,y=Je&Vt^~Je&en,k=ve[_e],O=ve[_e+1],j=v[_e],ne=v[_e+1],Be=(ne&65535)+(O&65535)+(y&65535)+(at&65535)+(tn&65535),Me=(ne>>>16)+(O>>>16)+(y>>>16)+(at>>>16)+(tn>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(ie&65535)+(rt&65535)+(an&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(ie>>>16)+(rt>>>16)+(an>>>16)+(R>>>16),k=U<<16|R&65535,O=Me<<16|Be&65535,Be=(g&65535)+(We&65535),Me=(g>>>16)+(We>>>16)+(Be>>>16),R=(_&65535)+(ue&65535)+(Me>>>16),U=(_>>>16)+(ue>>>16)+(R>>>16),j=U<<16|R&65535,ne=Me<<16|Be&65535,Be=(tt&65535)+(O&65535),Me=(tt>>>16)+(O>>>16)+(Be>>>16),R=(Ue&65535)+(k&65535)+(Me>>>16),U=(Ue>>>16)+(k>>>16)+(R>>>16),an=U<<16|R&65535,tn=Me<<16|Be&65535,Be=(ne&65535)+(O&65535),Me=(ne>>>16)+(O>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(R>>>16),Ue=U<<16|R&65535,tt=Me<<16|Be&65535,ue=(Ue>>>28|tt<<4)^(tt>>>2|Ue<<30)^(tt>>>7|Ue<<25),We=(tt>>>28|Ue<<4)^(Ue>>>2|tt<<30)^(Ue>>>7|tt<<25),rt=(an>>>14|tn<<18)^(an>>>18|tn<<14)^(tn>>>9|an<<23),at=(tn>>>14|an<<18)^(tn>>>18|an<<14)^(an>>>9|tn<<23),se=Ue&u,ce=tt&p,_=se^Ue&A^X,g=ce^tt&z^he,ie=an&Qe^~an&ct,y=tn&Je^~tn&Vt,k=ve[_e+2],O=ve[_e+3],j=v[_e+2],ne=v[_e+3],Be=(ne&65535)+(O&65535)+(y&65535)+(at&65535)+(en&65535),Me=(ne>>>16)+(O>>>16)+(y>>>16)+(at>>>16)+(en>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(ie&65535)+(rt&65535)+(Nt&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(ie>>>16)+(rt>>>16)+(Nt>>>16)+(R>>>16),k=U<<16|R&65535,O=Me<<16|Be&65535,Be=(g&65535)+(We&65535),Me=(g>>>16)+(We>>>16)+(Be>>>16),R=(_&65535)+(ue&65535)+(Me>>>16),U=(_>>>16)+(ue>>>16)+(R>>>16),j=U<<16|R&65535,ne=Me<<16|Be&65535,Be=(ge&65535)+(O&65535),Me=(ge>>>16)+(O>>>16)+(Be>>>16),R=(te&65535)+(k&65535)+(Me>>>16),U=(te>>>16)+(k>>>16)+(R>>>16),Nt=U<<16|R&65535,en=Me<<16|Be&65535,Be=(ne&65535)+(O&65535),Me=(ne>>>16)+(O>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(R>>>16),te=U<<16|R&65535,ge=Me<<16|Be&65535,ue=(te>>>28|ge<<4)^(ge>>>2|te<<30)^(ge>>>7|te<<25),We=(ge>>>28|te<<4)^(te>>>2|ge<<30)^(te>>>7|ge<<25),rt=(Nt>>>14|en<<18)^(Nt>>>18|en<<14)^(en>>>9|Nt<<23),at=(en>>>14|Nt<<18)^(en>>>18|Nt<<14)^(Nt>>>9|en<<23),xe=te&Ue,re=ge&tt,_=xe^te&u^se,g=re^ge&p^ce,ie=Nt&an^~Nt&Qe,y=en&tn^~en&Je,k=ve[_e+4],O=ve[_e+5],j=v[_e+4],ne=v[_e+5],Be=(ne&65535)+(O&65535)+(y&65535)+(at&65535)+(Vt&65535),Me=(ne>>>16)+(O>>>16)+(y>>>16)+(at>>>16)+(Vt>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(ie&65535)+(rt&65535)+(ct&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(ie>>>16)+(rt>>>16)+(ct>>>16)+(R>>>16),k=U<<16|R&65535,O=Me<<16|Be&65535,Be=(g&65535)+(We&65535),Me=(g>>>16)+(We>>>16)+(Be>>>16),R=(_&65535)+(ue&65535)+(Me>>>16),U=(_>>>16)+(ue>>>16)+(R>>>16),j=U<<16|R&65535,ne=Me<<16|Be&65535,Be=(z&65535)+(O&65535),Me=(z>>>16)+(O>>>16)+(Be>>>16),R=(A&65535)+(k&65535)+(Me>>>16),U=(A>>>16)+(k>>>16)+(R>>>16),ct=U<<16|R&65535,Vt=Me<<16|Be&65535,Be=(ne&65535)+(O&65535),Me=(ne>>>16)+(O>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(R>>>16),A=U<<16|R&65535,z=Me<<16|Be&65535,ue=(A>>>28|z<<4)^(z>>>2|A<<30)^(z>>>7|A<<25),We=(z>>>28|A<<4)^(A>>>2|z<<30)^(A>>>7|z<<25),rt=(ct>>>14|Vt<<18)^(ct>>>18|Vt<<14)^(Vt>>>9|ct<<23),at=(Vt>>>14|ct<<18)^(Vt>>>18|ct<<14)^(ct>>>9|Vt<<23),le=A&te,pe=z&ge,_=le^A&Ue^xe,g=pe^z&tt^re,ie=ct&Nt^~ct&an,y=Vt&en^~Vt&tn,k=ve[_e+6],O=ve[_e+7],j=v[_e+6],ne=v[_e+7],Be=(ne&65535)+(O&65535)+(y&65535)+(at&65535)+(Je&65535),Me=(ne>>>16)+(O>>>16)+(y>>>16)+(at>>>16)+(Je>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(ie&65535)+(rt&65535)+(Qe&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(ie>>>16)+(rt>>>16)+(Qe>>>16)+(R>>>16),k=U<<16|R&65535,O=Me<<16|Be&65535,Be=(g&65535)+(We&65535),Me=(g>>>16)+(We>>>16)+(Be>>>16),R=(_&65535)+(ue&65535)+(Me>>>16),U=(_>>>16)+(ue>>>16)+(R>>>16),j=U<<16|R&65535,ne=Me<<16|Be&65535,Be=(p&65535)+(O&65535),Me=(p>>>16)+(O>>>16)+(Be>>>16),R=(u&65535)+(k&65535)+(Me>>>16),U=(u>>>16)+(k>>>16)+(R>>>16),Qe=U<<16|R&65535,Je=Me<<16|Be&65535,Be=(ne&65535)+(O&65535),Me=(ne>>>16)+(O>>>16)+(Be>>>16),R=(j&65535)+(k&65535)+(Me>>>16),U=(j>>>16)+(k>>>16)+(R>>>16),u=U<<16|R&65535,p=Me<<16|Be&65535;Be=(D&65535)+(p&65535),Me=(D>>>16)+(p>>>16)+(Be>>>16),R=(C&65535)+(u&65535)+(Me>>>16),U=(C>>>16)+(u>>>16)+(R>>>16),this.h0h=U<<16|R&65535,this.h0l=Me<<16|Be&65535,Be=(Q&65535)+(z&65535),Me=(Q>>>16)+(z>>>16)+(Be>>>16),R=(V&65535)+(A&65535)+(Me>>>16),U=(V>>>16)+(A>>>16)+(R>>>16),this.h1h=U<<16|R&65535,this.h1l=Me<<16|Be&65535,Be=(Ae&65535)+(ge&65535),Me=(Ae>>>16)+(ge>>>16)+(Be>>>16),R=($&65535)+(te&65535)+(Me>>>16),U=($>>>16)+(te>>>16)+(R>>>16),this.h2h=U<<16|R&65535,this.h2l=Me<<16|Be&65535,Be=(be&65535)+(tt&65535),Me=(be>>>16)+(tt>>>16)+(Be>>>16),R=(fe&65535)+(Ue&65535)+(Me>>>16),U=(fe>>>16)+(Ue>>>16)+(R>>>16),this.h3h=U<<16|R&65535,this.h3l=Me<<16|Be&65535,Be=(Ve&65535)+(Je&65535),Me=(Ve>>>16)+(Je>>>16)+(Be>>>16),R=(Le&65535)+(Qe&65535)+(Me>>>16),U=(Le>>>16)+(Qe>>>16)+(R>>>16),this.h4h=U<<16|R&65535,this.h4l=Me<<16|Be&65535,Be=(Pe&65535)+(Vt&65535),Me=(Pe>>>16)+(Vt>>>16)+(Be>>>16),R=(Ge&65535)+(ct&65535)+(Me>>>16),U=(Ge>>>16)+(ct>>>16)+(R>>>16),this.h5h=U<<16|R&65535,this.h5l=Me<<16|Be&65535,Be=(q&65535)+(en&65535),Me=(q>>>16)+(en>>>16)+(Be>>>16),R=(Y&65535)+(Nt&65535)+(Me>>>16),U=(Y>>>16)+(Nt>>>16)+(R>>>16),this.h6h=U<<16|R&65535,this.h6l=Me<<16|Be&65535,Be=(we&65535)+(tn&65535),Me=(we>>>16)+(tn>>>16)+(Be>>>16),R=(ae&65535)+(an&65535)+(Me>>>16),U=(ae>>>16)+(an>>>16)+(R>>>16),this.h7h=U<<16|R&65535,this.h7l=Me<<16|Be&65535},x.prototype.hex=function(){this.finalize();var C=this.h0h,D=this.h0l,V=this.h1h,Q=this.h1l,$=this.h2h,Ae=this.h2l,fe=this.h3h,be=this.h3l,Le=this.h4h,Ve=this.h4l,Ge=this.h5h,Pe=this.h5l,Y=this.h6h,q=this.h6l,ae=this.h7h,we=this.h7l,ve=this.bits,_e=c[C>>28&15]+c[C>>24&15]+c[C>>20&15]+c[C>>16&15]+c[C>>12&15]+c[C>>8&15]+c[C>>4&15]+c[C&15]+c[D>>28&15]+c[D>>24&15]+c[D>>20&15]+c[D>>16&15]+c[D>>12&15]+c[D>>8&15]+c[D>>4&15]+c[D&15]+c[V>>28&15]+c[V>>24&15]+c[V>>20&15]+c[V>>16&15]+c[V>>12&15]+c[V>>8&15]+c[V>>4&15]+c[V&15]+c[Q>>28&15]+c[Q>>24&15]+c[Q>>20&15]+c[Q>>16&15]+c[Q>>12&15]+c[Q>>8&15]+c[Q>>4&15]+c[Q&15]+c[$>>28&15]+c[$>>24&15]+c[$>>20&15]+c[$>>16&15]+c[$>>12&15]+c[$>>8&15]+c[$>>4&15]+c[$&15]+c[Ae>>28&15]+c[Ae>>24&15]+c[Ae>>20&15]+c[Ae>>16&15]+c[Ae>>12&15]+c[Ae>>8&15]+c[Ae>>4&15]+c[Ae&15]+c[fe>>28&15]+c[fe>>24&15]+c[fe>>20&15]+c[fe>>16&15]+c[fe>>12&15]+c[fe>>8&15]+c[fe>>4&15]+c[fe&15];return ve>=256&&(_e+=c[be>>28&15]+c[be>>24&15]+c[be>>20&15]+c[be>>16&15]+c[be>>12&15]+c[be>>8&15]+c[be>>4&15]+c[be&15]),ve>=384&&(_e+=c[Le>>28&15]+c[Le>>24&15]+c[Le>>20&15]+c[Le>>16&15]+c[Le>>12&15]+c[Le>>8&15]+c[Le>>4&15]+c[Le&15]+c[Ve>>28&15]+c[Ve>>24&15]+c[Ve>>20&15]+c[Ve>>16&15]+c[Ve>>12&15]+c[Ve>>8&15]+c[Ve>>4&15]+c[Ve&15]+c[Ge>>28&15]+c[Ge>>24&15]+c[Ge>>20&15]+c[Ge>>16&15]+c[Ge>>12&15]+c[Ge>>8&15]+c[Ge>>4&15]+c[Ge&15]+c[Pe>>28&15]+c[Pe>>24&15]+c[Pe>>20&15]+c[Pe>>16&15]+c[Pe>>12&15]+c[Pe>>8&15]+c[Pe>>4&15]+c[Pe&15]),ve==512&&(_e+=c[Y>>28&15]+c[Y>>24&15]+c[Y>>20&15]+c[Y>>16&15]+c[Y>>12&15]+c[Y>>8&15]+c[Y>>4&15]+c[Y&15]+c[q>>28&15]+c[q>>24&15]+c[q>>20&15]+c[q>>16&15]+c[q>>12&15]+c[q>>8&15]+c[q>>4&15]+c[q&15]+c[ae>>28&15]+c[ae>>24&15]+c[ae>>20&15]+c[ae>>16&15]+c[ae>>12&15]+c[ae>>8&15]+c[ae>>4&15]+c[ae&15]+c[we>>28&15]+c[we>>24&15]+c[we>>20&15]+c[we>>16&15]+c[we>>12&15]+c[we>>8&15]+c[we>>4&15]+c[we&15]),_e},x.prototype.toString=x.prototype.hex,x.prototype.digest=function(){this.finalize();var C=this.h0h,D=this.h0l,V=this.h1h,Q=this.h1l,$=this.h2h,Ae=this.h2l,fe=this.h3h,be=this.h3l,Le=this.h4h,Ve=this.h4l,Ge=this.h5h,Pe=this.h5l,Y=this.h6h,q=this.h6l,ae=this.h7h,we=this.h7l,ve=this.bits,_e=[C>>24&255,C>>16&255,C>>8&255,C&255,D>>24&255,D>>16&255,D>>8&255,D&255,V>>24&255,V>>16&255,V>>8&255,V&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255,$>>24&255,$>>16&255,$>>8&255,$&255,Ae>>24&255,Ae>>16&255,Ae>>8&255,Ae&255,fe>>24&255,fe>>16&255,fe>>8&255,fe&255];return ve>=256&&_e.push(be>>24&255,be>>16&255,be>>8&255,be&255),ve>=384&&_e.push(Le>>24&255,Le>>16&255,Le>>8&255,Le&255,Ve>>24&255,Ve>>16&255,Ve>>8&255,Ve&255,Ge>>24&255,Ge>>16&255,Ge>>8&255,Ge&255,Pe>>24&255,Pe>>16&255,Pe>>8&255,Pe&255),ve==512&&_e.push(Y>>24&255,Y>>16&255,Y>>8&255,Y&255,q>>24&255,q>>16&255,q>>8&255,q&255,ae>>24&255,ae>>16&255,ae>>8&255,ae&255,we>>24&255,we>>16&255,we>>8&255,we&255),_e},x.prototype.array=x.prototype.digest,x.prototype.arrayBuffer=function(){this.finalize();var C=this.bits,D=new ArrayBuffer(C/8),V=new DataView(D);return V.setUint32(0,this.h0h),V.setUint32(4,this.h0l),V.setUint32(8,this.h1h),V.setUint32(12,this.h1l),V.setUint32(16,this.h2h),V.setUint32(20,this.h2l),V.setUint32(24,this.h3h),C>=256&&V.setUint32(28,this.h3l),C>=384&&(V.setUint32(32,this.h4h),V.setUint32(36,this.h4l),V.setUint32(40,this.h5h),V.setUint32(44,this.h5l)),C==512&&(V.setUint32(48,this.h6h),V.setUint32(52,this.h6l),V.setUint32(56,this.h7h),V.setUint32(60,this.h7l)),D},x.prototype.clone=function(){var C=new x(this.bits,!1);return this.copyTo(C),C},x.prototype.copyTo=function(C){var D=0,V=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(D=0;D<V.length;++D)C[V[D]]=this[V[D]];for(D=0;D<this.blocks.length;++D)C.blocks[D]=this.blocks[D]};function G(C,D,V){var Q,$=typeof C;if($!=="string"){if($==="object"){if(C===null)throw new Error(e);if(l&&C.constructor===ArrayBuffer)C=new Uint8Array(C);else if(!Array.isArray(C)&&(!l||!ArrayBuffer.isView(C)))throw new Error(e)}else throw new Error(e);Q=!0}var Ae=C.length;if(!Q){for(var fe=[],Ae=C.length,be=0,Le,Ve=0;Ve<Ae;++Ve)Le=C.charCodeAt(Ve),Le<128?fe[be++]=Le:Le<2048?(fe[be++]=192|Le>>6,fe[be++]=128|Le&63):Le<55296||Le>=57344?(fe[be++]=224|Le>>12,fe[be++]=128|Le>>6&63,fe[be++]=128|Le&63):(Le=65536+((Le&1023)<<10|C.charCodeAt(++Ve)&1023),fe[be++]=240|Le>>18,fe[be++]=128|Le>>12&63,fe[be++]=128|Le>>6&63,fe[be++]=128|Le&63);C=fe}C.length>128&&(C=new x(D,!0).update(C).array());for(var Ge=[],Pe=[],Ve=0;Ve<128;++Ve){var Y=C[Ve]||0;Ge[Ve]=92^Y,Pe[Ve]=54^Y}x.call(this,D,V),this.update(Pe),this.oKeyPad=Ge,this.inner=!0,this.sharedMemory=V}G.prototype=new x,G.prototype.finalize=function(){if(x.prototype.finalize.call(this),this.inner){this.inner=!1;var C=this.array();x.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(C),x.prototype.finalize.call(this)}},G.prototype.clone=function(){var C=new G([],this.bits,!1);this.copyTo(C),C.inner=this.inner;for(var D=0;D<this.oKeyPad.length;++D)C.oKeyPad[D]=this.oKeyPad[D];return C};var Z=F(512);Z.sha512=Z,Z.sha384=F(384),Z.sha512_256=F(256),Z.sha512_224=F(224),Z.sha512.hmac=m(512),Z.sha384.hmac=m(384),Z.sha512_256.hmac=m(256),Z.sha512_224.hmac=m(224),a?t.exports=Z:(i.sha512=Z.sha512,i.sha384=Z.sha384,i.sha512_256=Z.sha512_256,i.sha512_224=Z.sha512_224)})()})(Lv);var uA=Lv.exports;const dA=Ja(uA);var wu={exports:{}},Mv={exports:{}},Wv={exports:{}};(function(t){(function(e){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,c=14,f=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],v=1e7,I=1e9;function S(C){var D,V,Q,$=ue.prototype={constructor:ue,toString:null,valueOf:null},Ae=new ue(1),fe=20,be=4,Le=-7,Ve=21,Ge=-1e7,Pe=1e7,Y=!1,q=1,ae=0,we={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},ve="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function ue(R,U){var X,he,se,ce,xe,re,le,pe,_=this;if(!(_ instanceof ue))return new ue(R,U);if(U==null){if(R&&R._isBigNumber===!0){_.s=R.s,!R.c||R.e>Pe?_.c=_.e=null:R.e<Ge?_.c=[_.e=0]:(_.e=R.e,_.c=R.c.slice());return}if((re=typeof R=="number")&&R*0==0){if(_.s=1/R<0?(R=-R,-1):1,R===~~R){for(ce=0,xe=R;xe>=10;xe/=10,ce++);ce>Pe?_.c=_.e=null:(_.e=ce,_.c=[R]);return}pe=String(R)}else{if(!r.test(pe=String(R)))return Q(_,pe,re);_.s=pe.charCodeAt(0)==45?(pe=pe.slice(1),-1):1}(ce=pe.indexOf("."))>-1&&(pe=pe.replace(".","")),(xe=pe.search(/e/i))>0?(ce<0&&(ce=xe),ce+=+pe.slice(xe+1),pe=pe.substring(0,xe)):ce<0&&(ce=pe.length)}else{if(m(U,2,ve.length,"Base"),U==10&&_e)return _=new ue(R),Be(_,fe+_.e+1,be);if(pe=String(R),re=typeof R=="number"){if(R*0!=0)return Q(_,pe,re,U);if(_.s=1/R<0?(pe=pe.slice(1),-1):1,ue.DEBUG&&pe.replace(/^0\.0*|\./,"").length>15)throw Error(a+R)}else _.s=pe.charCodeAt(0)===45?(pe=pe.slice(1),-1):1;for(X=ve.slice(0,U),ce=xe=0,le=pe.length;xe<le;xe++)if(X.indexOf(he=pe.charAt(xe))<0){if(he=="."){if(xe>ce){ce=le;continue}}else if(!se&&(pe==pe.toUpperCase()&&(pe=pe.toLowerCase())||pe==pe.toLowerCase()&&(pe=pe.toUpperCase()))){se=!0,xe=-1,ce=0;continue}return Q(_,String(R),re,U)}re=!1,pe=V(pe,U,10,_.s),(ce=pe.indexOf("."))>-1?pe=pe.replace(".",""):ce=pe.length}for(xe=0;pe.charCodeAt(xe)===48;xe++);for(le=pe.length;pe.charCodeAt(--le)===48;);if(pe=pe.slice(xe,++le)){if(le-=xe,re&&ue.DEBUG&&le>15&&(R>f||R!==s(R)))throw Error(a+_.s*R);if((ce=ce-xe-1)>Pe)_.c=_.e=null;else if(ce<Ge)_.c=[_.e=0];else{if(_.e=ce,_.c=[],xe=(ce+1)%c,ce<0&&(xe+=c),xe<le){for(xe&&_.c.push(+pe.slice(0,xe)),le-=c;xe<le;)_.c.push(+pe.slice(xe,xe+=c));xe=c-(pe=pe.slice(xe)).length}else xe-=le;for(;xe--;pe+="0");_.c.push(+pe)}}else _.c=[_.e=0]}ue.clone=S,ue.ROUND_UP=0,ue.ROUND_DOWN=1,ue.ROUND_CEIL=2,ue.ROUND_FLOOR=3,ue.ROUND_HALF_UP=4,ue.ROUND_HALF_DOWN=5,ue.ROUND_HALF_EVEN=6,ue.ROUND_HALF_CEIL=7,ue.ROUND_HALF_FLOOR=8,ue.EUCLID=9,ue.config=ue.set=function(R){var U,X;if(R!=null)if(typeof R=="object"){if(R.hasOwnProperty(U="DECIMAL_PLACES")&&(X=R[U],m(X,0,I,U),fe=X),R.hasOwnProperty(U="ROUNDING_MODE")&&(X=R[U],m(X,0,8,U),be=X),R.hasOwnProperty(U="EXPONENTIAL_AT")&&(X=R[U],X&&X.pop?(m(X[0],-1e9,0,U),m(X[1],0,I,U),Le=X[0],Ve=X[1]):(m(X,-1e9,I,U),Le=-(Ve=X<0?-X:X))),R.hasOwnProperty(U="RANGE"))if(X=R[U],X&&X.pop)m(X[0],-1e9,-1,U),m(X[1],1,I,U),Ge=X[0],Pe=X[1];else if(m(X,-1e9,I,U),X)Ge=-(Pe=X<0?-X:X);else throw Error(o+U+" cannot be zero: "+X);if(R.hasOwnProperty(U="CRYPTO"))if(X=R[U],X===!!X)if(X)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Y=X;else throw Y=!X,Error(o+"crypto unavailable");else Y=X;else throw Error(o+U+" not true or false: "+X);if(R.hasOwnProperty(U="MODULO_MODE")&&(X=R[U],m(X,0,9,U),q=X),R.hasOwnProperty(U="POW_PRECISION")&&(X=R[U],m(X,0,I,U),ae=X),R.hasOwnProperty(U="FORMAT"))if(X=R[U],typeof X=="object")we=X;else throw Error(o+U+" not an object: "+X);if(R.hasOwnProperty(U="ALPHABET"))if(X=R[U],typeof X=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(X))_e=X.slice(0,10)=="0123456789",ve=X;else throw Error(o+U+" invalid: "+X)}else throw Error(o+"Object expected: "+R);return{DECIMAL_PLACES:fe,ROUNDING_MODE:be,EXPONENTIAL_AT:[Le,Ve],RANGE:[Ge,Pe],CRYPTO:Y,MODULO_MODE:q,POW_PRECISION:ae,FORMAT:we,ALPHABET:ve}},ue.isBigNumber=function(R){if(!R||R._isBigNumber!==!0)return!1;if(!ue.DEBUG)return!0;var U,X,he=R.c,se=R.e,ce=R.s;e:if({}.toString.call(he)=="[object Array]"){if((ce===1||ce===-1)&&se>=-1e9&&se<=I&&se===s(se)){if(he[0]===0){if(se===0&&he.length===1)return!0;break e}if(U=(se+1)%c,U<1&&(U+=c),String(he[0]).length==U){for(U=0;U<he.length;U++)if(X=he[U],X<0||X>=l||X!==s(X))break e;if(X!==0)return!0}}}else if(he===null&&se===null&&(ce===null||ce===1||ce===-1))return!0;throw Error(o+"Invalid BigNumber: "+R)},ue.maximum=ue.max=function(){return rt(arguments,-1)},ue.minimum=ue.min=function(){return rt(arguments,1)},ue.random=function(){var R=9007199254740992,U=Math.random()*R&2097151?function(){return s(Math.random()*R)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(X){var he,se,ce,xe,re,le=0,pe=[],_=new ue(Ae);if(X==null?X=fe:m(X,0,I),xe=i(X/c),Y)if(crypto.getRandomValues){for(he=crypto.getRandomValues(new Uint32Array(xe*=2));le<xe;)re=he[le]*131072+(he[le+1]>>>11),re>=9e15?(se=crypto.getRandomValues(new Uint32Array(2)),he[le]=se[0],he[le+1]=se[1]):(pe.push(re%1e14),le+=2);le=xe/2}else if(crypto.randomBytes){for(he=crypto.randomBytes(xe*=7);le<xe;)re=(he[le]&31)*281474976710656+he[le+1]*1099511627776+he[le+2]*4294967296+he[le+3]*16777216+(he[le+4]<<16)+(he[le+5]<<8)+he[le+6],re>=9e15?crypto.randomBytes(7).copy(he,le):(pe.push(re%1e14),le+=7);le=xe/7}else throw Y=!1,Error(o+"crypto unavailable");if(!Y)for(;le<xe;)re=U(),re<9e15&&(pe[le++]=re%1e14);for(xe=pe[--le],X%=c,xe&&X&&(re=h[c-X],pe[le]=s(xe/re)*re);pe[le]===0;pe.pop(),le--);if(le<0)pe=[ce=0];else{for(ce=-1;pe[0]===0;pe.splice(0,1),ce-=c);for(le=1,re=pe[0];re>=10;re/=10,le++);le<c&&(ce-=c-le)}return _.e=ce,_.c=pe,_}}(),ue.sum=function(){for(var R=1,U=arguments,X=new ue(U[0]);R<U.length;)X=X.plus(U[R++]);return X},V=function(){var R="0123456789";function U(X,he,se,ce){for(var xe,re=[0],le,pe=0,_=X.length;pe<_;){for(le=re.length;le--;re[le]*=he);for(re[0]+=ce.indexOf(X.charAt(pe++)),xe=0;xe<re.length;xe++)re[xe]>se-1&&(re[xe+1]==null&&(re[xe+1]=0),re[xe+1]+=re[xe]/se|0,re[xe]%=se)}return re.reverse()}return function(X,he,se,ce,xe){var re,le,pe,_,g,k,O,j,ne=X.indexOf("."),ie=fe,y=be;for(ne>=0&&(_=ae,ae=0,X=X.replace(".",""),j=new ue(he),k=j.pow(X.length-ne),ae=_,j.c=U(Z(F(k.c),k.e,"0"),10,se,R),j.e=j.c.length),O=U(X,he,se,xe?(re=ve,R):(re=R,ve)),pe=_=O.length;O[--_]==0;O.pop());if(!O[0])return re.charAt(0);if(ne<0?--pe:(k.c=O,k.e=pe,k.s=ce,k=D(k,j,ie,y,se),O=k.c,g=k.r,pe=k.e),le=pe+ie+1,ne=O[le],_=se/2,g=g||le<0||O[le+1]!=null,g=y<4?(ne!=null||g)&&(y==0||y==(k.s<0?3:2)):ne>_||ne==_&&(y==4||g||y==6&&O[le-1]&1||y==(k.s<0?8:7)),le<1||!O[0])X=g?Z(re.charAt(1),-ie,re.charAt(0)):re.charAt(0);else{if(O.length=le,g)for(--se;++O[--le]>se;)O[le]=0,le||(++pe,O=[1].concat(O));for(_=O.length;!O[--_];);for(ne=0,X="";ne<=_;X+=re.charAt(O[ne++]));X=Z(X,pe,re.charAt(0))}return X}}(),D=function(){function R(he,se,ce){var xe,re,le,pe,_=0,g=he.length,k=se%v,O=se/v|0;for(he=he.slice();g--;)le=he[g]%v,pe=he[g]/v|0,xe=O*le+pe*k,re=k*le+xe%v*v+_,_=(re/ce|0)+(xe/v|0)+O*pe,he[g]=re%ce;return _&&(he=[_].concat(he)),he}function U(he,se,ce,xe){var re,le;if(ce!=xe)le=ce>xe?1:-1;else for(re=le=0;re<ce;re++)if(he[re]!=se[re]){le=he[re]>se[re]?1:-1;break}return le}function X(he,se,ce,xe){for(var re=0;ce--;)he[ce]-=re,re=he[ce]<se[ce]?1:0,he[ce]=re*xe+he[ce]-se[ce];for(;!he[0]&&he.length>1;he.splice(0,1));}return function(he,se,ce,xe,re){var le,pe,_,g,k,O,j,ne,ie,y,u,p,A,z,te,ge,Ue,tt=he.s==se.s?1:-1,Qe=he.c,Je=se.c;if(!Qe||!Qe[0]||!Je||!Je[0])return new ue(!he.s||!se.s||(Qe?Je&&Qe[0]==Je[0]:!Je)?NaN:Qe&&Qe[0]==0||!Je?tt*0:tt/0);for(ne=new ue(tt),ie=ne.c=[],pe=he.e-se.e,tt=ce+pe+1,re||(re=l,pe=M(he.e/c)-M(se.e/c),tt=tt/c|0),_=0;Je[_]==(Qe[_]||0);_++);if(Je[_]>(Qe[_]||0)&&pe--,tt<0)ie.push(1),g=!0;else{for(z=Qe.length,ge=Je.length,_=0,tt+=2,k=s(re/(Je[0]+1)),k>1&&(Je=R(Je,k,re),Qe=R(Qe,k,re),ge=Je.length,z=Qe.length),A=ge,y=Qe.slice(0,ge),u=y.length;u<ge;y[u++]=0);Ue=Je.slice(),Ue=[0].concat(Ue),te=Je[0],Je[1]>=re/2&&te++;do{if(k=0,le=U(Je,y,ge,u),le<0){if(p=y[0],ge!=u&&(p=p*re+(y[1]||0)),k=s(p/te),k>1)for(k>=re&&(k=re-1),O=R(Je,k,re),j=O.length,u=y.length;U(O,y,j,u)==1;)k--,X(O,ge<j?Ue:Je,j,re),j=O.length,le=1;else k==0&&(le=k=1),O=Je.slice(),j=O.length;if(j<u&&(O=[0].concat(O)),X(y,O,u,re),u=y.length,le==-1)for(;U(Je,y,ge,u)<1;)k++,X(y,ge<u?Ue:Je,u,re),u=y.length}else le===0&&(k++,y=[0]);ie[_++]=k,y[0]?y[u++]=Qe[A]||0:(y=[Qe[A]],u=1)}while((A++<z||y[0]!=null)&&tt--);g=y[0]!=null,ie[0]||ie.splice(0,1)}if(re==l){for(_=1,tt=ie[0];tt>=10;tt/=10,_++);Be(ne,ce+(ne.e=_+pe*c-1)+1,xe,g)}else ne.e=pe,ne.r=+g;return ne}}();function We(R,U,X,he){var se,ce,xe,re,le;if(X==null?X=be:m(X,0,8),!R.c)return R.toString();if(se=R.c[0],xe=R.e,U==null)le=F(R.c),le=he==1||he==2&&(xe<=Le||xe>=Ve)?G(le,xe):Z(le,xe,"0");else if(R=Be(new ue(R),U,X),ce=R.e,le=F(R.c),re=le.length,he==1||he==2&&(U<=ce||ce<=Le)){for(;re<U;le+="0",re++);le=G(le,ce)}else if(U-=xe,le=Z(le,ce,"0"),ce+1>re){if(--U>0)for(le+=".";U--;le+="0");}else if(U+=ce-re,U>0)for(ce+1==re&&(le+=".");U--;le+="0");return R.s<0&&se?"-"+le:le}function rt(R,U){for(var X,he,se=1,ce=new ue(R[0]);se<R.length;se++)he=new ue(R[se]),(!he.s||(X=E(ce,he))===U||X===0&&ce.s===U)&&(ce=he);return ce}function at(R,U,X){for(var he=1,se=U.length;!U[--se];U.pop());for(se=U[0];se>=10;se/=10,he++);return(X=he+X*c-1)>Pe?R.c=R.e=null:X<Ge?R.c=[R.e=0]:(R.e=X,R.c=U),R}Q=function(){var R=/^(-?)0([xbo])(?=\w[\w.]*$)/i,U=/^([^.]+)\.$/,X=/^\.([^.]+)$/,he=/^-?(Infinity|NaN)$/,se=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ce,xe,re,le){var pe,_=re?xe:xe.replace(se,"");if(he.test(_))ce.s=isNaN(_)?null:_<0?-1:1;else{if(!re&&(_=_.replace(R,function(g,k,O){return pe=(O=O.toLowerCase())=="x"?16:O=="b"?2:8,!le||le==pe?k:g}),le&&(pe=le,_=_.replace(U,"$1").replace(X,"0.$1")),xe!=_))return new ue(_,pe);if(ue.DEBUG)throw Error(o+"Not a"+(le?" base "+le:"")+" number: "+xe);ce.s=null}ce.c=ce.e=null}}();function Be(R,U,X,he){var se,ce,xe,re,le,pe,_,g=R.c,k=h;if(g){e:{for(se=1,re=g[0];re>=10;re/=10,se++);if(ce=U-se,ce<0)ce+=c,xe=U,le=g[pe=0],_=s(le/k[se-xe-1]%10);else if(pe=i((ce+1)/c),pe>=g.length)if(he){for(;g.length<=pe;g.push(0));le=_=0,se=1,ce%=c,xe=ce-c+1}else break e;else{for(le=re=g[pe],se=1;re>=10;re/=10,se++);ce%=c,xe=ce-c+se,_=xe<0?0:s(le/k[se-xe-1]%10)}if(he=he||U<0||g[pe+1]!=null||(xe<0?le:le%k[se-xe-1]),he=X<4?(_||he)&&(X==0||X==(R.s<0?3:2)):_>5||_==5&&(X==4||he||X==6&&(ce>0?xe>0?le/k[se-xe]:0:g[pe-1])%10&1||X==(R.s<0?8:7)),U<1||!g[0])return g.length=0,he?(U-=R.e+1,g[0]=k[(c-U%c)%c],R.e=-U||0):g[0]=R.e=0,R;if(ce==0?(g.length=pe,re=1,pe--):(g.length=pe+1,re=k[c-ce],g[pe]=xe>0?s(le/k[se-xe]%k[xe])*re:0),he)for(;;)if(pe==0){for(ce=1,xe=g[0];xe>=10;xe/=10,ce++);for(xe=g[0]+=re,re=1;xe>=10;xe/=10,re++);ce!=re&&(R.e++,g[0]==l&&(g[0]=1));break}else{if(g[pe]+=re,g[pe]!=l)break;g[pe--]=0,re=1}for(ce=g.length;g[--ce]===0;g.pop());}R.e>Pe?R.c=R.e=null:R.e<Ge&&(R.c=[R.e=0])}return R}function Me(R){var U,X=R.e;return X===null?R.toString():(U=F(R.c),U=X<=Le||X>=Ve?G(U,X):Z(U,X,"0"),R.s<0?"-"+U:U)}return $.absoluteValue=$.abs=function(){var R=new ue(this);return R.s<0&&(R.s=1),R},$.comparedTo=function(R,U){return E(this,new ue(R,U))},$.decimalPlaces=$.dp=function(R,U){var X,he,se,ce=this;if(R!=null)return m(R,0,I),U==null?U=be:m(U,0,8),Be(new ue(ce),R+ce.e+1,U);if(!(X=ce.c))return null;if(he=((se=X.length-1)-M(this.e/c))*c,se=X[se])for(;se%10==0;se/=10,he--);return he<0&&(he=0),he},$.dividedBy=$.div=function(R,U){return D(this,new ue(R,U),fe,be)},$.dividedToIntegerBy=$.idiv=function(R,U){return D(this,new ue(R,U),0,1)},$.exponentiatedBy=$.pow=function(R,U){var X,he,se,ce,xe,re,le,pe,_,g=this;if(R=new ue(R),R.c&&!R.isInteger())throw Error(o+"Exponent not an integer: "+Me(R));if(U!=null&&(U=new ue(U)),re=R.e>14,!g.c||!g.c[0]||g.c[0]==1&&!g.e&&g.c.length==1||!R.c||!R.c[0])return _=new ue(Math.pow(+Me(g),re?R.s*(2-x(R)):+Me(R))),U?_.mod(U):_;if(le=R.s<0,U){if(U.c?!U.c[0]:!U.s)return new ue(NaN);he=!le&&g.isInteger()&&U.isInteger(),he&&(g=g.mod(U))}else{if(R.e>9&&(g.e>0||g.e<-1||(g.e==0?g.c[0]>1||re&&g.c[1]>=24e7:g.c[0]<8e13||re&&g.c[0]<=9999975e7)))return ce=g.s<0&&x(R)?-0:0,g.e>-1&&(ce=1/ce),new ue(le?1/ce:ce);ae&&(ce=i(ae/c+2))}for(re?(X=new ue(.5),le&&(R.s=1),pe=x(R)):(se=Math.abs(+Me(R)),pe=se%2),_=new ue(Ae);;){if(pe){if(_=_.times(g),!_.c)break;ce?_.c.length>ce&&(_.c.length=ce):he&&(_=_.mod(U))}if(se){if(se=s(se/2),se===0)break;pe=se%2}else if(R=R.times(X),Be(R,R.e+1,1),R.e>14)pe=x(R);else{if(se=+Me(R),se===0)break;pe=se%2}g=g.times(g),ce?g.c&&g.c.length>ce&&(g.c.length=ce):he&&(g=g.mod(U))}return he?_:(le&&(_=Ae.div(_)),U?_.mod(U):ce?Be(_,ae,be,xe):_)},$.integerValue=function(R){var U=new ue(this);return R==null?R=be:m(R,0,8),Be(U,U.e+1,R)},$.isEqualTo=$.eq=function(R,U){return E(this,new ue(R,U))===0},$.isFinite=function(){return!!this.c},$.isGreaterThan=$.gt=function(R,U){return E(this,new ue(R,U))>0},$.isGreaterThanOrEqualTo=$.gte=function(R,U){return(U=E(this,new ue(R,U)))===1||U===0},$.isInteger=function(){return!!this.c&&M(this.e/c)>this.c.length-2},$.isLessThan=$.lt=function(R,U){return E(this,new ue(R,U))<0},$.isLessThanOrEqualTo=$.lte=function(R,U){return(U=E(this,new ue(R,U)))===-1||U===0},$.isNaN=function(){return!this.s},$.isNegative=function(){return this.s<0},$.isPositive=function(){return this.s>0},$.isZero=function(){return!!this.c&&this.c[0]==0},$.minus=function(R,U){var X,he,se,ce,xe=this,re=xe.s;if(R=new ue(R,U),U=R.s,!re||!U)return new ue(NaN);if(re!=U)return R.s=-U,xe.plus(R);var le=xe.e/c,pe=R.e/c,_=xe.c,g=R.c;if(!le||!pe){if(!_||!g)return _?(R.s=-U,R):new ue(g?xe:NaN);if(!_[0]||!g[0])return g[0]?(R.s=-U,R):new ue(_[0]?xe:be==3?-0:0)}if(le=M(le),pe=M(pe),_=_.slice(),re=le-pe){for((ce=re<0)?(re=-re,se=_):(pe=le,se=g),se.reverse(),U=re;U--;se.push(0));se.reverse()}else for(he=(ce=(re=_.length)<(U=g.length))?re:U,re=U=0;U<he;U++)if(_[U]!=g[U]){ce=_[U]<g[U];break}if(ce&&(se=_,_=g,g=se,R.s=-R.s),U=(he=g.length)-(X=_.length),U>0)for(;U--;_[X++]=0);for(U=l-1;he>re;){if(_[--he]<g[he]){for(X=he;X&&!_[--X];_[X]=U);--_[X],_[he]+=l}_[he]-=g[he]}for(;_[0]==0;_.splice(0,1),--pe);return _[0]?at(R,_,pe):(R.s=be==3?-1:1,R.c=[R.e=0],R)},$.modulo=$.mod=function(R,U){var X,he,se=this;return R=new ue(R,U),!se.c||!R.s||R.c&&!R.c[0]?new ue(NaN):!R.c||se.c&&!se.c[0]?new ue(se):(q==9?(he=R.s,R.s=1,X=D(se,R,0,3),R.s=he,X.s*=he):X=D(se,R,0,q),R=se.minus(X.times(R)),!R.c[0]&&q==1&&(R.s=se.s),R)},$.multipliedBy=$.times=function(R,U){var X,he,se,ce,xe,re,le,pe,_,g,k,O,j,ne,ie,y=this,u=y.c,p=(R=new ue(R,U)).c;if(!u||!p||!u[0]||!p[0])return!y.s||!R.s||u&&!u[0]&&!p||p&&!p[0]&&!u?R.c=R.e=R.s=null:(R.s*=y.s,!u||!p?R.c=R.e=null:(R.c=[0],R.e=0)),R;for(he=M(y.e/c)+M(R.e/c),R.s*=y.s,le=u.length,g=p.length,le<g&&(j=u,u=p,p=j,se=le,le=g,g=se),se=le+g,j=[];se--;j.push(0));for(ne=l,ie=v,se=g;--se>=0;){for(X=0,k=p[se]%ie,O=p[se]/ie|0,xe=le,ce=se+xe;ce>se;)pe=u[--xe]%ie,_=u[xe]/ie|0,re=O*pe+_*k,pe=k*pe+re%ie*ie+j[ce]+X,X=(pe/ne|0)+(re/ie|0)+O*_,j[ce--]=pe%ne;j[ce]=X}return X?++he:j.splice(0,1),at(R,j,he)},$.negated=function(){var R=new ue(this);return R.s=-R.s||null,R},$.plus=function(R,U){var X,he=this,se=he.s;if(R=new ue(R,U),U=R.s,!se||!U)return new ue(NaN);if(se!=U)return R.s=-U,he.minus(R);var ce=he.e/c,xe=R.e/c,re=he.c,le=R.c;if(!ce||!xe){if(!re||!le)return new ue(se/0);if(!re[0]||!le[0])return le[0]?R:new ue(re[0]?he:se*0)}if(ce=M(ce),xe=M(xe),re=re.slice(),se=ce-xe){for(se>0?(xe=ce,X=le):(se=-se,X=re),X.reverse();se--;X.push(0));X.reverse()}for(se=re.length,U=le.length,se-U<0&&(X=le,le=re,re=X,U=se),se=0;U;)se=(re[--U]=re[U]+le[U]+se)/l|0,re[U]=l===re[U]?0:re[U]%l;return se&&(re=[se].concat(re),++xe),at(R,re,xe)},$.precision=$.sd=function(R,U){var X,he,se,ce=this;if(R!=null&&R!==!!R)return m(R,1,I),U==null?U=be:m(U,0,8),Be(new ue(ce),R,U);if(!(X=ce.c))return null;if(se=X.length-1,he=se*c+1,se=X[se]){for(;se%10==0;se/=10,he--);for(se=X[0];se>=10;se/=10,he++);}return R&&ce.e+1>he&&(he=ce.e+1),he},$.shiftedBy=function(R){return m(R,-9007199254740991,f),this.times("1e"+R)},$.squareRoot=$.sqrt=function(){var R,U,X,he,se,ce=this,xe=ce.c,re=ce.s,le=ce.e,pe=fe+4,_=new ue("0.5");if(re!==1||!xe||!xe[0])return new ue(!re||re<0&&(!xe||xe[0])?NaN:xe?ce:1/0);if(re=Math.sqrt(+Me(ce)),re==0||re==1/0?(U=F(xe),(U.length+le)%2==0&&(U+="0"),re=Math.sqrt(+U),le=M((le+1)/2)-(le<0||le%2),re==1/0?U="5e"+le:(U=re.toExponential(),U=U.slice(0,U.indexOf("e")+1)+le),X=new ue(U)):X=new ue(re+""),X.c[0]){for(le=X.e,re=le+pe,re<3&&(re=0);;)if(se=X,X=_.times(se.plus(D(ce,se,pe,1))),F(se.c).slice(0,re)===(U=F(X.c)).slice(0,re))if(X.e<le&&--re,U=U.slice(re-3,re+1),U=="9999"||!he&&U=="4999"){if(!he&&(Be(se,se.e+fe+2,0),se.times(se).eq(ce))){X=se;break}pe+=4,re+=4,he=1}else{(!+U||!+U.slice(1)&&U.charAt(0)=="5")&&(Be(X,X.e+fe+2,1),R=!X.times(X).eq(ce));break}}return Be(X,X.e+fe+1,be,R)},$.toExponential=function(R,U){return R!=null&&(m(R,0,I),R++),We(this,R,U,1)},$.toFixed=function(R,U){return R!=null&&(m(R,0,I),R=R+this.e+1),We(this,R,U)},$.toFormat=function(R,U,X){var he,se=this;if(X==null)R!=null&&U&&typeof U=="object"?(X=U,U=null):R&&typeof R=="object"?(X=R,R=U=null):X=we;else if(typeof X!="object")throw Error(o+"Argument not an object: "+X);if(he=se.toFixed(R,U),se.c){var ce,xe=he.split("."),re=+X.groupSize,le=+X.secondaryGroupSize,pe=X.groupSeparator||"",_=xe[0],g=xe[1],k=se.s<0,O=k?_.slice(1):_,j=O.length;if(le&&(ce=re,re=le,le=ce,j-=ce),re>0&&j>0){for(ce=j%re||re,_=O.substr(0,ce);ce<j;ce+=re)_+=pe+O.substr(ce,re);le>0&&(_+=pe+O.slice(ce)),k&&(_="-"+_)}he=g?_+(X.decimalSeparator||"")+((le=+X.fractionGroupSize)?g.replace(new RegExp("\\d{"+le+"}\\B","g"),"$&"+(X.fractionGroupSeparator||"")):g):_}return(X.prefix||"")+he+(X.suffix||"")},$.toFraction=function(R){var U,X,he,se,ce,xe,re,le,pe,_,g,k,O=this,j=O.c;if(R!=null&&(re=new ue(R),!re.isInteger()&&(re.c||re.s!==1)||re.lt(Ae)))throw Error(o+"Argument "+(re.isInteger()?"out of range: ":"not an integer: ")+Me(re));if(!j)return new ue(O);for(U=new ue(Ae),pe=X=new ue(Ae),he=le=new ue(Ae),k=F(j),ce=U.e=k.length-O.e-1,U.c[0]=h[(xe=ce%c)<0?c+xe:xe],R=!R||re.comparedTo(U)>0?ce>0?U:pe:re,xe=Pe,Pe=1/0,re=new ue(k),le.c[0]=0;_=D(re,U,0,1),se=X.plus(_.times(he)),se.comparedTo(R)!=1;)X=he,he=se,pe=le.plus(_.times(se=pe)),le=se,U=re.minus(_.times(se=U)),re=se;return se=D(R.minus(X),he,0,1),le=le.plus(se.times(pe)),X=X.plus(se.times(he)),le.s=pe.s=O.s,ce=ce*2,g=D(pe,he,ce,be).minus(O).abs().comparedTo(D(le,X,ce,be).minus(O).abs())<1?[pe,he]:[le,X],Pe=xe,g},$.toNumber=function(){return+Me(this)},$.toPrecision=function(R,U){return R!=null&&m(R,1,I),We(this,R,U,2)},$.toString=function(R){var U,X=this,he=X.s,se=X.e;return se===null?he?(U="Infinity",he<0&&(U="-"+U)):U="NaN":(R==null?U=se<=Le||se>=Ve?G(F(X.c),se):Z(F(X.c),se,"0"):R===10&&_e?(X=Be(new ue(X),fe+se+1,be),U=Z(F(X.c),X.e,"0")):(m(R,2,ve.length,"Base"),U=V(Z(F(X.c),se,"0"),10,R,he,!0)),he<0&&X.c[0]&&(U="-"+U)),U},$.valueOf=$.toJSON=function(){return Me(this)},$._isBigNumber=!0,C!=null&&ue.set(C),ue}function M(C){var D=C|0;return C>0||C===D?D:D-1}function F(C){for(var D,V,Q=1,$=C.length,Ae=C[0]+"";Q<$;){for(D=C[Q++]+"",V=c-D.length;V--;D="0"+D);Ae+=D}for($=Ae.length;Ae.charCodeAt(--$)===48;);return Ae.slice(0,$+1||1)}function E(C,D){var V,Q,$=C.c,Ae=D.c,fe=C.s,be=D.s,Le=C.e,Ve=D.e;if(!fe||!be)return null;if(V=$&&!$[0],Q=Ae&&!Ae[0],V||Q)return V?Q?0:-be:fe;if(fe!=be)return fe;if(V=fe<0,Q=Le==Ve,!$||!Ae)return Q?0:!$^V?1:-1;if(!Q)return Le>Ve^V?1:-1;for(be=(Le=$.length)<(Ve=Ae.length)?Le:Ve,fe=0;fe<be;fe++)if($[fe]!=Ae[fe])return $[fe]>Ae[fe]^V?1:-1;return Le==Ve?0:Le>Ve^V?1:-1}function m(C,D,V,Q){if(C<D||C>V||C!==s(C))throw Error(o+(Q||"Argument")+(typeof C=="number"?C<D||C>V?" out of range: ":" not an integer: ":" not a primitive number: ")+String(C))}function x(C){var D=C.c.length-1;return M(C.e/c)==D&&C.c[D]%2!=0}function G(C,D){return(C.length>1?C.charAt(0)+"."+C.slice(1):C)+(D<0?"e":"e+")+D}function Z(C,D,V){var Q,$;if(D<0){for($=V+".";++D;$+=V);C=$+C}else if(Q=C.length,++D>Q){for($=V,D-=Q;--D;$+=V);C+=$}else D<Q&&(C=C.slice(0,D)+"."+C.slice(D));return C}n=S(),n.default=n.BigNumber=n,t.exports?t.exports=n:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=n)})(Qc)})(Wv);var Zv=Wv.exports;(function(t){var e=Zv,n=t.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,s,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a;function l(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(h){var v=o[h];return typeof v=="string"?v:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function c(f,h){var v,I,S,M,F=i,E,m=h[f],x=m!=null&&(m instanceof e||e.isBigNumber(m));switch(m&&typeof m=="object"&&typeof m.toJSON=="function"&&(m=m.toJSON(f)),typeof a=="function"&&(m=a.call(h,f,m)),typeof m){case"string":return x?m:l(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":case"bigint":return String(m);case"object":if(!m)return"null";if(i+=s,E=[],Object.prototype.toString.apply(m)==="[object Array]"){for(M=m.length,v=0;v<M;v+=1)E[v]=c(v,m)||"null";return S=E.length===0?"[]":i?`[
`+i+E.join(`,
`+i)+`
`+F+"]":"["+E.join(",")+"]",i=F,S}if(a&&typeof a=="object")for(M=a.length,v=0;v<M;v+=1)typeof a[v]=="string"&&(I=a[v],S=c(I,m),S&&E.push(l(I)+(i?": ":":")+S));else Object.keys(m).forEach(function(G){var Z=c(G,m);Z&&E.push(l(G)+(i?": ":":")+Z)});return S=E.length===0?"{}":i?`{
`+i+E.join(`,
`+i)+`
`+F+"}":"{"+E.join(",")+"}",i=F,S}}typeof n.stringify!="function"&&(n.stringify=function(f,h,v){var I;if(i="",s="",typeof v=="number")for(I=0;I<v;I+=1)s+=" ";else typeof v=="string"&&(s=v);if(a=h,h&&typeof h!="function"&&(typeof h!="object"||typeof h.length!="number"))throw new Error("JSON.stringify");return c("",{"":f})})})()})(Mv);var fA=Mv.exports,Wl=null;const hA=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,pA=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var gA=function(t){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(t!=null){if(t.strict===!0&&(e.strict=!0),t.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=t.alwaysParseAsBig===!0?t.alwaysParseAsBig:!1,e.useNativeBigInt=t.useNativeBigInt===!0?t.useNativeBigInt:!1,typeof t.constructorAction<"u")if(t.constructorAction==="error"||t.constructorAction==="ignore"||t.constructorAction==="preserve")e.constructorAction=t.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(typeof t.protoAction<"u")if(t.protoAction==="error"||t.protoAction==="ignore"||t.protoAction==="preserve")e.protoAction=t.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var n,r,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},s,o=function(M){throw{name:"SyntaxError",message:M,at:n,text:s}},a=function(M){return M&&M!==r&&o("Expected '"+M+"' instead of '"+r+"'"),r=s.charAt(n),n+=1,r},l=function(){var M,F="";for(r==="-"&&(F="-",a("-"));r>="0"&&r<="9";)F+=r,a();if(r===".")for(F+=".";a()&&r>="0"&&r<="9";)F+=r;if(r==="e"||r==="E")for(F+=r,a(),(r==="-"||r==="+")&&(F+=r,a());r>="0"&&r<="9";)F+=r,a();if(M=+F,!isFinite(M))o("Bad number");else return Wl==null&&(Wl=Zv),F.length>15?e.storeAsString?F:e.useNativeBigInt?BigInt(F):new Wl(F):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(M):new Wl(M):M},c=function(){var M,F,E="",m;if(r==='"')for(var x=n;a();){if(r==='"')return n-1>x&&(E+=s.substring(x,n-1)),a(),E;if(r==="\\"){if(n-1>x&&(E+=s.substring(x,n-1)),a(),r==="u"){for(m=0,F=0;F<4&&(M=parseInt(a(),16),!!isFinite(M));F+=1)m=m*16+M;E+=String.fromCharCode(m)}else if(typeof i[r]=="string")E+=i[r];else break;x=n}}o("Bad string")},f=function(){for(;r&&r<=" ";)a()},h=function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}o("Unexpected '"+r+"'")},v,I=function(){var M=[];if(r==="["){if(a("["),f(),r==="]")return a("]"),M;for(;r;){if(M.push(v()),f(),r==="]")return a("]"),M;a(","),f()}}o("Bad array")},S=function(){var M,F=Object.create(null);if(r==="{"){if(a("{"),f(),r==="}")return a("}"),F;for(;r;){if(M=c(),f(),a(":"),e.strict===!0&&Object.hasOwnProperty.call(F,M)&&o('Duplicate key "'+M+'"'),hA.test(M)===!0?e.protoAction==="error"?o("Object contains forbidden prototype property"):e.protoAction==="ignore"?v():F[M]=v():pA.test(M)===!0?e.constructorAction==="error"?o("Object contains forbidden constructor property"):e.constructorAction==="ignore"?v():F[M]=v():F[M]=v(),f(),r==="}")return a("}"),F;a(","),f()}}o("Bad object")};return v=function(){switch(f(),r){case"{":return S();case"[":return I();case'"':return c();case"-":return l();default:return r>="0"&&r<="9"?l():h()}},function(M,F){var E;return s=M+"",n=0,r=" ",E=v(),f(),r&&o("Syntax error"),typeof F=="function"?function m(x,G){var Z,C=x[G];return C&&typeof C=="object"&&Object.keys(C).forEach(function(D){Z=m(C,D),Z!==void 0?C[D]=Z:delete C[D]}),F.call(x,G,C)}({"":E},""):E}},mA=gA,Ov=fA.stringify,Dv=mA;wu.exports=function(t){return{parse:Dv(t),stringify:Ov}};wu.exports.parse=Dv();wu.exports.stringify=Ov;var yA=wu.exports;const wA=Ja(yA);var dp;(function(t){t.DEFAULT="default",t.SAFE="safe",t.MIXED="mixed",t.BIGINT="bigint"})(dp||(dp={}));const vu=dp,vA=wA({useNativeBigInt:!0,strict:!0});function xA(t,e){const n=e&&e.intDecoding?e.intDecoding:vu.DEFAULT;return vA.parse(t,(r,i)=>{if(i!=null&&typeof i=="object"&&Object.getPrototypeOf(i)==null&&Object.setPrototypeOf(i,Object.prototype),typeof i=="bigint"){if(n==="safe"&&i>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${i.toString()}. Try parsing with a different intDecoding option.`);return n==="bigint"||n==="mixed"&&i>Number.MAX_SAFE_INTEGER?i:Number(i)}return typeof i=="number"&&n==="bigint"&&Number.isInteger(i)?BigInt(i):i})}function Zc(t,e){return t.length!==e.length?!1:Array.from(t).every((n,r)=>n===e[r])}function dn(...t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++)n.set(t[i],r),r+=t[i].length;return n}function bA(t){const e={...t};return Object.keys(e).forEach(n=>{typeof e[n]>"u"&&delete e[n]}),e}function AA(){const{navigator:t}=globalThis;return typeof t=="object"&&t.product==="ReactNative"}function Vr(t){return dA.sha512_256.array(t)}function IA(t){return AA()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),$r.randomBytes(t)}function Uv(t){return $r.sign.keyPair.fromSeed(t)}function CA(){const t=IA($r.box.secretKeyLength);return Uv(t)}function Pv(t){return t===$r.sign.signatureLength}function tl(t){return $r.sign.keyPair.fromSecretKey(t)}function nl(t,e){return $r.sign.detached(t,e)}function Gv(t,e){return $r.verify(t,e)}function xu(t,e,n){return $r.sign.detached.verify(t,e,n)}const Oc=$r.sign.publicKeyLength;$r.sign.secretKeyLength;const s1=32,fp=32;var Vv={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e=typeof window=="object"?window:{},n=!e.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;n&&(e=Qc);var r=!e.HI_BASE32_NO_COMMON_JS&&!0&&t.exports,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),s={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},o=[0,0,0,0,0,0,0,0],a=function(F,E){E.length>10&&(E="..."+E.substr(-10));var m=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+F+" bytes: "+E+" <-");throw m.position=F,m},l=function(F){for(var E="",m=F.length,x=0,G=0,Z,C;x<m;){if(Z=F[x++],Z<=127){E+=String.fromCharCode(Z);continue}else Z>191&&Z<=223?(C=Z&31,G=1):Z<=239?(C=Z&15,G=2):Z<=247?(C=Z&7,G=3):a(x,E);for(var D=0;D<G;++D)Z=F[x++],(Z<128||Z>191)&&a(x,E),C<<=6,C+=Z&63;C>=55296&&C<=57343&&a(x,E),C>1114111&&a(x,E),C<=65535?E+=String.fromCharCode(C):(C-=65536,E+=String.fromCharCode((C>>10)+55296),E+=String.fromCharCode((C&1023)+56320))}return E},c=function(F){if(F==="")return[];if(!/^[A-Z2-7=]+$/.test(F))throw new Error("Invalid base32 characters");F=F.replace(/=/g,"");for(var E,m,x,G,Z,C,D,V,Q=[],$=0,Ae=F.length,fe=0,be=Ae>>3<<3;fe<be;)E=s[F.charAt(fe++)],m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],C=s[F.charAt(fe++)],D=s[F.charAt(fe++)],V=s[F.charAt(fe++)],Q[$++]=(E<<3|m>>>2)&255,Q[$++]=(m<<6|x<<1|G>>>4)&255,Q[$++]=(G<<4|Z>>>1)&255,Q[$++]=(Z<<7|C<<2|D>>>3)&255,Q[$++]=(D<<5|V)&255;var Le=Ae-be;return Le===2?(E=s[F.charAt(fe++)],m=s[F.charAt(fe++)],Q[$++]=(E<<3|m>>>2)&255):Le===4?(E=s[F.charAt(fe++)],m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Q[$++]=(E<<3|m>>>2)&255,Q[$++]=(m<<6|x<<1|G>>>4)&255):Le===5?(E=s[F.charAt(fe++)],m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],Q[$++]=(E<<3|m>>>2)&255,Q[$++]=(m<<6|x<<1|G>>>4)&255,Q[$++]=(G<<4|Z>>>1)&255):Le===7&&(E=s[F.charAt(fe++)],m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],C=s[F.charAt(fe++)],D=s[F.charAt(fe++)],Q[$++]=(E<<3|m>>>2)&255,Q[$++]=(m<<6|x<<1|G>>>4)&255,Q[$++]=(G<<4|Z>>>1)&255,Q[$++]=(Z<<7|C<<2|D>>>3)&255),Q},f=function(F){for(var E,m,x,G,Z,C="",D=F.length,V=0,Q=parseInt(D/5)*5;V<Q;)E=F.charCodeAt(V++),m=F.charCodeAt(V++),x=F.charCodeAt(V++),G=F.charCodeAt(V++),Z=F.charCodeAt(V++),C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[(x<<1|G>>>7)&31]+i[G>>>2&31]+i[(G<<3|Z>>>5)&31]+i[Z&31];var $=D-Q;return $===1?(E=F.charCodeAt(V),C+=i[E>>>3]+i[E<<2&31]+"======"):$===2?(E=F.charCodeAt(V++),m=F.charCodeAt(V),C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[m<<4&31]+"===="):$===3?(E=F.charCodeAt(V++),m=F.charCodeAt(V++),x=F.charCodeAt(V),C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[x<<1&31]+"==="):$===4&&(E=F.charCodeAt(V++),m=F.charCodeAt(V++),x=F.charCodeAt(V++),G=F.charCodeAt(V),C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[(x<<1|G>>>7)&31]+i[G>>>2&31]+i[G<<3&31]+"="),C},h=function(F){var E,m,x,G,Z,C,D=!1,V="",Q=0,$,Ae=0,fe=F.length;if(F==="")return V;do{for(o[0]=o[5],o[1]=o[6],o[2]=o[7],$=Ae;Q<fe&&$<5;++Q)C=F.charCodeAt(Q),C<128?o[$++]=C:C<2048?(o[$++]=192|C>>6,o[$++]=128|C&63):C<55296||C>=57344?(o[$++]=224|C>>12,o[$++]=128|C>>6&63,o[$++]=128|C&63):(C=65536+((C&1023)<<10|F.charCodeAt(++Q)&1023),o[$++]=240|C>>18,o[$++]=128|C>>12&63,o[$++]=128|C>>6&63,o[$++]=128|C&63);Ae=$-5,Q===fe&&++Q,Q>fe&&$<6&&(D=!0),E=o[0],$>4?(m=o[1],x=o[2],G=o[3],Z=o[4],V+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[(x<<1|G>>>7)&31]+i[G>>>2&31]+i[(G<<3|Z>>>5)&31]+i[Z&31]):$===1?V+=i[E>>>3]+i[E<<2&31]+"======":$===2?(m=o[1],V+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[m<<4&31]+"===="):$===3?(m=o[1],x=o[2],V+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[x<<1&31]+"==="):(m=o[1],x=o[2],G=o[3],V+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[(x<<1|G>>>7)&31]+i[G>>>2&31]+i[G<<3&31]+"=")}while(!D);return V},v=function(F){for(var E,m,x,G,Z,C="",D=F.length,V=0,Q=parseInt(D/5)*5;V<Q;)E=F[V++],m=F[V++],x=F[V++],G=F[V++],Z=F[V++],C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[(x<<1|G>>>7)&31]+i[G>>>2&31]+i[(G<<3|Z>>>5)&31]+i[Z&31];var $=D-Q;return $===1?(E=F[V],C+=i[E>>>3]+i[E<<2&31]+"======"):$===2?(E=F[V++],m=F[V],C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[m<<4&31]+"===="):$===3?(E=F[V++],m=F[V++],x=F[V],C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[x<<1&31]+"==="):$===4&&(E=F[V++],m=F[V++],x=F[V++],G=F[V],C+=i[E>>>3]+i[(E<<2|m>>>6)&31]+i[m>>>1&31]+i[(m<<4|x>>>4)&31]+i[(x<<1|G>>>7)&31]+i[G>>>2&31]+i[G<<3&31]+"="),C},I=function(F,E){var m=typeof F!="string";return m&&F.constructor===ArrayBuffer&&(F=new Uint8Array(F)),m?v(F):E?f(F):h(F)},S=function(F,E){if(!E)return l(c(F));if(F==="")return"";if(!/^[A-Z2-7=]+$/.test(F))throw new Error("Invalid base32 characters");var m,x,G,Z,C,D,V,Q,$="",Ae=F.indexOf("=");Ae===-1&&(Ae=F.length);for(var fe=0,be=Ae>>3<<3;fe<be;)m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],C=s[F.charAt(fe++)],D=s[F.charAt(fe++)],V=s[F.charAt(fe++)],Q=s[F.charAt(fe++)],$+=String.fromCharCode((m<<3|x>>>2)&255)+String.fromCharCode((x<<6|G<<1|Z>>>4)&255)+String.fromCharCode((Z<<4|C>>>1)&255)+String.fromCharCode((C<<7|D<<2|V>>>3)&255)+String.fromCharCode((V<<5|Q)&255);var Le=Ae-be;return Le===2?(m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],$+=String.fromCharCode((m<<3|x>>>2)&255)):Le===4?(m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],$+=String.fromCharCode((m<<3|x>>>2)&255)+String.fromCharCode((x<<6|G<<1|Z>>>4)&255)):Le===5?(m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],C=s[F.charAt(fe++)],$+=String.fromCharCode((m<<3|x>>>2)&255)+String.fromCharCode((x<<6|G<<1|Z>>>4)&255)+String.fromCharCode((Z<<4|C>>>1)&255)):Le===7&&(m=s[F.charAt(fe++)],x=s[F.charAt(fe++)],G=s[F.charAt(fe++)],Z=s[F.charAt(fe++)],C=s[F.charAt(fe++)],D=s[F.charAt(fe++)],V=s[F.charAt(fe++)],$+=String.fromCharCode((m<<3|x>>>2)&255)+String.fromCharCode((x<<6|G<<1|Z>>>4)&255)+String.fromCharCode((Z<<4|C>>>1)&255)+String.fromCharCode((C<<7|D<<2|V>>>3)&255)),$},M={encode:I,decode:S};S.asBytes=c,r?t.exports=M:e.base32=M})()})(Vv);var _A=Vv.exports;const jg=Ja(_A);function jv(t){if(!(typeof t=="bigint"||Number.isInteger(t))||t<0||t>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const n=new Uint8Array(8);return new DataView(n.buffer).setBigUint64(0,BigInt(t)),n}function EA(t,e="safe"){if(e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Unknown decodingMode option: ${e}`);if(t.byteLength===0||t.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${t.byteLength}`);const n=new Uint8Array(8-t.byteLength),r=dn(n,t),s=new DataView(r.buffer).getBigUint64(0),o=s>BigInt(Number.MAX_SAFE_INTEGER);if(e==="safe"){if(o)throw new Error(`Integer exceeds maximum safe integer: ${s.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(s)}return e==="mixed"&&!o?Number(s):s}const oc=36,Dc=4,$v=58,SA="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",Po=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),RA=J.Buffer.from("appID"),o1="address seems to be malformed",FA="wrong checksum for address",kA="invalid multisig version",BA="bad multisig threshold",TA="bad multisig public key - wrong length",NA="nacl public key length is not 32 bytes";function bt(t){if(typeof t!="string"||t.length!==$v)throw new Error(o1);const e=jg.decode.asBytes(t.toString());if(e.length!==oc)throw new Error(o1);const n=new Uint8Array(e.slice(0,oc-Dc)),r=new Uint8Array(e.slice(Oc,oc)),i=Vr(n).slice(s1-Dc,s1);if(!Zc(i,r))throw new Error(FA);return{publicKey:n,checksum:r}}function zv(t){try{bt(t)}catch{return!1}return!0}function ht(t){const e=Vr(t).slice(Oc-Dc,Oc);return jg.encode(dn(t,e)).toString().slice(0,$v)}function Ui({version:t,threshold:e,pks:n}){if(t!==1||t>255||t<0)throw new Error(kA);if(e===0||n.length===0||e>n.length||e>255)throw new Error(BA);const r=oc-Dc;if(r!==Oc)throw new Error(NA);const i=new Uint8Array(Po.length+2+r*n.length);i.set(Po,0),i.set([t],Po.length),i.set([e],Po.length+1);for(let s=0;s<n.length;s++){if(n[s].length!==r)throw new Error(TA);i.set(n[s],Po.length+2+s*r)}return new Uint8Array(Vr(i))}function Yv({version:t,threshold:e,addrs:n}){const r=n.map(i=>bt(i).publicKey);return ht(Ui({version:t,threshold:e,pks:r}))}function hp(t){const e=dn(RA,jv(t)),n=Vr(e);return ht(new Uint8Array(n))}var Xv={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Qc,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(1&o&&(s=i(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)i.d(a,l,(function(c){return s[c]}).bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=0)}([function(n,r,i){i.r(r),i.d(r,"encode",function(){return Le}),i.d(r,"decode",function(){return Me}),i.d(r,"decodeAsync",function(){return re}),i.d(r,"decodeArrayStream",function(){return le}),i.d(r,"decodeStream",function(){return pe}),i.d(r,"Decoder",function(){return at}),i.d(r,"Encoder",function(){return fe}),i.d(r,"ExtensionCodec",function(){return Q}),i.d(r,"ExtData",function(){return M}),i.d(r,"EXT_TIMESTAMP",function(){return m}),i.d(r,"encodeDateToTimeSpec",function(){return G}),i.d(r,"encodeTimeSpecToTimestamp",function(){return x}),i.d(r,"decodeTimestampToTimeSpec",function(){return C}),i.d(r,"encodeTimestampExtension",function(){return Z}),i.d(r,"decodeTimestampExtension",function(){return D});var s=function(_,g){var k=typeof Symbol=="function"&&_[Symbol.iterator];if(!k)return _;var O,j,ne=k.call(_),ie=[];try{for(;(g===void 0||g-- >0)&&!(O=ne.next()).done;)ie.push(O.value)}catch(y){j={error:y}}finally{try{O&&!O.done&&(k=ne.return)&&k.call(ne)}finally{if(j)throw j.error}}return ie},o=function(){for(var _=[],g=0;g<arguments.length;g++)_=_.concat(s(arguments[g]));return _},a=typeof process<"u"&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function l(_){for(var g=_.length,k=0,O=0;O<g;){var j=_.charCodeAt(O++);if(4294967168&j)if(!(4294965248&j))k+=2;else{if(j>=55296&&j<=56319&&O<g){var ne=_.charCodeAt(O);(64512&ne)==56320&&(++O,j=((1023&j)<<10)+(1023&ne)+65536)}k+=4294901760&j?4:3}else k++}return k}var c=a?new TextEncoder:void 0,f=typeof process<"u"?200:0,h=c!=null&&c.encodeInto?function(_,g,k){c.encodeInto(_,g.subarray(k))}:function(_,g,k){g.set(c.encode(_),k)};function v(_,g,k){for(var O=g,j=O+k,ne=[],ie="";O<j;){var y=_[O++];if(!(128&y))ne.push(y);else if((224&y)==192){var u=63&_[O++];ne.push((31&y)<<6|u)}else if((240&y)==224){u=63&_[O++];var p=63&_[O++];ne.push((31&y)<<12|u<<6|p)}else if((248&y)==240){var A=(7&y)<<18|(u=63&_[O++])<<12|(p=63&_[O++])<<6|63&_[O++];A>65535&&(A-=65536,ne.push(A>>>10&1023|55296),A=56320|1023&A),ne.push(A)}else ne.push(y);ne.length>=4096&&(ie+=String.fromCharCode.apply(String,o(ne)),ne.length=0)}return ne.length>0&&(ie+=String.fromCharCode.apply(String,o(ne))),ie}var I=a?new TextDecoder:null,S=typeof process<"u"?200:0,M=function(_,g){this.type=_,this.data=g};function F(_,g,k){var O=Math.floor(k/4294967296),j=k;_.setUint32(g,O),_.setUint32(g+4,j)}function E(_,g){var k=_.getInt32(g),O=_.getUint32(g+4),j=k<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||k===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&O===0,ne=k>Math.floor(Number.MAX_SAFE_INTEGER/4294967296);return j||ne?BigInt(k)*BigInt(4294967296)+BigInt(O):4294967296*k+O}var m=-1;function x(_){var g=_.sec,k=_.nsec;if(g>=0&&k>=0&&g<=17179869183){if(k===0&&g<=4294967295){var O=new Uint8Array(4);return(ie=new DataView(O.buffer)).setUint32(0,g),O}var j=g/4294967296,ne=4294967295&g;return O=new Uint8Array(8),(ie=new DataView(O.buffer)).setUint32(0,k<<2|3&j),ie.setUint32(4,ne),O}var ie;return O=new Uint8Array(12),(ie=new DataView(O.buffer)).setUint32(0,k),F(ie,4,g),O}function G(_){var g=_.getTime(),k=Math.floor(g/1e3),O=1e6*(g-1e3*k),j=Math.floor(O/1e9);return{sec:k+j,nsec:O-1e9*j}}function Z(_){return _ instanceof Date?x(G(_)):null}function C(_){var g=new DataView(_.buffer,_.byteOffset,_.byteLength);switch(_.byteLength){case 4:return{sec:g.getUint32(0),nsec:0};case 8:var k=g.getUint32(0);return{sec:4294967296*(3&k)+g.getUint32(4),nsec:k>>>2};case 12:return{sec:E(g,4),nsec:g.getUint32(0)};default:throw new Error("Unrecognized data size for timestamp: "+_.length)}}function D(_){var g=C(_);return new Date(1e3*g.sec+g.nsec/1e6)}var V={type:m,encode:Z,decode:D},Q=function(){function _(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(V)}return _.prototype.register=function(g){var k=g.type,O=g.encode,j=g.decode;if(k>=0)this.encoders[k]=O,this.decoders[k]=j;else{var ne=1+k;this.builtInEncoders[ne]=O,this.builtInDecoders[ne]=j}},_.prototype.tryToEncode=function(g,k){for(var O=0;O<this.builtInEncoders.length;O++)if((j=this.builtInEncoders[O])!=null&&(ne=j(g,k))!=null)return new M(-1-O,ne);for(O=0;O<this.encoders.length;O++){var j,ne;if((j=this.encoders[O])!=null&&(ne=j(g,k))!=null)return new M(O,ne)}return g instanceof M?g:null},_.prototype.decode=function(g,k,O){var j=k<0?this.builtInDecoders[-1-k]:this.decoders[k];return j?j(g,k,O):new M(k,g)},_.defaultCodec=new _,_}();function $(_){return _ instanceof Uint8Array?_:ArrayBuffer.isView(_)?new Uint8Array(_.buffer,_.byteOffset,_.byteLength):_ instanceof ArrayBuffer?new Uint8Array(_):Uint8Array.from(_)}var Ae=function(_){var g=typeof Symbol=="function"&&Symbol.iterator,k=g&&_[g],O=0;if(k)return k.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&O>=_.length&&(_=void 0),{value:_&&_[O++],done:!_}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},fe=function(){function _(g,k,O,j,ne,ie,y,u){g===void 0&&(g=Q.defaultCodec),k===void 0&&(k=void 0),O===void 0&&(O=100),j===void 0&&(j=2048),ne===void 0&&(ne=!1),ie===void 0&&(ie=!1),y===void 0&&(y=!1),u===void 0&&(u=!1),this.extensionCodec=g,this.context=k,this.maxDepth=O,this.initialBufferSize=j,this.sortKeys=ne,this.forceFloat32=ie,this.ignoreUndefined=y,this.forceIntegerToFloat=u,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return _.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},_.prototype.reinitializeState=function(){this.pos=0},_.prototype.encode=function(g){return this.reinitializeState(),this.doEncode(g,1),this.getUint8Array()},_.prototype.doEncode=function(g,k){if(k>this.maxDepth)throw new Error("Too deep objects in depth "+k);g==null?this.encodeNil():typeof g=="boolean"?this.encodeBoolean(g):typeof g=="number"?this.encodeNumber(g):typeof g=="string"?this.encodeString(g):typeof g=="bigint"?this.encodebigint(g):this.encodeObject(g,k)},_.prototype.ensureBufferSizeToWrite=function(g){var k=this.pos+g;this.view.byteLength<k&&this.resizeBuffer(2*k)},_.prototype.resizeBuffer=function(g){var k=new ArrayBuffer(g),O=new Uint8Array(k),j=new DataView(k);O.set(this.bytes),this.view=j,this.bytes=O},_.prototype.encodeNil=function(){this.writeU8(192)},_.prototype.encodeBoolean=function(g){g===!1?this.writeU8(194):this.writeU8(195)},_.prototype.encodeNumber=function(g){Number.isSafeInteger(g)&&!this.forceIntegerToFloat?g>=0?g<128?this.writeU8(g):g<256?(this.writeU8(204),this.writeU8(g)):g<65536?(this.writeU8(205),this.writeU16(g)):g<4294967296?(this.writeU8(206),this.writeU32(g)):(this.writeU8(207),this.writeU64(g)):g>=-32?this.writeU8(224|g+32):g>=-128?(this.writeU8(208),this.writeI8(g)):g>=-32768?(this.writeU8(209),this.writeI16(g)):g>=-2147483648?(this.writeU8(210),this.writeI32(g)):(this.writeU8(211),this.writeI64(g)):this.forceFloat32?(this.writeU8(202),this.writeF32(g)):(this.writeU8(203),this.writeF64(g))},_.prototype.encodebigint=function(g){g>=BigInt(0)?g<BigInt(128)?this.writeU8(Number(g)):g<BigInt(256)?(this.writeU8(204),this.writeU8(Number(g))):g<BigInt(65536)?(this.writeU8(205),this.writeU16(Number(g))):g<BigInt(4294967296)?(this.writeU8(206),this.writeU32(Number(g))):(this.writeU8(207),this.writeBig64(g)):g>=BigInt(-32)?this.writeU8(224|Number(g)+32):g>=BigInt(-128)?(this.writeU8(208),this.writeI8(Number(g))):g>=BigInt(-32768)?(this.writeU8(209),this.writeI16(Number(g))):g>=BigInt(-2147483648)?(this.writeU8(210),this.writeI32(Number(g))):(this.writeU8(211),this.writeBig64(g))},_.prototype.writeStringHeader=function(g){if(g<32)this.writeU8(160+g);else if(g<256)this.writeU8(217),this.writeU8(g);else if(g<65536)this.writeU8(218),this.writeU16(g);else{if(!(g<4294967296))throw new Error("Too long string: "+g+" bytes in UTF-8");this.writeU8(219),this.writeU32(g)}},_.prototype.encodeString=function(g){var k=g.length;if(a&&k>f){var O=l(g);this.ensureBufferSizeToWrite(5+O),this.writeStringHeader(O),h(g,this.bytes,this.pos),this.pos+=O}else O=l(g),this.ensureBufferSizeToWrite(5+O),this.writeStringHeader(O),function(j,ne,ie){for(var y=j.length,u=ie,p=0;p<y;){var A=j.charCodeAt(p++);if(4294967168&A){if(!(4294965248&A))ne[u++]=A>>6&31|192;else{if(A>=55296&&A<=56319&&p<y){var z=j.charCodeAt(p);(64512&z)==56320&&(++p,A=((1023&A)<<10)+(1023&z)+65536)}4294901760&A?(ne[u++]=A>>18&7|240,ne[u++]=A>>12&63|128,ne[u++]=A>>6&63|128):(ne[u++]=A>>12&15|224,ne[u++]=A>>6&63|128)}ne[u++]=63&A|128}else ne[u++]=A}}(g,this.bytes,this.pos),this.pos+=O},_.prototype.encodeObject=function(g,k){var O=this.extensionCodec.tryToEncode(g,this.context);if(O!=null)this.encodeExtension(O);else if(Array.isArray(g))this.encodeArray(g,k);else if(ArrayBuffer.isView(g))this.encodeBinary(g);else{if(typeof g!="object")throw new Error("Unrecognized object: "+Object.prototype.toString.apply(g));this.encodeMap(g,k)}},_.prototype.encodeBinary=function(g){var k=g.byteLength;if(k<256)this.writeU8(196),this.writeU8(k);else if(k<65536)this.writeU8(197),this.writeU16(k);else{if(!(k<4294967296))throw new Error("Too large binary: "+k);this.writeU8(198),this.writeU32(k)}var O=$(g);this.writeU8a(O)},_.prototype.encodeArray=function(g,k){var O,j,ne=g.length;if(ne<16)this.writeU8(144+ne);else if(ne<65536)this.writeU8(220),this.writeU16(ne);else{if(!(ne<4294967296))throw new Error("Too large array: "+ne);this.writeU8(221),this.writeU32(ne)}try{for(var ie=Ae(g),y=ie.next();!y.done;y=ie.next()){var u=y.value;this.doEncode(u,k+1)}}catch(p){O={error:p}}finally{try{y&&!y.done&&(j=ie.return)&&j.call(ie)}finally{if(O)throw O.error}}},_.prototype.countWithoutUndefined=function(g,k){var O,j,ne=0;try{for(var ie=Ae(k),y=ie.next();!y.done;y=ie.next())g[y.value]!==void 0&&ne++}catch(u){O={error:u}}finally{try{y&&!y.done&&(j=ie.return)&&j.call(ie)}finally{if(O)throw O.error}}return ne},_.prototype.encodeMap=function(g,k){var O,j,ne=Object.keys(g);this.sortKeys&&ne.sort();var ie=this.ignoreUndefined?this.countWithoutUndefined(g,ne):ne.length;if(ie<16)this.writeU8(128+ie);else if(ie<65536)this.writeU8(222),this.writeU16(ie);else{if(!(ie<4294967296))throw new Error("Too large map object: "+ie);this.writeU8(223),this.writeU32(ie)}try{for(var y=Ae(ne),u=y.next();!u.done;u=y.next()){var p=u.value,A=g[p];this.ignoreUndefined&&A===void 0||(this.encodeString(p),this.doEncode(A,k+1))}}catch(z){O={error:z}}finally{try{u&&!u.done&&(j=y.return)&&j.call(y)}finally{if(O)throw O.error}}},_.prototype.encodeExtension=function(g){var k=g.data.length;if(k===1)this.writeU8(212);else if(k===2)this.writeU8(213);else if(k===4)this.writeU8(214);else if(k===8)this.writeU8(215);else if(k===16)this.writeU8(216);else if(k<256)this.writeU8(199),this.writeU8(k);else if(k<65536)this.writeU8(200),this.writeU16(k);else{if(!(k<4294967296))throw new Error("Too large extension object: "+k);this.writeU8(201),this.writeU32(k)}this.writeI8(g.type),this.writeU8a(g.data)},_.prototype.writeU8=function(g){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,g),this.pos++},_.prototype.writeU8a=function(g){var k=g.length;this.ensureBufferSizeToWrite(k),this.bytes.set(g,this.pos),this.pos+=k},_.prototype.writeI8=function(g){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,g),this.pos++},_.prototype.writeU16=function(g){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,g),this.pos+=2},_.prototype.writeI16=function(g){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,g),this.pos+=2},_.prototype.writeU32=function(g){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,g),this.pos+=4},_.prototype.writeI32=function(g){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,g),this.pos+=4},_.prototype.writeF32=function(g){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,g),this.pos+=4},_.prototype.writeF64=function(g){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,g),this.pos+=8},_.prototype.writeU64=function(g){this.ensureBufferSizeToWrite(8),function(k,O,j){var ne=j/4294967296,ie=j;k.setUint32(O,ne),k.setUint32(O+4,ie)}(this.view,this.pos,g),this.pos+=8},_.prototype.writeI64=function(g){this.ensureBufferSizeToWrite(8),F(this.view,this.pos,g),this.pos+=8},_.prototype.writeBig64=function(g){this.ensureBufferSizeToWrite(8),function(k,O,j){var ne=Number(j/BigInt(4294967296)),ie=Number(j%BigInt(4294967296));ne<0&&ie!==0&&(ne-=1),k.setUint32(O,ne),k.setUint32(O+4,ie)}(this.view,this.pos,g),this.pos+=8},_}(),be={};function Le(_,g){return g===void 0&&(g=be),new fe(g.extensionCodec,g.context,g.maxDepth,g.initialBufferSize,g.sortKeys,g.forceFloat32,g.ignoreUndefined,g.forceIntegerToFloat).encode(_)}function Ve(_){return(_<0?"-":"")+"0x"+Math.abs(_).toString(16).padStart(2,"0")}var Ge=function(){function _(g,k){g===void 0&&(g=16),k===void 0&&(k=16),this.maxKeyLength=g,this.maxLengthPerKey=k,this.hit=0,this.miss=0,this.caches=[];for(var O=0;O<this.maxKeyLength;O++)this.caches.push([])}return _.prototype.canBeCached=function(g){return g>0&&g<=this.maxKeyLength},_.prototype.get=function(g,k,O){var j=this.caches[O-1],ne=j.length;e:for(var ie=0;ie<ne;ie++){for(var y=j[ie],u=y.bytes,p=0;p<O;p++)if(u[p]!==g[k+p])continue e;return y.value}return null},_.prototype.store=function(g,k){var O=this.caches[g.length-1],j={bytes:g,value:k};O.length>=this.maxLengthPerKey?O[Math.random()*O.length|0]=j:O.push(j)},_.prototype.decode=function(g,k,O){var j=this.get(g,k,O);if(j!=null)return this.hit++,j;this.miss++;var ne=v(g,k,O),ie=Uint8Array.prototype.slice.call(g,k,k+O);return this.store(ie,ne),ne},_}(),Pe=function(_,g,k,O){return new(k||(k=Promise))(function(j,ne){function ie(p){try{u(O.next(p))}catch(A){ne(A)}}function y(p){try{u(O.throw(p))}catch(A){ne(A)}}function u(p){var A;p.done?j(p.value):(A=p.value,A instanceof k?A:new k(function(z){z(A)})).then(ie,y)}u((O=O.apply(_,[])).next())})},Y=function(_,g){var k,O,j,ne,ie={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ne={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function y(u){return function(p){return function(A){if(k)throw new TypeError("Generator is already executing.");for(;ie;)try{if(k=1,O&&(j=2&A[0]?O.return:A[0]?O.throw||((j=O.return)&&j.call(O),0):O.next)&&!(j=j.call(O,A[1])).done)return j;switch(O=0,j&&(A=[2&A[0],j.value]),A[0]){case 0:case 1:j=A;break;case 4:return ie.label++,{value:A[1],done:!1};case 5:ie.label++,O=A[1],A=[0];continue;case 7:A=ie.ops.pop(),ie.trys.pop();continue;default:if(j=ie.trys,!((j=j.length>0&&j[j.length-1])||A[0]!==6&&A[0]!==2)){ie=0;continue}if(A[0]===3&&(!j||A[1]>j[0]&&A[1]<j[3])){ie.label=A[1];break}if(A[0]===6&&ie.label<j[1]){ie.label=j[1],j=A;break}if(j&&ie.label<j[2]){ie.label=j[2],ie.ops.push(A);break}j[2]&&ie.ops.pop(),ie.trys.pop();continue}A=g.call(_,ie)}catch(z){A=[6,z],O=0}finally{k=j=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([u,p])}}},q=function(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,k=_[Symbol.asyncIterator];return k?k.call(_):(_=typeof __values=="function"?__values(_):_[Symbol.iterator](),g={},O("next"),O("throw"),O("return"),g[Symbol.asyncIterator]=function(){return this},g);function O(j){g[j]=_[j]&&function(ne){return new Promise(function(ie,y){(function(u,p,A,z){Promise.resolve(z).then(function(te){u({value:te,done:A})},p)})(ie,y,(ne=_[j](ne)).done,ne.value)})}}},ae=function(_){return this instanceof ae?(this.v=_,this):new ae(_)},we=function(_,g,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,j=k.apply(_,g||[]),ne=[];return O={},ie("next"),ie("throw"),ie("return"),O[Symbol.asyncIterator]=function(){return this},O;function ie(z){j[z]&&(O[z]=function(te){return new Promise(function(ge,Ue){ne.push([z,te,ge,Ue])>1||y(z,te)})})}function y(z,te){try{(ge=j[z](te)).value instanceof ae?Promise.resolve(ge.value.v).then(u,p):A(ne[0][2],ge)}catch(Ue){A(ne[0][3],Ue)}var ge}function u(z){y("next",z)}function p(z){y("throw",z)}function A(z,te){z(te),ne.shift(),ne.length&&y(ne[0][0],ne[0][1])}},ve=new DataView(new ArrayBuffer(0)),_e=new Uint8Array(ve.buffer),ue=function(){try{ve.getInt8(0)}catch(_){return _.constructor}throw new Error("never reached")}(),We=new ue("Insufficient data"),rt=new Ge,at=function(){function _(g,k,O,j,ne,ie,y,u){g===void 0&&(g=Q.defaultCodec),k===void 0&&(k=void 0),O===void 0&&(O=4294967295),j===void 0&&(j=4294967295),ne===void 0&&(ne=4294967295),ie===void 0&&(ie=4294967295),y===void 0&&(y=4294967295),u===void 0&&(u=rt),this.extensionCodec=g,this.context=k,this.maxStrLength=O,this.maxBinLength=j,this.maxArrayLength=ne,this.maxMapLength=ie,this.maxExtLength=y,this.keyDecoder=u,this.totalPos=0,this.pos=0,this.view=ve,this.bytes=_e,this.headByte=-1,this.stack=[]}return _.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1},_.prototype.setBuffer=function(g){this.bytes=$(g),this.view=function(k){if(k instanceof ArrayBuffer)return new DataView(k);var O=$(k);return new DataView(O.buffer,O.byteOffset,O.byteLength)}(this.bytes),this.pos=0},_.prototype.appendBuffer=function(g){if(this.headByte!==-1||this.hasRemaining()){var k=this.bytes.subarray(this.pos),O=$(g),j=new Uint8Array(k.length+O.length);j.set(k),j.set(O,k.length),this.setBuffer(j)}else this.setBuffer(g)},_.prototype.hasRemaining=function(g){return g===void 0&&(g=1),this.view.byteLength-this.pos>=g},_.prototype.createNoExtraBytesError=function(g){var k=this.view,O=this.pos;return new RangeError("Extra "+(k.byteLength-O)+" of "+k.byteLength+" byte(s) found at buffer["+g+"]")},_.prototype.decode=function(g){return this.reinitializeState(),this.setBuffer(g),this.doDecodeSingleSync()},_.prototype.doDecodeSingleSync=function(){var g=this.doDecodeSync();if(this.hasRemaining())throw this.createNoExtraBytesError(this.pos);return g},_.prototype.decodeAsync=function(g){var k,O,j,ne;return Pe(this,void 0,void 0,function(){var ie,y,u,p,A,z,te,ge;return Y(this,function(Ue){switch(Ue.label){case 0:ie=!1,Ue.label=1;case 1:Ue.trys.push([1,6,7,12]),k=q(g),Ue.label=2;case 2:return[4,k.next()];case 3:if((O=Ue.sent()).done)return[3,5];if(u=O.value,ie)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(u);try{y=this.doDecodeSync(),ie=!0}catch(tt){if(!(tt instanceof ue))throw tt}this.totalPos+=this.pos,Ue.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=Ue.sent(),j={error:p},[3,12];case 7:return Ue.trys.push([7,,10,11]),O&&!O.done&&(ne=k.return)?[4,ne.call(k)]:[3,9];case 8:Ue.sent(),Ue.label=9;case 9:return[3,11];case 10:if(j)throw j.error;return[7];case 11:return[7];case 12:if(ie){if(this.hasRemaining())throw this.createNoExtraBytesError(this.totalPos);return[2,y]}throw z=(A=this).headByte,te=A.pos,ge=A.totalPos,new RangeError("Insufficient data in parcing "+Ve(z)+" at "+ge+" ("+te+" in the current buffer)")}})})},_.prototype.decodeArrayStream=function(g){return this.decodeMultiAsync(g,!0)},_.prototype.decodeStream=function(g){return this.decodeMultiAsync(g,!1)},_.prototype.decodeMultiAsync=function(g,k){return we(this,arguments,function(){var O,j,ne,ie,y,u,p,A,z;return Y(this,function(te){switch(te.label){case 0:O=k,j=-1,te.label=1;case 1:te.trys.push([1,13,14,19]),ne=q(g),te.label=2;case 2:return[4,ae(ne.next())];case 3:if((ie=te.sent()).done)return[3,12];if(y=ie.value,k&&j===0)throw this.createNoExtraBytesError(this.totalPos);this.appendBuffer(y),O&&(j=this.readArraySize(),O=!1,this.complete()),te.label=4;case 4:te.trys.push([4,9,,10]),te.label=5;case 5:return[4,ae(this.doDecodeSync())];case 6:return[4,te.sent()];case 7:return te.sent(),--j==0?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((u=te.sent())instanceof ue))throw u;return[3,10];case 10:this.totalPos+=this.pos,te.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return p=te.sent(),A={error:p},[3,19];case 14:return te.trys.push([14,,17,18]),ie&&!ie.done&&(z=ne.return)?[4,ae(z.call(ne))]:[3,16];case 15:te.sent(),te.label=16;case 16:return[3,18];case 17:if(A)throw A.error;return[7];case 18:return[7];case 19:return[2]}})})},_.prototype.doDecodeSync=function(){e:for(;;){var g=this.readHeadByte(),k=void 0;if(g>=224)k=g-256;else if(g<192)if(g<128)k=g;else if(g<144){if((j=g-128)!==0){this.pushMapState(j),this.complete();continue e}k={}}else if(g<160){if((j=g-144)!==0){this.pushArrayState(j),this.complete();continue e}k=[]}else{var O=g-160;k=this.decodeUtf8String(O,0)}else if(g===192)k=null;else if(g===194)k=!1;else if(g===195)k=!0;else if(g===202)k=this.readF32();else if(g===203)k=this.readF64();else if(g===204)k=this.readU8();else if(g===205)k=this.readU16();else if(g===206)k=this.readU32();else if(g===207)k=this.readU64();else if(g===208)k=this.readI8();else if(g===209)k=this.readI16();else if(g===210)k=this.readI32();else if(g===211)k=this.readI64();else if(g===217)O=this.lookU8(),k=this.decodeUtf8String(O,1);else if(g===218)O=this.lookU16(),k=this.decodeUtf8String(O,2);else if(g===219)O=this.lookU32(),k=this.decodeUtf8String(O,4);else if(g===220){if((j=this.readU16())!==0){this.pushArrayState(j),this.complete();continue e}k=[]}else if(g===221){if((j=this.readU32())!==0){this.pushArrayState(j),this.complete();continue e}k=[]}else if(g===222){if((j=this.readU16())!==0){this.pushMapState(j),this.complete();continue e}k={}}else if(g===223){if((j=this.readU32())!==0){this.pushMapState(j),this.complete();continue e}k={}}else if(g===196){var j=this.lookU8();k=this.decodeBinary(j,1)}else if(g===197)j=this.lookU16(),k=this.decodeBinary(j,2);else if(g===198)j=this.lookU32(),k=this.decodeBinary(j,4);else if(g===212)k=this.decodeExtension(1,0);else if(g===213)k=this.decodeExtension(2,0);else if(g===214)k=this.decodeExtension(4,0);else if(g===215)k=this.decodeExtension(8,0);else if(g===216)k=this.decodeExtension(16,0);else if(g===199)j=this.lookU8(),k=this.decodeExtension(j,1);else if(g===200)j=this.lookU16(),k=this.decodeExtension(j,2);else{if(g!==201)throw new Error("Unrecognized type byte: "+Ve(g));j=this.lookU32(),k=this.decodeExtension(j,4)}this.complete();for(var ne=this.stack;ne.length>0;){var ie=ne[ne.length-1];if(ie.type===0){if(ie.array[ie.position]=k,ie.position++,ie.position!==ie.size)continue e;ne.pop(),k=ie.array}else{if(ie.type===1){if(y=void 0,(y=typeof k)!="string"&&y!=="number")throw new Error("The type of key must be string or number but "+typeof k);ie.key=k,ie.type=2;continue e}if(ie.map[ie.key]=k,ie.readCount++,ie.readCount!==ie.size){ie.key=null,ie.type=1;continue e}ne.pop(),k=ie.map}}return k}var y},_.prototype.readHeadByte=function(){return this.headByte===-1&&(this.headByte=this.readU8()),this.headByte},_.prototype.complete=function(){this.headByte=-1},_.prototype.readArraySize=function(){var g=this.readHeadByte();switch(g){case 220:return this.readU16();case 221:return this.readU32();default:if(g<160)return g-144;throw new Error("Unrecognized array type byte: "+Ve(g))}},_.prototype.pushMapState=function(g){if(g>this.maxMapLength)throw new Error("Max length exceeded: map length ("+g+") > maxMapLengthLength ("+this.maxMapLength+")");this.stack.push({type:1,size:g,key:null,readCount:0,map:{}})},_.prototype.pushArrayState=function(g){if(g>this.maxArrayLength)throw new Error("Max length exceeded: array length ("+g+") > maxArrayLength ("+this.maxArrayLength+")");this.stack.push({type:0,size:g,array:new Array(g),position:0})},_.prototype.decodeUtf8String=function(g,k){var O;if(g>this.maxStrLength)throw new Error("Max length exceeded: UTF-8 byte length ("+g+") > maxStrLength ("+this.maxStrLength+")");if(this.bytes.byteLength<this.pos+k+g)throw We;var j,ne=this.pos+k;return j=this.stateIsMapKey()&&(!((O=this.keyDecoder)===null||O===void 0)&&O.canBeCached(g))?this.keyDecoder.decode(this.bytes,ne,g):a&&g>S?function(ie,y,u){var p=ie.subarray(y,y+u);return I.decode(p)}(this.bytes,ne,g):v(this.bytes,ne,g),this.pos+=k+g,j},_.prototype.stateIsMapKey=function(){return this.stack.length>0&&this.stack[this.stack.length-1].type===1},_.prototype.decodeBinary=function(g,k){if(g>this.maxBinLength)throw new Error("Max length exceeded: bin length ("+g+") > maxBinLength ("+this.maxBinLength+")");if(!this.hasRemaining(g+k))throw We;var O=this.pos+k,j=this.bytes.subarray(O,O+g);return this.pos+=k+g,j},_.prototype.decodeExtension=function(g,k){if(g>this.maxExtLength)throw new Error("Max length exceeded: ext length ("+g+") > maxExtLength ("+this.maxExtLength+")");var O=this.view.getInt8(this.pos+k),j=this.decodeBinary(g,k+1);return this.extensionCodec.decode(j,O,this.context)},_.prototype.lookU8=function(){return this.view.getUint8(this.pos)},_.prototype.lookU16=function(){return this.view.getUint16(this.pos)},_.prototype.lookU32=function(){return this.view.getUint32(this.pos)},_.prototype.readU8=function(){var g=this.view.getUint8(this.pos);return this.pos++,g},_.prototype.readI8=function(){var g=this.view.getInt8(this.pos);return this.pos++,g},_.prototype.readU16=function(){var g=this.view.getUint16(this.pos);return this.pos+=2,g},_.prototype.readI16=function(){var g=this.view.getInt16(this.pos);return this.pos+=2,g},_.prototype.readU32=function(){var g=this.view.getUint32(this.pos);return this.pos+=4,g},_.prototype.readI32=function(){var g=this.view.getInt32(this.pos);return this.pos+=4,g},_.prototype.readU64=function(){var g,k,O,j,ne=(g=this.view,k=this.pos,O=g.getUint32(k),j=g.getUint32(k+4),O>Math.floor(Number.MAX_SAFE_INTEGER/4294967296)?BigInt(O)*BigInt(4294967296)+BigInt(j):4294967296*O+j);return this.pos+=8,ne},_.prototype.readI64=function(){var g=E(this.view,this.pos);return this.pos+=8,g},_.prototype.readF32=function(){var g=this.view.getFloat32(this.pos);return this.pos+=4,g},_.prototype.readF64=function(){var g=this.view.getFloat64(this.pos);return this.pos+=8,g},_}(),Be={};function Me(_,g){return g===void 0&&(g=Be),new at(g.extensionCodec,g.context,g.maxStrLength,g.maxBinLength,g.maxArrayLength,g.maxMapLength,g.maxExtLength).decode(_)}var R=function(_,g){var k,O,j,ne,ie={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ne={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function y(u){return function(p){return function(A){if(k)throw new TypeError("Generator is already executing.");for(;ie;)try{if(k=1,O&&(j=2&A[0]?O.return:A[0]?O.throw||((j=O.return)&&j.call(O),0):O.next)&&!(j=j.call(O,A[1])).done)return j;switch(O=0,j&&(A=[2&A[0],j.value]),A[0]){case 0:case 1:j=A;break;case 4:return ie.label++,{value:A[1],done:!1};case 5:ie.label++,O=A[1],A=[0];continue;case 7:A=ie.ops.pop(),ie.trys.pop();continue;default:if(j=ie.trys,!((j=j.length>0&&j[j.length-1])||A[0]!==6&&A[0]!==2)){ie=0;continue}if(A[0]===3&&(!j||A[1]>j[0]&&A[1]<j[3])){ie.label=A[1];break}if(A[0]===6&&ie.label<j[1]){ie.label=j[1],j=A;break}if(j&&ie.label<j[2]){ie.label=j[2],ie.ops.push(A);break}j[2]&&ie.ops.pop(),ie.trys.pop();continue}A=g.call(_,ie)}catch(z){A=[6,z],O=0}finally{k=j=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([u,p])}}},U=function(_){return this instanceof U?(this.v=_,this):new U(_)},X=function(_,g,k){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var O,j=k.apply(_,g||[]),ne=[];return O={},ie("next"),ie("throw"),ie("return"),O[Symbol.asyncIterator]=function(){return this},O;function ie(z){j[z]&&(O[z]=function(te){return new Promise(function(ge,Ue){ne.push([z,te,ge,Ue])>1||y(z,te)})})}function y(z,te){try{(ge=j[z](te)).value instanceof U?Promise.resolve(ge.value.v).then(u,p):A(ne[0][2],ge)}catch(Ue){A(ne[0][3],Ue)}var ge}function u(z){y("next",z)}function p(z){y("throw",z)}function A(z,te){z(te),ne.shift(),ne.length&&y(ne[0][0],ne[0][1])}};function he(_){if(_==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function se(_){return _[Symbol.asyncIterator]!=null?_:function(g){return X(this,arguments,function(){var k,O,j,ne;return R(this,function(ie){switch(ie.label){case 0:k=g.getReader(),ie.label=1;case 1:ie.trys.push([1,,9,10]),ie.label=2;case 2:return[4,U(k.read())];case 3:return O=ie.sent(),j=O.done,ne=O.value,j?[4,U(void 0)]:[3,5];case 4:return[2,ie.sent()];case 5:return he(ne),[4,U(ne)];case 6:return[4,ie.sent()];case 7:return ie.sent(),[3,2];case 8:return[3,10];case 9:return k.releaseLock(),[7];case 10:return[2]}})})}(_)}var ce=function(_,g,k,O){return new(k||(k=Promise))(function(j,ne){function ie(p){try{u(O.next(p))}catch(A){ne(A)}}function y(p){try{u(O.throw(p))}catch(A){ne(A)}}function u(p){var A;p.done?j(p.value):(A=p.value,A instanceof k?A:new k(function(z){z(A)})).then(ie,y)}u((O=O.apply(_,[])).next())})},xe=function(_,g){var k,O,j,ne,ie={label:0,sent:function(){if(1&j[0])throw j[1];return j[1]},trys:[],ops:[]};return ne={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(ne[Symbol.iterator]=function(){return this}),ne;function y(u){return function(p){return function(A){if(k)throw new TypeError("Generator is already executing.");for(;ie;)try{if(k=1,O&&(j=2&A[0]?O.return:A[0]?O.throw||((j=O.return)&&j.call(O),0):O.next)&&!(j=j.call(O,A[1])).done)return j;switch(O=0,j&&(A=[2&A[0],j.value]),A[0]){case 0:case 1:j=A;break;case 4:return ie.label++,{value:A[1],done:!1};case 5:ie.label++,O=A[1],A=[0];continue;case 7:A=ie.ops.pop(),ie.trys.pop();continue;default:if(j=ie.trys,!((j=j.length>0&&j[j.length-1])||A[0]!==6&&A[0]!==2)){ie=0;continue}if(A[0]===3&&(!j||A[1]>j[0]&&A[1]<j[3])){ie.label=A[1];break}if(A[0]===6&&ie.label<j[1]){ie.label=j[1],j=A;break}if(j&&ie.label<j[2]){ie.label=j[2],ie.ops.push(A);break}j[2]&&ie.ops.pop(),ie.trys.pop();continue}A=g.call(_,ie)}catch(z){A=[6,z],O=0}finally{k=j=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([u,p])}}};function re(_,g){return g===void 0&&(g=Be),ce(this,void 0,void 0,function(){var k;return xe(this,function(O){return k=se(_),[2,new at(g.extensionCodec,g.context,g.maxStrLength,g.maxBinLength,g.maxArrayLength,g.maxMapLength,g.maxExtLength).decodeAsync(k)]})})}function le(_,g){g===void 0&&(g=Be);var k=se(_);return new at(g.extensionCodec,g.context,g.maxStrLength,g.maxBinLength,g.maxArrayLength,g.maxMapLength,g.maxExtLength).decodeArrayStream(k)}function pe(_,g){g===void 0&&(g=Be);var k=se(_);return new at(g.extensionCodec,g.context,g.maxStrLength,g.maxBinLength,g.maxArrayLength,g.maxMapLength,g.maxExtLength).decodeStream(k)}}])})})(Xv);var Jv=Xv.exports;const LA="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function MA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&(!t[e]||t[e].length===0))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}function Kv(t){const e={sortKeys:!0};return Jv.encode(t,e)}function kn(t){const e=MA(t);if(e.containsEmpty)throw new Error(LA+e.firstEmptyKey);return Kv(t)}function wn(t){return Jv.decode(t)}function WA(t,e,n){const r=t.appIndex,i=t.name,s=r===0||r===n;let o=0;if(e!=null&&(o=e.indexOf(r)+1),o===0&&!s)throw new Error(`Box ref with appId ${r} not in foreign-apps`);return{i:o,n:i}}function ZA(t,e,n){return t==null?[]:t.map(r=>WA(r,e,n))}var Wt;(function(t){t.pay="pay",t.keyreg="keyreg",t.acfg="acfg",t.axfer="axfer",t.afrz="afrz",t.appl="appl",t.stpf="stpf"})(Wt||(Wt={}));function OA(t){return t===Wt.pay||t===Wt.keyreg||t===Wt.acfg||t===Wt.axfer||t===Wt.afrz||t===Wt.appl||t===Wt.stpf}var Br;(function(t){t[t.NoOpOC=0]="NoOpOC",t[t.OptInOC=1]="OptInOC",t[t.CloseOutOC=2]="CloseOutOC",t[t.ClearStateOC=3]="ClearStateOC",t[t.UpdateApplicationOC=4]="UpdateApplicationOC",t[t.DeleteApplicationOC=5]="DeleteApplicationOC"})(Br||(Br={}));const DA=52,pp=1e3,Go=32,a1=19,UA=75,PA=5,GA=32,VA=5,l1=32,jA=32,$A=32,zA=64;function bf(t,e,n){if(t==null)return;let r;if(typeof t=="string"?r=J.Buffer.from(t,"base64"):t.constructor===Uint8Array?r=J.Buffer.from(t):J.Buffer.isBuffer(t)&&(r=t),r==null||r.byteLength!==n)throw Error(`${e} must be a ${n} byte Uint8Array or Buffer or base64 string.`);return r}let Xt=class{constructor({...e}){this.name="Transaction",this.tag=J.Buffer.from("TX");const n={type:Wt.pay,flatFee:!1,nonParticipation:!1};if(typeof e.type>"u"&&(e.type=n.type),typeof e.flatFee>"u"&&(e.flatFee=n.flatFee),e.type===Wt.keyreg&&typeof e.voteKey<"u"&&typeof e.nonParticipation>"u"&&(e.nonParticipation=n.nonParticipation),e.suggestedParams!==void 0){const i=e;i.genesisHash=i.suggestedParams.genesisHash,i.fee=i.suggestedParams.fee,i.suggestedParams.flatFee!==void 0&&(i.flatFee=i.suggestedParams.flatFee),i.firstRound=i.suggestedParams.firstRound,i.lastRound=i.suggestedParams.lastRound,i.genesisID=i.suggestedParams.genesisID}const r=e;if(r.from=bt(r.from),r.to!==void 0&&(r.to=bt(r.to)),r.closeRemainderTo!==void 0&&(r.closeRemainderTo=bt(r.closeRemainderTo)),r.assetManager!==void 0&&(r.assetManager=bt(r.assetManager)),r.assetReserve!==void 0&&(r.assetReserve=bt(r.assetReserve)),r.assetFreeze!==void 0&&(r.assetFreeze=bt(r.assetFreeze)),r.assetClawback!==void 0&&(r.assetClawback=bt(r.assetClawback)),r.assetRevocationTarget!==void 0&&(r.assetRevocationTarget=bt(r.assetRevocationTarget)),r.freezeAccount!==void 0&&(r.freezeAccount=bt(r.freezeAccount)),r.reKeyTo!==void 0&&(r.reKeyTo=bt(r.reKeyTo)),r.genesisHash===void 0)throw Error("genesis hash must be specified and in a base64 string.");if(r.genesisHash=J.Buffer.from(r.genesisHash,"base64"),r.amount!==void 0&&(!(Number.isSafeInteger(r.amount)||typeof r.amount=="bigint"&&r.amount<=BigInt("0xffffffffffffffff"))||r.amount<0))throw Error("Amount must be a positive number and smaller than 2^64-1. If the number is larger than 2^53-1, use bigint.");if(!Number.isSafeInteger(r.fee)||r.fee<0)throw Error("fee must be a positive number and smaller than 2^53-1");if(!Number.isSafeInteger(r.firstRound)||r.firstRound<0)throw Error("firstRound must be a positive number");if(!Number.isSafeInteger(r.lastRound)||r.lastRound<0)throw Error("lastRound must be a positive number");if(r.extraPages!==void 0&&(!Number.isInteger(r.extraPages)||r.extraPages<0||r.extraPages>3))throw Error("extraPages must be an Integer between and including 0 to 3");if(r.assetTotal!==void 0&&(!(Number.isSafeInteger(r.assetTotal)||typeof r.assetTotal=="bigint"&&r.assetTotal<=BigInt("0xffffffffffffffff"))||r.assetTotal<0))throw Error("Total asset issuance must be a positive number and smaller than 2^64-1. If the number is larger than 2^53-1, use bigint.");if(r.assetDecimals!==void 0&&(!Number.isSafeInteger(r.assetDecimals)||r.assetDecimals<0||r.assetDecimals>a1))throw Error(`assetDecimals must be a positive number and smaller than ${a1.toString()}`);if(r.assetIndex!==void 0&&(!Number.isSafeInteger(r.assetIndex)||r.assetIndex<0))throw Error("Asset index must be a positive number and smaller than 2^53-1");if(r.appIndex!==void 0&&(!Number.isSafeInteger(r.appIndex)||r.appIndex<0))throw Error("Application index must be a positive number and smaller than 2^53-1");if(r.appLocalInts!==void 0&&(!Number.isSafeInteger(r.appLocalInts)||r.appLocalInts<0))throw Error("Application local ints count must be a positive number and smaller than 2^53-1");if(r.appLocalByteSlices!==void 0&&(!Number.isSafeInteger(r.appLocalByteSlices)||r.appLocalByteSlices<0))throw Error("Application local byte slices count must be a positive number and smaller than 2^53-1");if(r.appGlobalInts!==void 0&&(!Number.isSafeInteger(r.appGlobalInts)||r.appGlobalInts<0))throw Error("Application global ints count must be a positive number and smaller than 2^53-1");if(r.appGlobalByteSlices!==void 0&&(!Number.isSafeInteger(r.appGlobalByteSlices)||r.appGlobalByteSlices<0))throw Error("Application global byte slices count must be a positive number and smaller than 2^53-1");if(r.appApprovalProgram!==void 0&&r.appApprovalProgram.constructor!==Uint8Array)throw Error("appApprovalProgram must be a Uint8Array.");if(r.appClearProgram!==void 0&&r.appClearProgram.constructor!==Uint8Array)throw Error("appClearProgram must be a Uint8Array.");if(r.appArgs!==void 0){if(!Array.isArray(r.appArgs))throw Error("appArgs must be an Array of Uint8Array.");r.appArgs=r.appArgs.slice(),r.appArgs.forEach(i=>{if(i.constructor!==Uint8Array)throw Error("each element of AppArgs must be a Uint8Array.")})}else r.appArgs=[];if(r.appAccounts!==void 0){if(!Array.isArray(r.appAccounts))throw Error("appAccounts must be an Array of addresses.");r.appAccounts=r.appAccounts.map(i=>bt(i))}if(r.appForeignApps!==void 0){if(!Array.isArray(r.appForeignApps))throw Error("appForeignApps must be an Array of integers.");r.appForeignApps=r.appForeignApps.slice(),r.appForeignApps.forEach(i=>{if(!Number.isSafeInteger(i)||i<0)throw Error("each foreign application index must be a positive number and smaller than 2^53-1")})}if(r.appForeignAssets!==void 0){if(!Array.isArray(r.appForeignAssets))throw Error("appForeignAssets must be an Array of integers.");r.appForeignAssets=r.appForeignAssets.slice(),r.appForeignAssets.forEach(i=>{if(!Number.isSafeInteger(i)||i<0)throw Error("each foreign asset index must be a positive number and smaller than 2^53-1")})}if(r.boxes!==void 0){if(!Array.isArray(r.boxes))throw Error("boxes must be an Array of BoxReference.");r.boxes=r.boxes.slice(),r.boxes.forEach(i=>{if(!Number.isSafeInteger(i.appIndex)||i.name.constructor!==Uint8Array)throw Error("box app index must be a number and name must be an Uint8Array.")})}if(r.assetMetadataHash!==void 0&&r.assetMetadataHash.length!==0){if(typeof r.assetMetadataHash=="string"&&(r.assetMetadataHash=new Uint8Array(J.Buffer.from(r.assetMetadataHash))),r.assetMetadataHash.constructor!==Uint8Array||r.assetMetadataHash.byteLength!==l1)throw Error(`assetMetadataHash must be a ${l1} byte Uint8Array or string.`);r.assetMetadataHash.every(i=>i===0)&&(r.assetMetadataHash=void 0)}else r.assetMetadataHash=void 0;if(r.note!==void 0){if(r.note.constructor!==Uint8Array)throw Error("note must be a Uint8Array.")}else r.note=new Uint8Array(0);if(r.lease!==void 0){if(r.lease.constructor!==Uint8Array)throw Error("lease must be a Uint8Array.");if(r.lease.length!==Go)throw Error(`lease must be of length ${Go.toString()}.`);r.lease.every(i=>i===0)&&(r.lease=new Uint8Array(0))}else r.lease=new Uint8Array(0);if(r.voteKey=bf(r.voteKey,"voteKey",jA),r.selectionKey=bf(r.selectionKey,"selectionKey",$A),r.stateProofKey=bf(r.stateProofKey,"stateProofKey",zA),r.nonParticipation&&(r.voteKey||r.selectionKey||r.voteFirst||r.stateProofKey||r.voteLast||r.voteKeyDilution))throw new Error("nonParticipation is true but participation params are present.");if(!r.nonParticipation&&(r.voteKey||r.selectionKey||r.stateProofKey||r.voteFirst||r.voteLast||r.voteKeyDilution)&&!(r.voteKey&&r.selectionKey&&r.voteFirst&&r.voteLast&&r.voteKeyDilution))throw new Error("online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution");if(delete r.suggestedParams,Object.assign(this,bA(r)),r.flatFee||(this.fee*=this.estimateSize(),this.fee<pp&&(this.fee=pp)),this.group=void 0,r.stateProofType!==void 0&&(!Number.isSafeInteger(r.stateProofType)||r.stateProofType<0))throw Error("State Proof type must be a positive number and smaller than 2^53-1");if(r.stateProofMessage!==void 0){if(r.stateProofMessage.constructor!==Uint8Array)throw Error("stateProofMessage must be a Uint8Array.")}else r.stateProofMessage=new Uint8Array(0);if(r.stateProof!==void 0){if(r.stateProof.constructor!==Uint8Array)throw Error("stateProof must be a Uint8Array.")}else r.stateProof=new Uint8Array(0)}get_obj_for_encoding(){if(this.type==="pay"){const e={amt:this.amount,fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),type:"pay",gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),grp:this.group};return this.closeRemainderTo!==void 0&&ht(this.closeRemainderTo.publicKey)!==SA&&(e.close=J.Buffer.from(this.closeRemainderTo.publicKey)),this.reKeyTo!==void 0&&(e.rekey=J.Buffer.from(this.reKeyTo.publicKey)),this.to!==void 0&&(e.rcv=J.Buffer.from(this.to.publicKey)),e.note.length||delete e.note,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,e.lx.length||delete e.lx,e.rekey||delete e.rekey,e}if(this.type==="keyreg"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),grp:this.group,votekey:this.voteKey,selkey:this.selectionKey,sprfkey:this.stateProofKey,votefst:this.voteFirst,votelst:this.voteLast,votekd:this.voteKeyDilution};return e.note.length||delete e.note,e.lx.length||delete e.lx,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,this.reKeyTo!==void 0&&(e.rekey=J.Buffer.from(this.reKeyTo.publicKey)),this.nonParticipation&&(e.nonpart=!0),e.selkey||delete e.selkey,e.votekey||delete e.votekey,e.sprfkey||delete e.sprfkey,e.votefst||delete e.votefst,e.votelst||delete e.votelst,e.votekd||delete e.votekd,e}if(this.type==="acfg"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),grp:this.group,caid:this.assetIndex,apar:{t:this.assetTotal,df:this.assetDefaultFrozen,dc:this.assetDecimals}};return this.assetManager!==void 0&&(e.apar.m=J.Buffer.from(this.assetManager.publicKey)),this.assetReserve!==void 0&&(e.apar.r=J.Buffer.from(this.assetReserve.publicKey)),this.assetFreeze!==void 0&&(e.apar.f=J.Buffer.from(this.assetFreeze.publicKey)),this.assetClawback!==void 0&&(e.apar.c=J.Buffer.from(this.assetClawback.publicKey)),this.assetName!==void 0&&(e.apar.an=this.assetName),this.assetUnitName!==void 0&&(e.apar.un=this.assetUnitName),this.assetURL!==void 0&&(e.apar.au=this.assetURL),this.assetMetadataHash!==void 0&&(e.apar.am=J.Buffer.from(this.assetMetadataHash)),e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,this.reKeyTo!==void 0&&(e.rekey=J.Buffer.from(this.reKeyTo.publicKey)),e.caid||delete e.caid,!e.apar.t&&!e.apar.un&&!e.apar.an&&!e.apar.df&&!e.apar.m&&!e.apar.r&&!e.apar.f&&!e.apar.c&&!e.apar.au&&!e.apar.am&&!e.apar.dc?delete e.apar:(e.apar.t||delete e.apar.t,e.apar.dc||delete e.apar.dc,e.apar.un||delete e.apar.un,e.apar.an||delete e.apar.an,e.apar.df||delete e.apar.df,e.apar.m||delete e.apar.m,e.apar.r||delete e.apar.r,e.apar.f||delete e.apar.f,e.apar.c||delete e.apar.c,e.apar.au||delete e.apar.au,e.apar.am||delete e.apar.am),e.grp===void 0&&delete e.grp,e}if(this.type==="axfer"){const e={aamt:this.amount,fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),arcv:J.Buffer.from(this.to.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),grp:this.group,xaid:this.assetIndex};return this.closeRemainderTo!==void 0&&(e.aclose=J.Buffer.from(this.closeRemainderTo.publicKey)),this.assetRevocationTarget!==void 0&&(e.asnd=J.Buffer.from(this.assetRevocationTarget.publicKey)),e.note.length||delete e.note,e.lx.length||delete e.lx,e.aamt||delete e.aamt,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.grp===void 0&&delete e.grp,e.aclose||delete e.aclose,e.asnd||delete e.asnd,e.rekey||delete e.rekey,this.reKeyTo!==void 0&&(e.rekey=J.Buffer.from(this.reKeyTo.publicKey)),e}if(this.type==="afrz"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),grp:this.group,faid:this.assetIndex,afrz:this.freezeState};return this.freezeAccount!==void 0&&(e.fadd=J.Buffer.from(this.freezeAccount.publicKey)),e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.afrz||delete e.afrz,e.grp===void 0&&delete e.grp,this.reKeyTo!==void 0&&(e.rekey=J.Buffer.from(this.reKeyTo.publicKey)),e}if(this.type==="appl"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),grp:this.group,apid:this.appIndex,apan:this.appOnComplete,apls:{nui:this.appLocalInts,nbs:this.appLocalByteSlices},apgs:{nui:this.appGlobalInts,nbs:this.appGlobalByteSlices},apfa:this.appForeignApps,apas:this.appForeignAssets,apep:this.extraPages,apbx:ZA(this.boxes,this.appForeignApps,this.appIndex)};this.reKeyTo!==void 0&&(e.rekey=J.Buffer.from(this.reKeyTo.publicKey)),this.appApprovalProgram!==void 0&&(e.apap=J.Buffer.from(this.appApprovalProgram)),this.appClearProgram!==void 0&&(e.apsu=J.Buffer.from(this.appClearProgram)),this.appArgs!==void 0&&(e.apaa=this.appArgs.map(n=>J.Buffer.from(n))),this.appAccounts!==void 0&&(e.apat=this.appAccounts.map(n=>J.Buffer.from(n.publicKey))),e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.apid||delete e.apid,e.apls.nui||delete e.apls.nui,e.apls.nbs||delete e.apls.nbs,!e.apls.nui&&!e.apls.nbs&&delete e.apls,e.apgs.nui||delete e.apgs.nui,e.apgs.nbs||delete e.apgs.nbs,(!e.apaa||!e.apaa.length)&&delete e.apaa,!e.apgs.nui&&!e.apgs.nbs&&delete e.apgs,e.apap||delete e.apap,e.apsu||delete e.apsu,e.apan||delete e.apan,(!e.apfa||!e.apfa.length)&&delete e.apfa,(!e.apas||!e.apas.length)&&delete e.apas;for(const n of e.apbx)n.i||delete n.i,(!n.n||!n.n.length)&&delete n.n;return(!e.apbx||!e.apbx.length)&&delete e.apbx,(!e.apat||!e.apat.length)&&delete e.apat,e.apep||delete e.apep,e.grp===void 0&&delete e.grp,e}if(this.type==="stpf"){const e={fee:this.fee,fv:this.firstRound,lv:this.lastRound,note:J.Buffer.from(this.note),snd:J.Buffer.from(this.from.publicKey),type:this.type,gen:this.genesisID,gh:this.genesisHash,lx:J.Buffer.from(this.lease),sptype:this.stateProofType,spmsg:J.Buffer.from(this.stateProofMessage),sp:J.Buffer.from(this.stateProof)};return e.sptype||delete e.sptype,e.note.length||delete e.note,e.lx.length||delete e.lx,e.amt||delete e.amt,e.fee||delete e.fee,e.fv||delete e.fv,e.gen||delete e.gen,e.apid||delete e.apid,(!e.apaa||!e.apaa.length)&&delete e.apaa,e.apap||delete e.apap,e.apsu||delete e.apsu,e.apan||delete e.apan,(!e.apfa||!e.apfa.length)&&delete e.apfa,(!e.apas||!e.apas.length)&&delete e.apas,(!e.apat||!e.apat.length)&&delete e.apat,e.apep||delete e.apep,e.grp===void 0&&delete e.grp,e}}static from_obj_for_encoding(e){const n=Object.create(this.prototype);if(n.name="Transaction",n.tag=J.Buffer.from("TX"),n.genesisID=e.gen,n.genesisHash=J.Buffer.from(e.gh),!OA(e.type))throw new Error(`Unrecognized transaction type: ${e.type}`);return n.type=e.type,n.fee=e.fee,n.firstRound=e.fv,n.lastRound=e.lv,n.note=new Uint8Array(e.note),n.lease=new Uint8Array(e.lx),n.from=bt(ht(new Uint8Array(e.snd))),e.grp!==void 0&&(n.group=J.Buffer.from(e.grp)),e.rekey!==void 0&&(n.reKeyTo=bt(ht(new Uint8Array(e.rekey)))),e.type==="pay"?(n.amount=e.amt,n.to=bt(ht(new Uint8Array(e.rcv))),e.close!==void 0&&(n.closeRemainderTo=bt(ht(e.close)))):e.type==="keyreg"?(e.votekey!==void 0&&(n.voteKey=J.Buffer.from(e.votekey)),e.selkey!==void 0&&(n.selectionKey=J.Buffer.from(e.selkey)),e.sprfkey!==void 0&&(n.stateProofKey=J.Buffer.from(e.sprfkey)),e.votekd!==void 0&&(n.voteKeyDilution=e.votekd),e.votefst!==void 0&&(n.voteFirst=e.votefst),e.votelst!==void 0&&(n.voteLast=e.votelst),e.nonpart!==void 0&&(n.nonParticipation=e.nonpart)):e.type==="acfg"?(e.caid!==void 0&&(n.assetIndex=e.caid),e.apar!==void 0&&(n.assetTotal=e.apar.t,n.assetDefaultFrozen=e.apar.df,e.apar.dc!==void 0&&(n.assetDecimals=e.apar.dc),e.apar.m!==void 0&&(n.assetManager=bt(ht(new Uint8Array(e.apar.m)))),e.apar.r!==void 0&&(n.assetReserve=bt(ht(new Uint8Array(e.apar.r)))),e.apar.f!==void 0&&(n.assetFreeze=bt(ht(new Uint8Array(e.apar.f)))),e.apar.c!==void 0&&(n.assetClawback=bt(ht(new Uint8Array(e.apar.c)))),e.apar.un!==void 0&&(n.assetUnitName=e.apar.un),e.apar.an!==void 0&&(n.assetName=e.apar.an),e.apar.au!==void 0&&(n.assetURL=e.apar.au),e.apar.am!==void 0&&(n.assetMetadataHash=e.apar.am))):e.type==="axfer"?(e.xaid!==void 0&&(n.assetIndex=e.xaid),e.aamt!==void 0&&(n.amount=e.aamt),e.aclose!==void 0&&(n.closeRemainderTo=bt(ht(new Uint8Array(e.aclose)))),e.asnd!==void 0&&(n.assetRevocationTarget=bt(ht(new Uint8Array(e.asnd)))),n.to=bt(ht(new Uint8Array(e.arcv)))):e.type==="afrz"?(e.afrz!==void 0&&(n.freezeState=e.afrz),e.faid!==void 0&&(n.assetIndex=e.faid),n.freezeAccount=bt(ht(new Uint8Array(e.fadd)))):e.type==="appl"?(e.apid!==void 0&&(n.appIndex=e.apid),e.apan!==void 0&&(n.appOnComplete=e.apan),e.apls!==void 0&&(e.apls.nui!==void 0&&(n.appLocalInts=e.apls.nui),e.apls.nbs!==void 0&&(n.appLocalByteSlices=e.apls.nbs)),e.apgs!==void 0&&(e.apgs.nui!==void 0&&(n.appGlobalInts=e.apgs.nui),e.apgs.nbs!==void 0&&(n.appGlobalByteSlices=e.apgs.nbs)),e.apep!==void 0&&(n.extraPages=e.apep),e.apap!==void 0&&(n.appApprovalProgram=new Uint8Array(e.apap)),e.apsu!==void 0&&(n.appClearProgram=new Uint8Array(e.apsu)),e.apaa!==void 0&&(n.appArgs=e.apaa.map(r=>new Uint8Array(r))),e.apat!==void 0&&(n.appAccounts=e.apat.map(r=>bt(ht(new Uint8Array(r))))),e.apfa!==void 0&&(n.appForeignApps=e.apfa),e.apas!==void 0&&(n.appForeignAssets=e.apas),e.apbx!==void 0&&(n.boxes=e.apbx.map(r=>({appIndex:r.i?n.appForeignApps[r.i-1]:0,name:r.n})))):e.type==="stpf"&&(e.sptype!==void 0&&(n.stateProofType=e.sptype),e.sp!==void 0&&(n.stateProof=e.sp),e.spmsg!==void 0&&(n.stateProofMessage=e.spmsg)),n}estimateSize(){return this.toByte().length+UA}bytesToSign(){const e=this.toByte();return J.Buffer.from(dn(this.tag,e))}toByte(){return kn(this.get_obj_for_encoding())}rawSignTxn(e){const n=this.bytesToSign(),r=nl(n,e);return J.Buffer.from(r)}signTxn(e){const n={sig:this.rawSignTxn(e),txn:this.get_obj_for_encoding()},i=tl(e).publicKey;return ht(i)!==ht(this.from.publicKey)&&(n.sgnr=J.Buffer.from(i)),new Uint8Array(kn(n))}attachSignature(e,n){if(!Pv(n.length))throw new Error("Invalid signature length");const r={sig:J.Buffer.from(n),txn:this.get_obj_for_encoding()};if(e!==ht(this.from.publicKey)){const i=bt(e).publicKey;r.sgnr=J.Buffer.from(i)}return new Uint8Array(kn(r))}rawTxID(){const e=this.toByte(),n=J.Buffer.from(dn(this.tag,e));return J.Buffer.from(Vr(n))}txID(){const e=this.rawTxID();return jg.encode(e).slice(0,DA)}addLease(e,n=0){let r;if(e!==void 0){if(e.constructor!==Uint8Array)throw Error("lease must be a Uint8Array.");if(e.length!==Go)throw Error(`lease must be of length ${Go.toString()}.`);r=new Uint8Array(e)}else r=new Uint8Array(0);this.lease=r,n!==0&&(this.fee+=(PA+Go)*n)}addRekey(e,n=0){e!==void 0&&(this.reKeyTo=bt(e)),n!==0&&(this.fee+=(VA+GA)*n)}_getDictForDisplay(){const e={...this};return e.tag=e.tag.toString(),e.from=ht(e.from.publicKey),e.to!==void 0&&(e.to=ht(e.to.publicKey)),e.freezeAccount!==void 0&&(e.freezeAccount=ht(e.freezeAccount.publicKey)),e.closeRemainderTo!==void 0&&(e.closeRemainderTo=ht(e.closeRemainderTo.publicKey)),e.assetManager!==void 0&&(e.assetManager=ht(e.assetManager.publicKey)),e.assetReserve!==void 0&&(e.assetReserve=ht(e.assetReserve.publicKey)),e.assetFreeze!==void 0&&(e.assetFreeze=ht(e.assetFreeze.publicKey)),e.assetClawback!==void 0&&(e.assetClawback=ht(e.assetClawback.publicKey)),e.assetRevocationTarget!==void 0&&(e.assetRevocationTarget=ht(e.assetRevocationTarget.publicKey)),e.reKeyTo!==void 0&&(e.reKeyTo=ht(e.reKeyTo.publicKey)),e.genesisHash=e.genesisHash.toString("base64"),e}prettyPrint(){console.log(this._getDictForDisplay())}toString(){return JSON.stringify(this._getDictForDisplay())}};function Hv(t){const e={txn:t.get_obj_for_encoding()};return kn(e)}function YA(t){const e=t.get_obj_for_encoding();return kn(e)}function XA(t){const e=wn(t);return Xt.from_obj_for_encoding(e)}function qv(t){const e=wn(t);return{...e,txn:Xt.from_obj_for_encoding(e.txn)}}function Wi(t){return t instanceof Xt?t:new Xt(t)}class JA{constructor({bidderKey:e,bidAmount:n,bidID:r,auctionKey:i,auctionID:s,maxPrice:o}){this.name="Bid",this.tag=J.Buffer.from([97,66]);const a=bt(e),l=bt(i);if(!Number.isSafeInteger(n)||n<0)throw Error("Bid amount must be positive and 2^53-1");if(!Number.isSafeInteger(r)||r<0)throw Error("BidID must be positive and 2^53-1");if(!Number.isSafeInteger(s)||s<0)throw Error("auctionID must be positive");Object.assign(this,{bidderKey:a,bidAmount:n,bidID:r,auctionKey:l,auctionID:s,maxPrice:o})}get_obj_for_encoding(){return{bidder:J.Buffer.from(this.bidderKey.publicKey),cur:this.bidAmount,price:this.maxPrice,id:this.bidID,auc:J.Buffer.from(this.auctionKey.publicKey),aid:this.auctionID}}signBid(e){const n=kn(this.get_obj_for_encoding()),r=J.Buffer.from(dn(this.tag,n)),i=nl(r,e),o={t:"b",b:{sig:J.Buffer.from(i),bid:this.get_obj_for_encoding()}};return new Uint8Array(kn(o))}}const Qv=1e6,$g="Microalgos should be positive and less than 2^53 - 1.";function KA(t){if(t<0||!Number.isSafeInteger(t))throw new Error($g);return t/Qv}function HA(t){const e=t*Qv;return Math.round(e)}let qA=class extends Error{constructor(e,n){super(e),this.response=n,this.name="URLTokenBaseHTTPError",this.response=n}},QA=class Os{constructor(e,n,r,i={}){this.defaultHeaders=i;const s=n.endsWith("/")?n:`${n}/`,o=new URL(s);if(typeof r<"u"&&(o.port=r.toString()),o.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=o,this.tokenHeader=e}getURL(e,n){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const i=new URL(r,this.baseURL);if(n)for(const[s,o]of Object.entries(n))i.searchParams.set(s,o);return i.toString()}static formatFetchResponseHeaders(e){const n={};return e.forEach((r,i)=>{n[r]=i}),n}static async checkHttpError(e){if(e.ok)return;let n=null,r=null;try{n=new Uint8Array(await e.arrayBuffer());const s=JSON.parse(J.Buffer.from(n).toString());s.message&&(r=s.message)}catch{}let i=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(i+=`: ${r}`),new qA(i,{body:n,status:e.status,headers:Os.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:Os.formatFetchResponseHeaders(e.headers)}}async get(e,n,r={}){const i={...this.tokenHeader,...this.defaultHeaders,...r},s=await fetch(this.getURL(e,n),{headers:i});return Os.formatFetchResponse(s)}async post(e,n,r,i={}){const s={...this.tokenHeader,...this.defaultHeaders,...i},o=await fetch(this.getURL(e,r),{method:"POST",body:n,headers:s});return Os.formatFetchResponse(o)}async delete(e,n,r,i={}){const s={...this.tokenHeader,...this.defaultHeaders,...i},o=await fetch(this.getURL(e,r),{method:"DELETE",body:n,headers:s});return Os.formatFetchResponse(o)}};function e4(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(!t[e]||t[e].length===0)&&delete t[e];return t}function c1(t){return Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{})}function t4(t){if(t!==void 0&&Object.prototype.hasOwnProperty.call(t,"format"))switch(t.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class lr{constructor(e,n,r,i={}){n!==void 0?this.bc=new QA(e,n,r,i):this.bc=e}static parseJSON(e,n,r={}){try{return Object.keys(r).length===0?e&&JSON.parse(e):e&&xA(e,r)}catch(i){const s=i;throw s.rawResponse=e||null,s.statusCode=n,s}}static serializeData(e,n){if(!e)return new Uint8Array(0);if(n["content-type"]==="application/json")return new Uint8Array(J.Buffer.from(JSON.stringify(e)));if(typeof e=="string")return new Uint8Array(J.Buffer.from(e));if(e instanceof Uint8Array)return e;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(e,n,r,i={}){let{body:s}=e,o;return n!=="application/msgpack"&&(o=s&&J.Buffer.from(s).toString()||""),r&&n==="application/json"&&(s=lr.parseJSON(o,e.status,i)),{...e,body:s,text:o,ok:Math.trunc(e.status/100)===2}}static prepareResponseError(e){return e.response&&(e.response=lr.prepareResponse(e.response,"application/json",!0),e.status=e.response.status),e}async get(e,n,r={},i={},s=!0){const o=t4(n),a={...r,accept:o};try{const l=await this.bc.get(e,e4(n),a);return lr.prepareResponse(l,o,s,i)}catch(l){throw lr.prepareResponseError(l)}}async post(e,n,r={},i,s=!0){const o={"content-type":"application/json",...c1(r)};try{const a=await this.bc.post(e,lr.serializeData(n,o),i,o);return lr.prepareResponse(a,"application/json",s)}catch(a){throw lr.prepareResponseError(a)}}async delete(e,n,r={},i=!0){const s={"content-type":"application/json",...c1(r)},o=await this.bc.delete(e,lr.serializeData(n,s),void 0,s);return lr.prepareResponse(o,"application/json",i)}}function n4(t="",e){const n={};return t===""||(n[e]=t),n}function r4(t){return typeof t.get=="function"}class zg{constructor(e,n,r,i,s={}){if(r4(n))this.c=new lr(n);else{let o;typeof n=="string"?o=n4(n,e):o=n,this.c=new lr(o,r,i,s)}this.intDecoding=vu.DEFAULT}setIntEncoding(e){this.intDecoding=e}getIntEncoding(){return this.intDecoding}}function i4(t){return t===void 0||t==null||typeof t!="object"&&typeof t!="function"}function gp(t,e){let n;if(t instanceof Uint8Array)n=e?t:J.Buffer.from(t).toString("base64");else if(typeof t.get_obj_for_encoding=="function")n=t.get_obj_for_encoding(e);else if(Array.isArray(t)){n=[];for(const r of t)n.push(gp(r,e))}else if(typeof t=="object"){const r={};for(const i of Object.keys(t))r[i]=gp(t[i],e);n=r}else if(i4(t))n=t;else throw new Error(`Unsupported value: ${String(t)}`);return n}class Ee{get_obj_for_encoding(e=!1){const n={};for(const r of Object.keys(this.attribute_map)){const i=this.attribute_map[r],s=this[r];typeof s<"u"&&(n[i]=s===null?null:gp(s,e))}return n}}let ex=class tx extends Ee{constructor({address:e,amount:n,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:s,rewards:o,round:a,status:l,totalAppsOptedIn:c,totalAssetsOptedIn:f,totalCreatedApps:h,totalCreatedAssets:v,appsLocalState:I,appsTotalExtraPages:S,appsTotalSchema:M,assets:F,authAddr:E,createdApps:m,createdAssets:x,incentiveEligible:G,lastHeartbeat:Z,lastProposed:C,participation:D,rewardBase:V,sigType:Q,totalBoxBytes:$,totalBoxes:Ae}){super(),this.address=e,this.amount=n,this.amountWithoutPendingRewards=r,this.minBalance=i,this.pendingRewards=s,this.rewards=o,this.round=a,this.status=l,this.totalAppsOptedIn=c,this.totalAssetsOptedIn=f,this.totalCreatedApps=h,this.totalCreatedAssets=v,this.appsLocalState=I,this.appsTotalExtraPages=S,this.appsTotalSchema=M,this.assets=F,this.authAddr=E,this.createdApps=m,this.createdAssets=x,this.incentiveEligible=G,this.lastHeartbeat=Z,this.lastProposed=C,this.participation=D,this.rewardBase=V,this.sigType=Q,this.totalBoxBytes=$,this.totalBoxes=Ae,this.attribute_map={address:"address",amount:"amount",amountWithoutPendingRewards:"amount-without-pending-rewards",minBalance:"min-balance",pendingRewards:"pending-rewards",rewards:"rewards",round:"round",status:"status",totalAppsOptedIn:"total-apps-opted-in",totalAssetsOptedIn:"total-assets-opted-in",totalCreatedApps:"total-created-apps",totalCreatedAssets:"total-created-assets",appsLocalState:"apps-local-state",appsTotalExtraPages:"apps-total-extra-pages",appsTotalSchema:"apps-total-schema",assets:"assets",authAddr:"auth-addr",createdApps:"created-apps",createdAssets:"created-assets",incentiveEligible:"incentive-eligible",lastHeartbeat:"last-heartbeat",lastProposed:"last-proposed",participation:"participation",rewardBase:"reward-base",sigType:"sig-type",totalBoxBytes:"total-box-bytes",totalBoxes:"total-boxes"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["amount-without-pending-rewards"]>"u")throw new Error(`Response is missing required field 'amount-without-pending-rewards': ${e}`);if(typeof e["min-balance"]>"u")throw new Error(`Response is missing required field 'min-balance': ${e}`);if(typeof e["pending-rewards"]>"u")throw new Error(`Response is missing required field 'pending-rewards': ${e}`);if(typeof e.rewards>"u")throw new Error(`Response is missing required field 'rewards': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.status>"u")throw new Error(`Response is missing required field 'status': ${e}`);if(typeof e["total-apps-opted-in"]>"u")throw new Error(`Response is missing required field 'total-apps-opted-in': ${e}`);if(typeof e["total-assets-opted-in"]>"u")throw new Error(`Response is missing required field 'total-assets-opted-in': ${e}`);if(typeof e["total-created-apps"]>"u")throw new Error(`Response is missing required field 'total-created-apps': ${e}`);if(typeof e["total-created-assets"]>"u")throw new Error(`Response is missing required field 'total-created-assets': ${e}`);return new tx({address:e.address,amount:e.amount,amountWithoutPendingRewards:e["amount-without-pending-rewards"],minBalance:e["min-balance"],pendingRewards:e["pending-rewards"],rewards:e.rewards,round:e.round,status:e.status,totalAppsOptedIn:e["total-apps-opted-in"],totalAssetsOptedIn:e["total-assets-opted-in"],totalCreatedApps:e["total-created-apps"],totalCreatedAssets:e["total-created-assets"],appsLocalState:typeof e["apps-local-state"]<"u"?e["apps-local-state"].map(Hg.from_obj_for_encoding):void 0,appsTotalExtraPages:e["apps-total-extra-pages"],appsTotalSchema:typeof e["apps-total-schema"]<"u"?ws.from_obj_for_encoding(e["apps-total-schema"]):void 0,assets:typeof e.assets<"u"?e.assets.map(Ru.from_obj_for_encoding):void 0,authAddr:e["auth-addr"],createdApps:typeof e["created-apps"]<"u"?e["created-apps"].map(Iu.from_obj_for_encoding):void 0,createdAssets:typeof e["created-assets"]<"u"?e["created-assets"].map(cx.from_obj_for_encoding):void 0,incentiveEligible:e["incentive-eligible"],lastHeartbeat:e["last-heartbeat"],lastProposed:e["last-proposed"],participation:typeof e.participation<"u"?nx.from_obj_for_encoding(e.participation):void 0,rewardBase:e["reward-base"],sigType:e["sig-type"],totalBoxBytes:e["total-box-bytes"],totalBoxes:e["total-boxes"]})}};class Yg extends Ee{constructor({round:e,appLocalState:n,createdApp:r}){super(),this.round=e,this.appLocalState=n,this.createdApp=r,this.attribute_map={round:"round",appLocalState:"app-local-state",createdApp:"created-app"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new Yg({round:e.round,appLocalState:typeof e["app-local-state"]<"u"?Hg.from_obj_for_encoding(e["app-local-state"]):void 0,createdApp:typeof e["created-app"]<"u"?Eu.from_obj_for_encoding(e["created-app"]):void 0})}}class bu extends Ee{constructor({assetHolding:e,assetParams:n}){super(),this.assetHolding=e,this.assetParams=n,this.attribute_map={assetHolding:"asset-holding",assetParams:"asset-params"}}static from_obj_for_encoding(e){if(typeof e["asset-holding"]>"u")throw new Error(`Response is missing required field 'asset-holding': ${e}`);return new bu({assetHolding:Ru.from_obj_for_encoding(e["asset-holding"]),assetParams:typeof e["asset-params"]<"u"?ku.from_obj_for_encoding(e["asset-params"]):void 0})}}class Xg extends Ee{constructor({round:e,assetHolding:n,createdAsset:r}){super(),this.round=e,this.assetHolding=n,this.createdAsset=r,this.attribute_map={round:"round",assetHolding:"asset-holding",createdAsset:"created-asset"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new Xg({round:e.round,assetHolding:typeof e["asset-holding"]<"u"?Ru.from_obj_for_encoding(e["asset-holding"]):void 0,createdAsset:typeof e["created-asset"]<"u"?ku.from_obj_for_encoding(e["created-asset"]):void 0})}}class Jg extends Ee{constructor({round:e,assetHoldings:n,nextToken:r}){super(),this.round=e,this.assetHoldings=n,this.nextToken=r,this.attribute_map={round:"round",assetHoldings:"asset-holdings",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new Jg({round:e.round,assetHoldings:typeof e["asset-holdings"]<"u"?e["asset-holdings"].map(bu.from_obj_for_encoding):void 0,nextToken:e["next-token"]})}}let nx=class rx extends Ee{constructor({selectionParticipationKey:e,voteFirstValid:n,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:s,stateProofKey:o}){super(),this.selectionParticipationKey=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.voteFirstValid=n,this.voteKeyDilution=r,this.voteLastValid=i,this.voteParticipationKey=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.stateProofKey=typeof o=="string"?new Uint8Array(J.Buffer.from(o,"base64")):o,this.attribute_map={selectionParticipationKey:"selection-participation-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key",stateProofKey:"state-proof-key"}}static from_obj_for_encoding(e){if(typeof e["selection-participation-key"]>"u")throw new Error(`Response is missing required field 'selection-participation-key': ${e}`);if(typeof e["vote-first-valid"]>"u")throw new Error(`Response is missing required field 'vote-first-valid': ${e}`);if(typeof e["vote-key-dilution"]>"u")throw new Error(`Response is missing required field 'vote-key-dilution': ${e}`);if(typeof e["vote-last-valid"]>"u")throw new Error(`Response is missing required field 'vote-last-valid': ${e}`);if(typeof e["vote-participation-key"]>"u")throw new Error(`Response is missing required field 'vote-participation-key': ${e}`);return new rx({selectionParticipationKey:e["selection-participation-key"],voteFirstValid:e["vote-first-valid"],voteKeyDilution:e["vote-key-dilution"],voteLastValid:e["vote-last-valid"],voteParticipationKey:e["vote-participation-key"],stateProofKey:e["state-proof-key"]})}},Kg=class ix extends Ee{constructor({address:e,delta:n}){super(),this.address=e,this.delta=n,this.attribute_map={address:"address",delta:"delta"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(!Array.isArray(e.delta))throw new Error(`Response is missing required array field 'delta': ${e}`);return new ix({address:e.address,delta:e.delta.map(Zu.from_obj_for_encoding)})}};class Au extends Ee{constructor({applicationIndex:e,logs:n,txid:r}){super(),this.applicationIndex=e,this.logs=n,this.txid=r,this.attribute_map={applicationIndex:"application-index",logs:"logs",txid:"txId"}}static from_obj_for_encoding(e){if(typeof e["application-index"]>"u")throw new Error(`Response is missing required field 'application-index': ${e}`);if(!Array.isArray(e.logs))throw new Error(`Response is missing required array field 'logs': ${e}`);if(typeof e.txId>"u")throw new Error(`Response is missing required field 'txId': ${e}`);return new Au({applicationIndex:e["application-index"],logs:e.logs,txid:e.txId})}}let Iu=class sx extends Ee{constructor({id:e,params:n}){super(),this.id=e,this.params=n,this.attribute_map={id:"id",params:"params"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new sx({id:e.id,params:Eu.from_obj_for_encoding(e.params)})}};class Cu extends Ee{constructor({id:e,appBoxes:n,appGlobals:r,appLocals:i}){super(),this.id=e,this.appBoxes=n,this.appGlobals=r,this.appLocals=i,this.attribute_map={id:"id",appBoxes:"app-boxes",appGlobals:"app-globals",appLocals:"app-locals"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);return new Cu({id:e.id,appBoxes:typeof e["app-boxes"]<"u"?ao.from_obj_for_encoding(e["app-boxes"]):void 0,appGlobals:typeof e["app-globals"]<"u"?ao.from_obj_for_encoding(e["app-globals"]):void 0,appLocals:typeof e["app-locals"]<"u"?e["app-locals"].map(ao.from_obj_for_encoding):void 0})}}class ao extends Ee{constructor({kvs:e,account:n}){super(),this.kvs=e,this.account=n,this.attribute_map={kvs:"kvs",account:"account"}}static from_obj_for_encoding(e){if(!Array.isArray(e.kvs))throw new Error(`Response is missing required array field 'kvs': ${e}`);return new ao({kvs:e.kvs.map(Bu.from_obj_for_encoding),account:e.account})}}class _u extends Ee{constructor({account:e,app:n}){super(),this.account=e,this.app=n,this.attribute_map={account:"account",app:"app"}}static from_obj_for_encoding(e){if(typeof e.account>"u")throw new Error(`Response is missing required field 'account': ${e}`);if(typeof e.app>"u")throw new Error(`Response is missing required field 'app': ${e}`);return new _u({account:e.account,app:e.app})}}let Hg=class ox extends Ee{constructor({id:e,schema:n,keyValue:r}){super(),this.id=e,this.schema=n,this.keyValue=r,this.attribute_map={id:"id",schema:"schema",keyValue:"key-value"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.schema>"u")throw new Error(`Response is missing required field 'schema': ${e}`);return new ox({id:e.id,schema:ws.from_obj_for_encoding(e.schema),keyValue:typeof e["key-value"]<"u"?e["key-value"].map(um.from_obj_for_encoding):void 0})}},Eu=class ax extends Ee{constructor({approvalProgram:e,clearStateProgram:n,creator:r,extraProgramPages:i,globalState:s,globalStateSchema:o,localStateSchema:a}){super(),this.approvalProgram=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.clearStateProgram=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.creator=r,this.extraProgramPages=i,this.globalState=s,this.globalStateSchema=o,this.localStateSchema=a,this.attribute_map={approvalProgram:"approval-program",clearStateProgram:"clear-state-program",creator:"creator",extraProgramPages:"extra-program-pages",globalState:"global-state",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema"}}static from_obj_for_encoding(e){if(typeof e["approval-program"]>"u")throw new Error(`Response is missing required field 'approval-program': ${e}`);if(typeof e["clear-state-program"]>"u")throw new Error(`Response is missing required field 'clear-state-program': ${e}`);if(typeof e.creator>"u")throw new Error(`Response is missing required field 'creator': ${e}`);return new ax({approvalProgram:e["approval-program"],clearStateProgram:e["clear-state-program"],creator:e.creator,extraProgramPages:e["extra-program-pages"],globalState:typeof e["global-state"]<"u"?e["global-state"].map(um.from_obj_for_encoding):void 0,globalStateSchema:typeof e["global-state-schema"]<"u"?ws.from_obj_for_encoding(e["global-state-schema"]):void 0,localStateSchema:typeof e["local-state-schema"]<"u"?ws.from_obj_for_encoding(e["local-state-schema"]):void 0})}};class Su extends Ee{constructor({appStateType:e,key:n,operation:r,account:i,newValue:s}){super(),this.appStateType=e,this.key=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.operation=r,this.account=i,this.newValue=s,this.attribute_map={appStateType:"app-state-type",key:"key",operation:"operation",account:"account",newValue:"new-value"}}static from_obj_for_encoding(e){if(typeof e["app-state-type"]>"u")throw new Error(`Response is missing required field 'app-state-type': ${e}`);if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.operation>"u")throw new Error(`Response is missing required field 'operation': ${e}`);return new Su({appStateType:e["app-state-type"],key:e.key,operation:e.operation,account:e.account,newValue:typeof e["new-value"]<"u"?_s.from_obj_for_encoding(e["new-value"]):void 0})}}let ws=class lx extends Ee{constructor({numUint:e,numByteSlice:n}){super(),this.numUint=e,this.numByteSlice=n,this.attribute_map={numUint:"num-uint",numByteSlice:"num-byte-slice"}}static from_obj_for_encoding(e){if(typeof e["num-uint"]>"u")throw new Error(`Response is missing required field 'num-uint': ${e}`);if(typeof e["num-byte-slice"]>"u")throw new Error(`Response is missing required field 'num-byte-slice': ${e}`);return new lx({numUint:e["num-uint"],numByteSlice:e["num-byte-slice"]})}},cx=class ux extends Ee{constructor({index:e,params:n}){super(),this.index=e,this.params=n,this.attribute_map={index:"index",params:"params"}}static from_obj_for_encoding(e){if(typeof e.index>"u")throw new Error(`Response is missing required field 'index': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new ux({index:e.index,params:ku.from_obj_for_encoding(e.params)})}},Ru=class dx extends Ee{constructor({amount:e,assetId:n,isFrozen:r}){super(),this.amount=e,this.assetId=n,this.isFrozen=r,this.attribute_map={amount:"amount",assetId:"asset-id",isFrozen:"is-frozen"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e["is-frozen"]>"u")throw new Error(`Response is missing required field 'is-frozen': ${e}`);return new dx({amount:e.amount,assetId:e["asset-id"],isFrozen:e["is-frozen"]})}};class Fu extends Ee{constructor({account:e,asset:n}){super(),this.account=e,this.asset=n,this.attribute_map={account:"account",asset:"asset"}}static from_obj_for_encoding(e){if(typeof e.account>"u")throw new Error(`Response is missing required field 'account': ${e}`);if(typeof e.asset>"u")throw new Error(`Response is missing required field 'asset': ${e}`);return new Fu({account:e.account,asset:e.asset})}}let ku=class fx extends Ee{constructor({creator:e,decimals:n,total:r,clawback:i,defaultFrozen:s,freeze:o,manager:a,metadataHash:l,name:c,nameB64:f,reserve:h,unitName:v,unitNameB64:I,url:S,urlB64:M}){super(),this.creator=e,this.decimals=n,this.total=r,this.clawback=i,this.defaultFrozen=s,this.freeze=o,this.manager=a,this.metadataHash=typeof l=="string"?new Uint8Array(J.Buffer.from(l,"base64")):l,this.name=c,this.nameB64=typeof f=="string"?new Uint8Array(J.Buffer.from(f,"base64")):f,this.reserve=h,this.unitName=v,this.unitNameB64=typeof I=="string"?new Uint8Array(J.Buffer.from(I,"base64")):I,this.url=S,this.urlB64=typeof M=="string"?new Uint8Array(J.Buffer.from(M,"base64")):M,this.attribute_map={creator:"creator",decimals:"decimals",total:"total",clawback:"clawback",defaultFrozen:"default-frozen",freeze:"freeze",manager:"manager",metadataHash:"metadata-hash",name:"name",nameB64:"name-b64",reserve:"reserve",unitName:"unit-name",unitNameB64:"unit-name-b64",url:"url",urlB64:"url-b64"}}static from_obj_for_encoding(e){if(typeof e.creator>"u")throw new Error(`Response is missing required field 'creator': ${e}`);if(typeof e.decimals>"u")throw new Error(`Response is missing required field 'decimals': ${e}`);if(typeof e.total>"u")throw new Error(`Response is missing required field 'total': ${e}`);return new fx({creator:e.creator,decimals:e.decimals,total:e.total,clawback:e.clawback,defaultFrozen:e["default-frozen"],freeze:e.freeze,manager:e.manager,metadataHash:e["metadata-hash"],name:e.name,nameB64:e["name-b64"],reserve:e.reserve,unitName:e["unit-name"],unitNameB64:e["unit-name-b64"],url:e.url,urlB64:e["url-b64"]})}};class Bu extends Ee{constructor({key:e,value:n}){super(),this.key=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new Bu({key:e.key,value:_s.from_obj_for_encoding(e.value)})}}class _s extends Ee{constructor({type:e,bytes:n,uint:r}){super(),this.type=e,this.bytes=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.uint=r,this.attribute_map={type:"type",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.type>"u")throw new Error(`Response is missing required field 'type': ${e}`);return new _s({type:e.type,bytes:e.bytes,uint:e.uint})}}class qg extends Ee{constructor({blockhash:e}){super(),this.blockhash=e,this.attribute_map={blockhash:"blockHash"}}static from_obj_for_encoding(e){if(typeof e.blockHash>"u")throw new Error(`Response is missing required field 'blockHash': ${e}`);return new qg({blockhash:e.blockHash})}}class Qg extends Ee{constructor({logs:e}){super(),this.logs=e,this.attribute_map={logs:"logs"}}static from_obj_for_encoding(e){if(!Array.isArray(e.logs))throw new Error(`Response is missing required array field 'logs': ${e}`);return new Qg({logs:e.logs.map(Au.from_obj_for_encoding)})}}class em extends Ee{constructor({block:e,cert:n}){super(),this.block=e,this.cert=n,this.attribute_map={block:"block",cert:"cert"}}static from_obj_for_encoding(e){if(typeof e.block>"u")throw new Error(`Response is missing required field 'block': ${e}`);return new em({block:e.block,cert:e.cert})}}class tm extends Ee{constructor({blocktxids:e}){super(),this.blocktxids=e,this.attribute_map={blocktxids:"blockTxids"}}static from_obj_for_encoding(e){if(!Array.isArray(e.blockTxids))throw new Error(`Response is missing required array field 'blockTxids': ${e}`);return new tm({blocktxids:e.blockTxids})}}let hx=class px extends Ee{constructor({name:e,round:n,value:r}){super(),this.name=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.round=n,this.value=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.attribute_map={name:"name",round:"round",value:"value"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new px({name:e.name,round:e.round,value:e.value})}},gx=class mx extends Ee{constructor({name:e}){super(),this.name=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.attribute_map={name:"name"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);return new mx({name:e.name})}};class Tu extends Ee{constructor({app:e,name:n}){super(),this.app=e,this.name=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.attribute_map={app:"app",name:"name"}}static from_obj_for_encoding(e){if(typeof e.app>"u")throw new Error(`Response is missing required field 'app': ${e}`);if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);return new Tu({app:e.app,name:e.name})}}let yx=class wx extends Ee{constructor({boxes:e}){super(),this.boxes=e,this.attribute_map={boxes:"boxes"}}static from_obj_for_encoding(e){if(!Array.isArray(e.boxes))throw new Error(`Response is missing required array field 'boxes': ${e}`);return new wx({boxes:e.boxes.map(gx.from_obj_for_encoding)})}};class Nu extends Ee{constructor({branch:e,buildNumber:n,channel:r,commitHash:i,major:s,minor:o}){super(),this.branch=e,this.buildNumber=n,this.channel=r,this.commitHash=i,this.major=s,this.minor=o,this.attribute_map={branch:"branch",buildNumber:"build_number",channel:"channel",commitHash:"commit_hash",major:"major",minor:"minor"}}static from_obj_for_encoding(e){if(typeof e.branch>"u")throw new Error(`Response is missing required field 'branch': ${e}`);if(typeof e.build_number>"u")throw new Error(`Response is missing required field 'build_number': ${e}`);if(typeof e.channel>"u")throw new Error(`Response is missing required field 'channel': ${e}`);if(typeof e.commit_hash>"u")throw new Error(`Response is missing required field 'commit_hash': ${e}`);if(typeof e.major>"u")throw new Error(`Response is missing required field 'major': ${e}`);if(typeof e.minor>"u")throw new Error(`Response is missing required field 'minor': ${e}`);return new Nu({branch:e.branch,buildNumber:e.build_number,channel:e.channel,commitHash:e.commit_hash,major:e.major,minor:e.minor})}}class nm extends Ee{constructor({hash:e,result:n,sourcemap:r}){super(),this.hash=e,this.result=n,this.sourcemap=r,this.attribute_map={hash:"hash",result:"result",sourcemap:"sourcemap"}}static from_obj_for_encoding(e){if(typeof e.hash>"u")throw new Error(`Response is missing required field 'hash': ${e}`);if(typeof e.result>"u")throw new Error(`Response is missing required field 'result': ${e}`);return new nm({hash:e.hash,result:e.result,sourcemap:e.sourcemap})}}class rm extends Ee{constructor({result:e}){super(),this.result=e,this.attribute_map={result:"result"}}static from_obj_for_encoding(e){if(typeof e.result>"u")throw new Error(`Response is missing required field 'result': ${e}`);return new rm({result:e.result})}}class Lu extends Ee{constructor({accounts:e,apps:n,latestTimestamp:r,protocolVersion:i,round:s,sources:o,txns:a}){super(),this.accounts=e,this.apps=n,this.latestTimestamp=r,this.protocolVersion=i,this.round=s,this.sources=o,this.txns=a,this.attribute_map={accounts:"accounts",apps:"apps",latestTimestamp:"latest-timestamp",protocolVersion:"protocol-version",round:"round",sources:"sources",txns:"txns"}}static from_obj_for_encoding(e){if(!Array.isArray(e.accounts))throw new Error(`Response is missing required array field 'accounts': ${e}`);if(!Array.isArray(e.apps))throw new Error(`Response is missing required array field 'apps': ${e}`);if(typeof e["latest-timestamp"]>"u")throw new Error(`Response is missing required field 'latest-timestamp': ${e}`);if(typeof e["protocol-version"]>"u")throw new Error(`Response is missing required field 'protocol-version': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(!Array.isArray(e.sources))throw new Error(`Response is missing required array field 'sources': ${e}`);if(!Array.isArray(e.txns))throw new Error(`Response is missing required array field 'txns': ${e}`);return new Lu({accounts:e.accounts.map(ex.from_obj_for_encoding),apps:e.apps.map(Iu.from_obj_for_encoding),latestTimestamp:e["latest-timestamp"],protocolVersion:e["protocol-version"],round:e.round,sources:e.sources.map(Mu.from_obj_for_encoding),txns:e.txns})}}class im extends Ee{constructor({error:e,protocolVersion:n,txns:r}){super(),this.error=e,this.protocolVersion=n,this.txns=r,this.attribute_map={error:"error",protocolVersion:"protocol-version",txns:"txns"}}static from_obj_for_encoding(e){if(typeof e.error>"u")throw new Error(`Response is missing required field 'error': ${e}`);if(typeof e["protocol-version"]>"u")throw new Error(`Response is missing required field 'protocol-version': ${e}`);if(!Array.isArray(e.txns))throw new Error(`Response is missing required array field 'txns': ${e}`);return new im({error:e.error,protocolVersion:e["protocol-version"],txns:e.txns.map(Wu.from_obj_for_encoding)})}}class Mu extends Ee{constructor({fieldName:e,source:n,txnIndex:r,appIndex:i}){super(),this.fieldName=e,this.source=n,this.txnIndex=r,this.appIndex=i,this.attribute_map={fieldName:"field-name",source:"source",txnIndex:"txn-index",appIndex:"app-index"}}static from_obj_for_encoding(e){if(typeof e["field-name"]>"u")throw new Error(`Response is missing required field 'field-name': ${e}`);if(typeof e.source>"u")throw new Error(`Response is missing required field 'source': ${e}`);if(typeof e["txn-index"]>"u")throw new Error(`Response is missing required field 'txn-index': ${e}`);if(typeof e["app-index"]>"u")throw new Error(`Response is missing required field 'app-index': ${e}`);return new Mu({fieldName:e["field-name"],source:e.source,txnIndex:e["txn-index"],appIndex:e["app-index"]})}}class Da extends Ee{constructor({line:e,pc:n,stack:r,error:i,scratch:s}){super(),this.line=e,this.pc=n,this.stack=r,this.error=i,this.scratch=s,this.attribute_map={line:"line",pc:"pc",stack:"stack",error:"error",scratch:"scratch"}}static from_obj_for_encoding(e){if(typeof e.line>"u")throw new Error(`Response is missing required field 'line': ${e}`);if(typeof e.pc>"u")throw new Error(`Response is missing required field 'pc': ${e}`);if(!Array.isArray(e.stack))throw new Error(`Response is missing required array field 'stack': ${e}`);return new Da({line:e.line,pc:e.pc,stack:e.stack.map(Uc.from_obj_for_encoding),error:e.error,scratch:typeof e.scratch<"u"?e.scratch.map(Uc.from_obj_for_encoding):void 0})}}class Wu extends Ee{constructor({disassembly:e,appCallMessages:n,appCallTrace:r,budgetAdded:i,budgetConsumed:s,globalDelta:o,localDeltas:a,logicSigDisassembly:l,logicSigMessages:c,logicSigTrace:f,logs:h}){super(),this.disassembly=e,this.appCallMessages=n,this.appCallTrace=r,this.budgetAdded=i,this.budgetConsumed=s,this.globalDelta=o,this.localDeltas=a,this.logicSigDisassembly=l,this.logicSigMessages=c,this.logicSigTrace=f,this.logs=h,this.attribute_map={disassembly:"disassembly",appCallMessages:"app-call-messages",appCallTrace:"app-call-trace",budgetAdded:"budget-added",budgetConsumed:"budget-consumed",globalDelta:"global-delta",localDeltas:"local-deltas",logicSigDisassembly:"logic-sig-disassembly",logicSigMessages:"logic-sig-messages",logicSigTrace:"logic-sig-trace",logs:"logs"}}static from_obj_for_encoding(e){if(!Array.isArray(e.disassembly))throw new Error(`Response is missing required array field 'disassembly': ${e}`);return new Wu({disassembly:e.disassembly,appCallMessages:e["app-call-messages"],appCallTrace:typeof e["app-call-trace"]<"u"?e["app-call-trace"].map(Da.from_obj_for_encoding):void 0,budgetAdded:e["budget-added"],budgetConsumed:e["budget-consumed"],globalDelta:typeof e["global-delta"]<"u"?e["global-delta"].map(Zu.from_obj_for_encoding):void 0,localDeltas:typeof e["local-deltas"]<"u"?e["local-deltas"].map(Kg.from_obj_for_encoding):void 0,logicSigDisassembly:e["logic-sig-disassembly"],logicSigMessages:e["logic-sig-messages"],logicSigTrace:typeof e["logic-sig-trace"]<"u"?e["logic-sig-trace"].map(Da.from_obj_for_encoding):void 0,logs:e.logs})}}let s4=class vx extends Ee{constructor({message:e,data:n}){super(),this.message=e,this.data=n,this.attribute_map={message:"message",data:"data"}}static from_obj_for_encoding(e){if(typeof e.message>"u")throw new Error(`Response is missing required field 'message': ${e}`);return new vx({message:e.message,data:e.data})}},xx=class bx extends Ee{constructor({action:e,bytes:n,uint:r}){super(),this.action=e,this.bytes=n,this.uint=r,this.attribute_map={action:"action",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.action>"u")throw new Error(`Response is missing required field 'action': ${e}`);return new bx({action:e.action,bytes:e.bytes,uint:e.uint})}},Zu=class Ax extends Ee{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new Ax({key:e.key,value:xx.from_obj_for_encoding(e.value)})}};class Ou extends Ee{constructor({offset:e}){super(),this.offset=e,this.attribute_map={offset:"offset"}}static from_obj_for_encoding(e){if(typeof e.offset>"u")throw new Error(`Response is missing required field 'offset': ${e}`);return new Ou({offset:e.offset})}}class Du extends Ee{constructor({round:e}){super(),this.round=e,this.attribute_map={round:"round"}}static from_obj_for_encoding(e){if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);return new Du({round:e.round})}}class sm extends Ee{constructor({key:e,value:n}){super(),this.key=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.value=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){return new sm({key:e.key,value:e.value})}}class Uu extends Ee{constructor({delta:e,ids:n}){super(),this.delta=e,this.ids=n,this.attribute_map={delta:"Delta",ids:"Ids"}}static from_obj_for_encoding(e){if(typeof e.Delta>"u")throw new Error(`Response is missing required field 'Delta': ${e}`);if(!Array.isArray(e.Ids))throw new Error(`Response is missing required array field 'Ids': ${e}`);return new Uu({delta:e.Delta,ids:e.Ids})}}let o4=class Ix extends Ee{constructor({index:e,proof:n,treedepth:r}){super(),this.index=e,this.proof=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.treedepth=r,this.attribute_map={index:"index",proof:"proof",treedepth:"treedepth"}}static from_obj_for_encoding(e){if(typeof e.index>"u")throw new Error(`Response is missing required field 'index': ${e}`);if(typeof e.proof>"u")throw new Error(`Response is missing required field 'proof': ${e}`);if(typeof e.treedepth>"u")throw new Error(`Response is missing required field 'treedepth': ${e}`);return new Ix({index:e.index,proof:e.proof,treedepth:e.treedepth})}};class om extends Ee{constructor({catchupTime:e,lastRound:n,lastVersion:r,nextVersion:i,nextVersionRound:s,nextVersionSupported:o,stoppedAtUnsupportedRound:a,timeSinceLastRound:l,catchpoint:c,catchpointAcquiredBlocks:f,catchpointProcessedAccounts:h,catchpointProcessedKvs:v,catchpointTotalAccounts:I,catchpointTotalBlocks:S,catchpointTotalKvs:M,catchpointVerifiedAccounts:F,catchpointVerifiedKvs:E,lastCatchpoint:m,upgradeDelay:x,upgradeNextProtocolVoteBefore:G,upgradeNoVotes:Z,upgradeNodeVote:C,upgradeVoteRounds:D,upgradeVotes:V,upgradeVotesRequired:Q,upgradeYesVotes:$}){super(),this.catchupTime=e,this.lastRound=n,this.lastVersion=r,this.nextVersion=i,this.nextVersionRound=s,this.nextVersionSupported=o,this.stoppedAtUnsupportedRound=a,this.timeSinceLastRound=l,this.catchpoint=c,this.catchpointAcquiredBlocks=f,this.catchpointProcessedAccounts=h,this.catchpointProcessedKvs=v,this.catchpointTotalAccounts=I,this.catchpointTotalBlocks=S,this.catchpointTotalKvs=M,this.catchpointVerifiedAccounts=F,this.catchpointVerifiedKvs=E,this.lastCatchpoint=m,this.upgradeDelay=x,this.upgradeNextProtocolVoteBefore=G,this.upgradeNoVotes=Z,this.upgradeNodeVote=C,this.upgradeVoteRounds=D,this.upgradeVotes=V,this.upgradeVotesRequired=Q,this.upgradeYesVotes=$,this.attribute_map={catchupTime:"catchup-time",lastRound:"last-round",lastVersion:"last-version",nextVersion:"next-version",nextVersionRound:"next-version-round",nextVersionSupported:"next-version-supported",stoppedAtUnsupportedRound:"stopped-at-unsupported-round",timeSinceLastRound:"time-since-last-round",catchpoint:"catchpoint",catchpointAcquiredBlocks:"catchpoint-acquired-blocks",catchpointProcessedAccounts:"catchpoint-processed-accounts",catchpointProcessedKvs:"catchpoint-processed-kvs",catchpointTotalAccounts:"catchpoint-total-accounts",catchpointTotalBlocks:"catchpoint-total-blocks",catchpointTotalKvs:"catchpoint-total-kvs",catchpointVerifiedAccounts:"catchpoint-verified-accounts",catchpointVerifiedKvs:"catchpoint-verified-kvs",lastCatchpoint:"last-catchpoint",upgradeDelay:"upgrade-delay",upgradeNextProtocolVoteBefore:"upgrade-next-protocol-vote-before",upgradeNoVotes:"upgrade-no-votes",upgradeNodeVote:"upgrade-node-vote",upgradeVoteRounds:"upgrade-vote-rounds",upgradeVotes:"upgrade-votes",upgradeVotesRequired:"upgrade-votes-required",upgradeYesVotes:"upgrade-yes-votes"}}static from_obj_for_encoding(e){if(typeof e["catchup-time"]>"u")throw new Error(`Response is missing required field 'catchup-time': ${e}`);if(typeof e["last-round"]>"u")throw new Error(`Response is missing required field 'last-round': ${e}`);if(typeof e["last-version"]>"u")throw new Error(`Response is missing required field 'last-version': ${e}`);if(typeof e["next-version"]>"u")throw new Error(`Response is missing required field 'next-version': ${e}`);if(typeof e["next-version-round"]>"u")throw new Error(`Response is missing required field 'next-version-round': ${e}`);if(typeof e["next-version-supported"]>"u")throw new Error(`Response is missing required field 'next-version-supported': ${e}`);if(typeof e["stopped-at-unsupported-round"]>"u")throw new Error(`Response is missing required field 'stopped-at-unsupported-round': ${e}`);if(typeof e["time-since-last-round"]>"u")throw new Error(`Response is missing required field 'time-since-last-round': ${e}`);return new om({catchupTime:e["catchup-time"],lastRound:e["last-round"],lastVersion:e["last-version"],nextVersion:e["next-version"],nextVersionRound:e["next-version-round"],nextVersionSupported:e["next-version-supported"],stoppedAtUnsupportedRound:e["stopped-at-unsupported-round"],timeSinceLastRound:e["time-since-last-round"],catchpoint:e.catchpoint,catchpointAcquiredBlocks:e["catchpoint-acquired-blocks"],catchpointProcessedAccounts:e["catchpoint-processed-accounts"],catchpointProcessedKvs:e["catchpoint-processed-kvs"],catchpointTotalAccounts:e["catchpoint-total-accounts"],catchpointTotalBlocks:e["catchpoint-total-blocks"],catchpointTotalKvs:e["catchpoint-total-kvs"],catchpointVerifiedAccounts:e["catchpoint-verified-accounts"],catchpointVerifiedKvs:e["catchpoint-verified-kvs"],lastCatchpoint:e["last-catchpoint"],upgradeDelay:e["upgrade-delay"],upgradeNextProtocolVoteBefore:e["upgrade-next-protocol-vote-before"],upgradeNoVotes:e["upgrade-no-votes"],upgradeNodeVote:e["upgrade-node-vote"],upgradeVoteRounds:e["upgrade-vote-rounds"],upgradeVotes:e["upgrade-votes"],upgradeVotesRequired:e["upgrade-votes-required"],upgradeYesVotes:e["upgrade-yes-votes"]})}}class Ua extends Ee{constructor({poolError:e,txn:n,applicationIndex:r,assetClosingAmount:i,assetIndex:s,closeRewards:o,closingAmount:a,confirmedRound:l,globalStateDelta:c,innerTxns:f,localStateDelta:h,logs:v,receiverRewards:I,senderRewards:S}){super(),this.poolError=e,this.txn=n,this.applicationIndex=r,this.assetClosingAmount=i,this.assetIndex=s,this.closeRewards=o,this.closingAmount=a,this.confirmedRound=l,this.globalStateDelta=c,this.innerTxns=f,this.localStateDelta=h,this.logs=v,this.receiverRewards=I,this.senderRewards=S,this.attribute_map={poolError:"pool-error",txn:"txn",applicationIndex:"application-index",assetClosingAmount:"asset-closing-amount",assetIndex:"asset-index",closeRewards:"close-rewards",closingAmount:"closing-amount",confirmedRound:"confirmed-round",globalStateDelta:"global-state-delta",innerTxns:"inner-txns",localStateDelta:"local-state-delta",logs:"logs",receiverRewards:"receiver-rewards",senderRewards:"sender-rewards"}}static from_obj_for_encoding(e){if(typeof e["pool-error"]>"u")throw new Error(`Response is missing required field 'pool-error': ${e}`);if(typeof e.txn>"u")throw new Error(`Response is missing required field 'txn': ${e}`);return new Ua({poolError:e["pool-error"],txn:e.txn,applicationIndex:e["application-index"],assetClosingAmount:e["asset-closing-amount"],assetIndex:e["asset-index"],closeRewards:e["close-rewards"],closingAmount:e["closing-amount"],confirmedRound:e["confirmed-round"],globalStateDelta:typeof e["global-state-delta"]<"u"?e["global-state-delta"].map(Zu.from_obj_for_encoding):void 0,innerTxns:typeof e["inner-txns"]<"u"?e["inner-txns"].map(Ua.from_obj_for_encoding):void 0,localStateDelta:typeof e["local-state-delta"]<"u"?e["local-state-delta"].map(Kg.from_obj_for_encoding):void 0,logs:e.logs,receiverRewards:e["receiver-rewards"],senderRewards:e["sender-rewards"]})}}class am extends Ee{constructor({topTransactions:e,totalTransactions:n}){super(),this.topTransactions=e,this.totalTransactions=n,this.attribute_map={topTransactions:"top-transactions",totalTransactions:"total-transactions"}}static from_obj_for_encoding(e){if(!Array.isArray(e["top-transactions"]))throw new Error(`Response is missing required array field 'top-transactions': ${e}`);if(typeof e["total-transactions"]>"u")throw new Error(`Response is missing required field 'total-transactions': ${e}`);return new am({topTransactions:e["top-transactions"],totalTransactions:e["total-transactions"]})}}class lm extends Ee{constructor({txid:e}){super(),this.txid=e,this.attribute_map={txid:"txId"}}static from_obj_for_encoding(e){if(typeof e.txId>"u")throw new Error(`Response is missing required field 'txId': ${e}`);return new lm({txid:e.txId})}}class Pu extends Ee{constructor({newValue:e,slot:n}){super(),this.newValue=e,this.slot=n,this.attribute_map={newValue:"new-value",slot:"slot"}}static from_obj_for_encoding(e){if(typeof e["new-value"]>"u")throw new Error(`Response is missing required field 'new-value': ${e}`);if(typeof e.slot>"u")throw new Error(`Response is missing required field 'slot': ${e}`);return new Pu({newValue:_s.from_obj_for_encoding(e["new-value"]),slot:e.slot})}}class Gu extends Ee{constructor({appInitialStates:e}){super(),this.appInitialStates=e,this.attribute_map={appInitialStates:"app-initial-states"}}static from_obj_for_encoding(e){return new Gu({appInitialStates:typeof e["app-initial-states"]<"u"?e["app-initial-states"].map(Cu.from_obj_for_encoding):void 0})}}class Eo extends Ee{constructor({txnGroups:e,allowEmptySignatures:n,allowMoreLogging:r,allowUnnamedResources:i,execTraceConfig:s,extraOpcodeBudget:o,fixSigners:a,round:l}){super(),this.txnGroups=e,this.allowEmptySignatures=n,this.allowMoreLogging=r,this.allowUnnamedResources=i,this.execTraceConfig=s,this.extraOpcodeBudget=o,this.fixSigners=a,this.round=l,this.attribute_map={txnGroups:"txn-groups",allowEmptySignatures:"allow-empty-signatures",allowMoreLogging:"allow-more-logging",allowUnnamedResources:"allow-unnamed-resources",execTraceConfig:"exec-trace-config",extraOpcodeBudget:"extra-opcode-budget",fixSigners:"fix-signers",round:"round"}}static from_obj_for_encoding(e){if(!Array.isArray(e["txn-groups"]))throw new Error(`Response is missing required array field 'txn-groups': ${e}`);return new Eo({txnGroups:e["txn-groups"].map(So.from_obj_for_encoding),allowEmptySignatures:e["allow-empty-signatures"],allowMoreLogging:e["allow-more-logging"],allowUnnamedResources:e["allow-unnamed-resources"],execTraceConfig:typeof e["exec-trace-config"]<"u"?rl.from_obj_for_encoding(e["exec-trace-config"]):void 0,extraOpcodeBudget:e["extra-opcode-budget"],fixSigners:e["fix-signers"],round:e.round})}}class So extends Ee{constructor({txns:e}){super(),this.txns=e,this.attribute_map={txns:"txns"}}static from_obj_for_encoding(e){if(!Array.isArray(e.txns))throw new Error(`Response is missing required array field 'txns': ${e}`);return new So({txns:e.txns})}}class Vu extends Ee{constructor({lastRound:e,txnGroups:n,version:r,evalOverrides:i,execTraceConfig:s,initialStates:o}){super(),this.lastRound=e,this.txnGroups=n,this.version=r,this.evalOverrides=i,this.execTraceConfig=s,this.initialStates=o,this.attribute_map={lastRound:"last-round",txnGroups:"txn-groups",version:"version",evalOverrides:"eval-overrides",execTraceConfig:"exec-trace-config",initialStates:"initial-states"}}static from_obj_for_encoding(e){if(typeof e["last-round"]>"u")throw new Error(`Response is missing required field 'last-round': ${e}`);if(!Array.isArray(e["txn-groups"]))throw new Error(`Response is missing required array field 'txn-groups': ${e}`);if(typeof e.version>"u")throw new Error(`Response is missing required field 'version': ${e}`);return new Vu({lastRound:e["last-round"],txnGroups:e["txn-groups"].map(ju.from_obj_for_encoding),version:e.version,evalOverrides:typeof e["eval-overrides"]<"u"?zu.from_obj_for_encoding(e["eval-overrides"]):void 0,execTraceConfig:typeof e["exec-trace-config"]<"u"?rl.from_obj_for_encoding(e["exec-trace-config"]):void 0,initialStates:typeof e["initial-states"]<"u"?Gu.from_obj_for_encoding(e["initial-states"]):void 0})}}class rl extends Ee{constructor({enable:e,scratchChange:n,stackChange:r,stateChange:i}){super(),this.enable=e,this.scratchChange=n,this.stackChange=r,this.stateChange=i,this.attribute_map={enable:"enable",scratchChange:"scratch-change",stackChange:"stack-change",stateChange:"state-change"}}static from_obj_for_encoding(e){return new rl({enable:e.enable,scratchChange:e["scratch-change"],stackChange:e["stack-change"],stateChange:e["state-change"]})}}class ju extends Ee{constructor({txnResults:e,appBudgetAdded:n,appBudgetConsumed:r,failedAt:i,failureMessage:s,unnamedResourcesAccessed:o}){super(),this.txnResults=e,this.appBudgetAdded=n,this.appBudgetConsumed=r,this.failedAt=i,this.failureMessage=s,this.unnamedResourcesAccessed=o,this.attribute_map={txnResults:"txn-results",appBudgetAdded:"app-budget-added",appBudgetConsumed:"app-budget-consumed",failedAt:"failed-at",failureMessage:"failure-message",unnamedResourcesAccessed:"unnamed-resources-accessed"}}static from_obj_for_encoding(e){if(!Array.isArray(e["txn-results"]))throw new Error(`Response is missing required array field 'txn-results': ${e}`);return new ju({txnResults:e["txn-results"].map($u.from_obj_for_encoding),appBudgetAdded:e["app-budget-added"],appBudgetConsumed:e["app-budget-consumed"],failedAt:e["failed-at"],failureMessage:e["failure-message"],unnamedResourcesAccessed:typeof e["unnamed-resources-accessed"]<"u"?il.from_obj_for_encoding(e["unnamed-resources-accessed"]):void 0})}}class $u extends Ee{constructor({txnResult:e,appBudgetConsumed:n,execTrace:r,fixedSigner:i,logicSigBudgetConsumed:s,unnamedResourcesAccessed:o}){super(),this.txnResult=e,this.appBudgetConsumed=n,this.execTrace=r,this.fixedSigner=i,this.logicSigBudgetConsumed=s,this.unnamedResourcesAccessed=o,this.attribute_map={txnResult:"txn-result",appBudgetConsumed:"app-budget-consumed",execTrace:"exec-trace",fixedSigner:"fixed-signer",logicSigBudgetConsumed:"logic-sig-budget-consumed",unnamedResourcesAccessed:"unnamed-resources-accessed"}}static from_obj_for_encoding(e){if(typeof e["txn-result"]>"u")throw new Error(`Response is missing required field 'txn-result': ${e}`);return new $u({txnResult:Ua.from_obj_for_encoding(e["txn-result"]),appBudgetConsumed:e["app-budget-consumed"],execTrace:typeof e["exec-trace"]<"u"?Pa.from_obj_for_encoding(e["exec-trace"]):void 0,fixedSigner:e["fixed-signer"],logicSigBudgetConsumed:e["logic-sig-budget-consumed"],unnamedResourcesAccessed:typeof e["unnamed-resources-accessed"]<"u"?il.from_obj_for_encoding(e["unnamed-resources-accessed"]):void 0})}}class il extends Ee{constructor({accounts:e,appLocals:n,apps:r,assetHoldings:i,assets:s,boxes:o,extraBoxRefs:a}){super(),this.accounts=e,this.appLocals=n,this.apps=r,this.assetHoldings=i,this.assets=s,this.boxes=o,this.extraBoxRefs=a,this.attribute_map={accounts:"accounts",appLocals:"app-locals",apps:"apps",assetHoldings:"asset-holdings",assets:"assets",boxes:"boxes",extraBoxRefs:"extra-box-refs"}}static from_obj_for_encoding(e){return new il({accounts:e.accounts,appLocals:typeof e["app-locals"]<"u"?e["app-locals"].map(_u.from_obj_for_encoding):void 0,apps:e.apps,assetHoldings:typeof e["asset-holdings"]<"u"?e["asset-holdings"].map(Fu.from_obj_for_encoding):void 0,assets:e.assets,boxes:typeof e.boxes<"u"?e.boxes.map(Tu.from_obj_for_encoding):void 0,extraBoxRefs:e["extra-box-refs"]})}}class zu extends Ee{constructor({allowEmptySignatures:e,allowUnnamedResources:n,extraOpcodeBudget:r,fixSigners:i,maxLogCalls:s,maxLogSize:o}){super(),this.allowEmptySignatures=e,this.allowUnnamedResources=n,this.extraOpcodeBudget=r,this.fixSigners=i,this.maxLogCalls=s,this.maxLogSize=o,this.attribute_map={allowEmptySignatures:"allow-empty-signatures",allowUnnamedResources:"allow-unnamed-resources",extraOpcodeBudget:"extra-opcode-budget",fixSigners:"fix-signers",maxLogCalls:"max-log-calls",maxLogSize:"max-log-size"}}static from_obj_for_encoding(e){return new zu({allowEmptySignatures:e["allow-empty-signatures"],allowUnnamedResources:e["allow-unnamed-resources"],extraOpcodeBudget:e["extra-opcode-budget"],fixSigners:e["fix-signers"],maxLogCalls:e["max-log-calls"],maxLogSize:e["max-log-size"]})}}class lo extends Ee{constructor({pc:e,scratchChanges:n,spawnedInners:r,stackAdditions:i,stackPopCount:s,stateChanges:o}){super(),this.pc=e,this.scratchChanges=n,this.spawnedInners=r,this.stackAdditions=i,this.stackPopCount=s,this.stateChanges=o,this.attribute_map={pc:"pc",scratchChanges:"scratch-changes",spawnedInners:"spawned-inners",stackAdditions:"stack-additions",stackPopCount:"stack-pop-count",stateChanges:"state-changes"}}static from_obj_for_encoding(e){if(typeof e.pc>"u")throw new Error(`Response is missing required field 'pc': ${e}`);return new lo({pc:e.pc,scratchChanges:typeof e["scratch-changes"]<"u"?e["scratch-changes"].map(Pu.from_obj_for_encoding):void 0,spawnedInners:e["spawned-inners"],stackAdditions:typeof e["stack-additions"]<"u"?e["stack-additions"].map(_s.from_obj_for_encoding):void 0,stackPopCount:e["stack-pop-count"],stateChanges:typeof e["state-changes"]<"u"?e["state-changes"].map(Su.from_obj_for_encoding):void 0})}}class Pa extends Ee{constructor({approvalProgramHash:e,approvalProgramTrace:n,clearStateProgramHash:r,clearStateProgramTrace:i,clearStateRollback:s,clearStateRollbackError:o,innerTrace:a,logicSigHash:l,logicSigTrace:c}){super(),this.approvalProgramHash=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.approvalProgramTrace=n,this.clearStateProgramHash=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.clearStateProgramTrace=i,this.clearStateRollback=s,this.clearStateRollbackError=o,this.innerTrace=a,this.logicSigHash=typeof l=="string"?new Uint8Array(J.Buffer.from(l,"base64")):l,this.logicSigTrace=c,this.attribute_map={approvalProgramHash:"approval-program-hash",approvalProgramTrace:"approval-program-trace",clearStateProgramHash:"clear-state-program-hash",clearStateProgramTrace:"clear-state-program-trace",clearStateRollback:"clear-state-rollback",clearStateRollbackError:"clear-state-rollback-error",innerTrace:"inner-trace",logicSigHash:"logic-sig-hash",logicSigTrace:"logic-sig-trace"}}static from_obj_for_encoding(e){return new Pa({approvalProgramHash:e["approval-program-hash"],approvalProgramTrace:typeof e["approval-program-trace"]<"u"?e["approval-program-trace"].map(lo.from_obj_for_encoding):void 0,clearStateProgramHash:e["clear-state-program-hash"],clearStateProgramTrace:typeof e["clear-state-program-trace"]<"u"?e["clear-state-program-trace"].map(lo.from_obj_for_encoding):void 0,clearStateRollback:e["clear-state-rollback"],clearStateRollbackError:e["clear-state-rollback-error"],innerTrace:typeof e["inner-trace"]<"u"?e["inner-trace"].map(Pa.from_obj_for_encoding):void 0,logicSigHash:e["logic-sig-hash"],logicSigTrace:typeof e["logic-sig-trace"]<"u"?e["logic-sig-trace"].map(lo.from_obj_for_encoding):void 0})}}let a4=class Cx extends Ee{constructor({message:e,stateproof:n}){super(),this.message=e,this.stateproof=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.attribute_map={message:"Message",stateproof:"StateProof"}}static from_obj_for_encoding(e){if(typeof e.Message>"u")throw new Error(`Response is missing required field 'Message': ${e}`);if(typeof e.StateProof>"u")throw new Error(`Response is missing required field 'StateProof': ${e}`);return new Cx({message:Yu.from_obj_for_encoding(e.Message),stateproof:e.StateProof})}};class Yu extends Ee{constructor({blockheaderscommitment:e,firstattestedround:n,lastattestedround:r,lnprovenweight:i,voterscommitment:s}){super(),this.blockheaderscommitment=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.firstattestedround=n,this.lastattestedround=r,this.lnprovenweight=i,this.voterscommitment=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.attribute_map={blockheaderscommitment:"BlockHeadersCommitment",firstattestedround:"FirstAttestedRound",lastattestedround:"LastAttestedRound",lnprovenweight:"LnProvenWeight",voterscommitment:"VotersCommitment"}}static from_obj_for_encoding(e){if(typeof e.BlockHeadersCommitment>"u")throw new Error(`Response is missing required field 'BlockHeadersCommitment': ${e}`);if(typeof e.FirstAttestedRound>"u")throw new Error(`Response is missing required field 'FirstAttestedRound': ${e}`);if(typeof e.LastAttestedRound>"u")throw new Error(`Response is missing required field 'LastAttestedRound': ${e}`);if(typeof e.LnProvenWeight>"u")throw new Error(`Response is missing required field 'LnProvenWeight': ${e}`);if(typeof e.VotersCommitment>"u")throw new Error(`Response is missing required field 'VotersCommitment': ${e}`);return new Yu({blockheaderscommitment:e.BlockHeadersCommitment,firstattestedround:e.FirstAttestedRound,lastattestedround:e.LastAttestedRound,lnprovenweight:e.LnProvenWeight,voterscommitment:e.VotersCommitment})}}class cm extends Ee{constructor({currentRound:e,onlineMoney:n,totalMoney:r}){super(),this.currentRound=e,this.onlineMoney=n,this.totalMoney=r,this.attribute_map={currentRound:"current_round",onlineMoney:"online-money",totalMoney:"total-money"}}static from_obj_for_encoding(e){if(typeof e.current_round>"u")throw new Error(`Response is missing required field 'current_round': ${e}`);if(typeof e["online-money"]>"u")throw new Error(`Response is missing required field 'online-money': ${e}`);if(typeof e["total-money"]>"u")throw new Error(`Response is missing required field 'total-money': ${e}`);return new cm({currentRound:e.current_round,onlineMoney:e["online-money"],totalMoney:e["total-money"]})}}let um=class _x extends Ee{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new _x({key:e.key,value:Uc.from_obj_for_encoding(e.value)})}},Uc=class Ex extends Ee{constructor({type:e,bytes:n,uint:r}){super(),this.type=e,this.bytes=n,this.uint=r,this.attribute_map={type:"type",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.type>"u")throw new Error(`Response is missing required field 'type': ${e}`);if(typeof e.bytes>"u")throw new Error(`Response is missing required field 'bytes': ${e}`);if(typeof e.uint>"u")throw new Error(`Response is missing required field 'uint': ${e}`);return new Ex({type:e.type,bytes:e.bytes,uint:e.uint})}};class Xu extends Ee{constructor({deltas:e}){super(),this.deltas=e,this.attribute_map={deltas:"Deltas"}}static from_obj_for_encoding(e){if(!Array.isArray(e.Deltas))throw new Error(`Response is missing required array field 'Deltas': ${e}`);return new Xu({deltas:e.Deltas.map(Uu.from_obj_for_encoding)})}}class dm extends Ee{constructor({consensusVersion:e,fee:n,genesisHash:r,genesisId:i,lastRound:s,minFee:o}){super(),this.consensusVersion=e,this.fee=n,this.genesisHash=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.genesisId=i,this.lastRound=s,this.minFee=o,this.attribute_map={consensusVersion:"consensus-version",fee:"fee",genesisHash:"genesis-hash",genesisId:"genesis-id",lastRound:"last-round",minFee:"min-fee"}}static from_obj_for_encoding(e){if(typeof e["consensus-version"]>"u")throw new Error(`Response is missing required field 'consensus-version': ${e}`);if(typeof e.fee>"u")throw new Error(`Response is missing required field 'fee': ${e}`);if(typeof e["genesis-hash"]>"u")throw new Error(`Response is missing required field 'genesis-hash': ${e}`);if(typeof e["genesis-id"]>"u")throw new Error(`Response is missing required field 'genesis-id': ${e}`);if(typeof e["last-round"]>"u")throw new Error(`Response is missing required field 'last-round': ${e}`);if(typeof e["min-fee"]>"u")throw new Error(`Response is missing required field 'min-fee': ${e}`);return new dm({consensusVersion:e["consensus-version"],fee:e.fee,genesisHash:e["genesis-hash"],genesisId:e["genesis-id"],lastRound:e["last-round"],minFee:e["min-fee"]})}}class fm extends Ee{constructor({idx:e,proof:n,stibhash:r,treedepth:i,hashtype:s}){super(),this.idx=e,this.proof=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.stibhash=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.treedepth=i,this.hashtype=s,this.attribute_map={idx:"idx",proof:"proof",stibhash:"stibhash",treedepth:"treedepth",hashtype:"hashtype"}}static from_obj_for_encoding(e){if(typeof e.idx>"u")throw new Error(`Response is missing required field 'idx': ${e}`);if(typeof e.proof>"u")throw new Error(`Response is missing required field 'proof': ${e}`);if(typeof e.stibhash>"u")throw new Error(`Response is missing required field 'stibhash': ${e}`);if(typeof e.treedepth>"u")throw new Error(`Response is missing required field 'treedepth': ${e}`);return new fm({idx:e.idx,proof:e.proof,stibhash:e.stibhash,treedepth:e.treedepth,hashtype:e.hashtype})}}class hm extends Ee{constructor({build:e,genesisHashB64:n,genesisId:r,versions:i}){super(),this.build=e,this.genesisHashB64=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.genesisId=r,this.versions=i,this.attribute_map={build:"build",genesisHashB64:"genesis_hash_b64",genesisId:"genesis_id",versions:"versions"}}static from_obj_for_encoding(e){if(typeof e.build>"u")throw new Error(`Response is missing required field 'build': ${e}`);if(typeof e.genesis_hash_b64>"u")throw new Error(`Response is missing required field 'genesis_hash_b64': ${e}`);if(typeof e.genesis_id>"u")throw new Error(`Response is missing required field 'genesis_id': ${e}`);if(!Array.isArray(e.versions))throw new Error(`Response is missing required array field 'versions': ${e}`);return new hm({build:Nu.from_obj_for_encoding(e.build),genesisHashB64:e.genesis_hash_b64,genesisId:e.genesis_id,versions:e.versions})}}const l4=Object.freeze(Object.defineProperty({__proto__:null,Account:ex,AccountApplicationResponse:Yg,AccountAssetHolding:bu,AccountAssetResponse:Xg,AccountAssetsInformationResponse:Jg,AccountParticipation:nx,AccountStateDelta:Kg,AppCallLogs:Au,Application:Iu,ApplicationInitialStates:Cu,ApplicationKVStorage:ao,ApplicationLocalReference:_u,ApplicationLocalState:Hg,ApplicationParams:Eu,ApplicationStateOperation:Su,ApplicationStateSchema:ws,Asset:cx,AssetHolding:Ru,AssetHoldingReference:Fu,AssetParams:ku,AvmKeyValue:Bu,AvmValue:_s,BlockHashResponse:qg,BlockLogsResponse:Qg,BlockResponse:em,BlockTxidsResponse:tm,Box:hx,BoxDescriptor:gx,BoxReference:Tu,BoxesResponse:yx,BuildVersion:Nu,CompileResponse:nm,DisassembleResponse:rm,DryrunRequest:Lu,DryrunResponse:im,DryrunSource:Mu,DryrunState:Da,DryrunTxnResult:Wu,ErrorResponse:s4,EvalDelta:xx,EvalDeltaKeyValue:Zu,GetBlockTimeStampOffsetResponse:Ou,GetSyncRoundResponse:Du,KvDelta:sm,LedgerStateDeltaForTransactionGroup:Uu,LightBlockHeaderProof:o4,NodeStatusResponse:om,PendingTransactionResponse:Ua,PendingTransactionsResponse:am,PostTransactionsResponse:lm,ScratchChange:Pu,SimulateInitialStates:Gu,SimulateRequest:Eo,SimulateRequestTransactionGroup:So,SimulateResponse:Vu,SimulateTraceConfig:rl,SimulateTransactionGroupResult:ju,SimulateTransactionResult:$u,SimulateUnnamedResourcesAccessed:il,SimulationEvalOverrides:zu,SimulationOpcodeTraceUnit:lo,SimulationTransactionExecTrace:Pa,StateProof:a4,StateProofMessage:Yu,SupplyResponse:cm,TealKeyValue:um,TealValue:Uc,TransactionGroupLedgerStateDeltasForRoundResponse:Xu,TransactionParametersResponse:dm,TransactionProofResponse:fm,Version:hm},Symbol.toStringTag,{value:"Module"}));class ot{constructor(e,n){this.c=e,this.query={},this.intDecoding=n||vu.DEFAULT}prepare(e){return e}async do(e={}){const n={};this.intDecoding!=="default"&&(n.intDecoding=this.intDecoding);const r=await this.c.get(this.path(),this.query,e,n);return this.prepare(r.body)}async doRaw(e={}){return(await this.c.get(this.path(),this.query,e,{},!1)).body}setIntDecoding(e){if(e!=="default"&&e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Invalid method for int decoding: ${e}`);return this.intDecoding=e,this}}class c4 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}`}exclude(e){return this.query.exclude=e,this}}class u4 extends ot{constructor(e,n,r,i){super(e,n),this.account=r,this.assetID=i,this.account=r,this.assetID=i}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}}class d4 extends ot{constructor(e,n,r,i){super(e,n),this.account=r,this.applicationID=i,this.account=r,this.applicationID=i}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}}let f4=class extends ot{constructor(e,n){if(super(e),!Number.isInteger(n))throw Error("roundNumber should be an integer");this.round=n,this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}prepare(e){if(e&&e.byteLength>0)return wn(e)}};function Sx(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="text/plain"),e}class h4 extends ot{constructor(e,n){super(e),this.source=n,this.source=n}path(){return"/v2/teal/compile"}sourcemap(e=!0){return this.query.sourcemap=e,this}async do(e={}){const n=Sx(e);return(await this.c.post(this.path(),J.Buffer.from(this.source),n,this.query)).body}}class p4 extends ot{constructor(e,n){super(e),this.blob=kn(n.get_obj_for_encoding(!0))}path(){return"/v2/teal/dryrun"}async do(e={}){const n=Sx(e);return(await this.c.post(this.path(),J.Buffer.from(this.blob),n)).body}}class g4 extends ot{path(){return"/genesis"}}class m4 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}`}}class y4 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/applications/${this.index}`}}class w4 extends ot{constructor(e,n,r){if(super(e,n),!Number.isInteger(r))throw Error("roundNumber should be an integer");this.round=r}path(){return`/v2/blocks/${this.round}/hash`}}class v4 extends ot{constructor(e,n,r){if(super(e,n),!Number.isInteger(r))throw Error("roundNumber should be an integer");this.round=r}path(){return`/v2/blocks/${this.round}/txids`}}class x4 extends ot{constructor(e,n,r,i){super(e,n),this.index=r,this.index=r;const s=J.Buffer.from(i).toString("base64");this.query.name=encodeURI(`b64:${s}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return hx.from_obj_for_encoding(e)}}class b4 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r,this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(e){return this.query.max=e,this}prepare(e){return yx.from_obj_for_encoding(e)}}let A4=class extends ot{path(){return"/health"}async do(e={}){const n=await this.c.get(this.path(),{},e);if(!n.ok)throw new Error(`Health response: ${n.status}`);return{}}};class I4 extends ot{constructor(e,n){super(e),this.txid=n,this.txid=n,this.query.format="msgpack"}prepare(e){if(e&&e.byteLength>0)return wn(e)}path(){return`/v2/transactions/pending/${this.txid}`}max(e){return this.query.max=e,this}}class C4 extends ot{constructor(e){super(e),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(e){if(e&&e.byteLength>0)return wn(e)}max(e){return this.query.max=e,this}}class _4 extends ot{constructor(e,n){super(e),this.address=n,this.address=n,this.query.format="msgpack"}prepare(e){if(e&&e.byteLength>0)return wn(e)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(e){return this.query.max=e,this}}class E4 extends ot{constructor(e,n,r,i){super(e,n),this.round=r,this.txID=i,this.round=r,this.txID=i}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(e){return this.query.hashtype=e,this}}function S4(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="application/x-binary"),e}function u1(t){return t&&t.byteLength!==void 0}class R4 extends ot{constructor(e,n){super(e);let r=n;if(Array.isArray(n)){if(!n.every(u1))throw new TypeError("Array elements must be byte arrays");r=dn(...n)}else if(!u1(r))throw new TypeError("Argument must be byte array");this.txnBytesToPost=r}path(){return"/v2/transactions"}async do(e={}){const n=S4(e);return(await this.c.post(this.path(),J.Buffer.from(this.txnBytesToPost),n)).body}}class F4 extends ot{path(){return"/v2/status"}}class k4 extends ot{constructor(e,n,r){if(super(e,n),this.round=r,!Number.isInteger(r))throw Error("round should be an integer");this.round=r}path(){return`/v2/status/wait-for-block-after/${this.round}`}}class B4 extends ot{path(){return"/v2/transactions/params"}prepare(e){return{flatFee:!1,fee:e.fee,firstRound:e["last-round"],lastRound:e["last-round"]+1e3,genesisID:e["genesis-id"],genesisHash:e["genesis-hash"],minFee:e["min-fee"]}}}class T4 extends ot{path(){return"/v2/ledger/supply"}}class N4 extends ot{path(){return"/versions"}}class L4 extends ot{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/blocks/${this.round}/lightheader/proof`}}class M4 extends ot{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/stateproofs/${this.round}`}}class W4 extends ot{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/ledger/sync/${this.round}`}async do(e={}){return(await this.c.post(this.path(),e)).body}}class Z4 extends ot{path(){return"/v2/ledger/sync"}prepare(e){return Du.from_obj_for_encoding(e)}}class O4 extends ot{constructor(e,n,r){super(e,n),this.offset=r,this.offset=r}path(){return`/v2/devmode/blocks/offset/${this.offset}`}async do(e={}){return(await this.c.post(this.path(),e)).body}}class D4 extends ot{path(){return"/v2/devmode/blocks/offset"}prepare(e){return Ou.from_obj_for_encoding(e)}}function U4(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="text/plain"),e}class P4 extends ot{constructor(e,n){super(e),this.source=n,this.source=n}path(){return"/v2/teal/disassemble"}async do(e={}){const n=U4(e);return(await this.c.post(this.path(),J.Buffer.from(this.source),n,this.query)).body}}function G4(t={}){let e=t;return Object.keys(e).every(n=>n.toLowerCase()!=="content-type")&&(e={...t},e["Content-Type"]="application/msgpack"),e}class V4 extends ot{constructor(e,n){super(e),this.query.format="msgpack",this.requestBytes=Kv(n.get_obj_for_encoding(!0))}path(){return"/v2/transactions/simulate"}async do(e={}){const n=G4(e),r=await this.c.post(this.path(),J.Buffer.from(this.requestBytes),n,this.query,!1);return this.prepare(r.body)}prepare(e){const n=wn(e);return Vu.from_obj_for_encoding(n)}}class j4 extends ot{path(){return"/ready"}}class $4 extends ot{path(){return"/v2/ledger/sync"}async do(e={}){return(await this.c.delete(this.path(),e)).body}}class z4 extends ot{constructor(e,n,r){super(e,n),this.id=r,this.id=r,this.query={format:"json"}}path(){return`/v2/deltas/txn/group/${this.id}`}}class Y4 extends ot{constructor(e,n,r){super(e,n),this.round=r,this.round=r,this.query={format:"json"}}path(){return`/v2/deltas/${this.round}`}}class X4 extends ot{constructor(e,n,r){super(e,n),this.round=r,this.round=r,this.query={format:"json"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(e){return Xu.from_obj_for_encoding(e)}}class J4 extends zg{constructor(e,n,r,i={}){super("X-Algo-API-Token",e,n,r,i)}healthCheck(){return new A4(this.c)}versionsCheck(){return new N4(this.c)}sendRawTransaction(e){return new R4(this.c,e)}accountInformation(e){return new c4(this.c,this.intDecoding,e)}accountAssetInformation(e,n){return new u4(this.c,this.intDecoding,e,n)}accountApplicationInformation(e,n){return new d4(this.c,this.intDecoding,e,n)}block(e){return new f4(this.c,e)}getBlockHash(e){return new w4(this.c,this.intDecoding,e)}getBlockTxids(e){return new v4(this.c,this.intDecoding,e)}pendingTransactionInformation(e){return new I4(this.c,e)}pendingTransactionsInformation(){return new C4(this.c)}pendingTransactionByAddress(e){return new _4(this.c,e)}status(){return new F4(this.c,this.intDecoding)}statusAfterBlock(e){return new k4(this.c,this.intDecoding,e)}getTransactionParams(){return new B4(this.c)}supply(){return new T4(this.c,this.intDecoding)}compile(e){return new h4(this.c,e)}disassemble(e){return new P4(this.c,e)}dryrun(e){return new p4(this.c,e)}getAssetByID(e){return new m4(this.c,this.intDecoding,e)}getApplicationByID(e){return new y4(this.c,this.intDecoding,e)}getApplicationBoxByName(e,n){return new x4(this.c,this.intDecoding,e,n)}getApplicationBoxes(e){return new b4(this.c,this.intDecoding,e)}genesis(){return new g4(this.c,this.intDecoding)}getTransactionProof(e,n){return new E4(this.c,this.intDecoding,e,n)}getLightBlockHeaderProof(e){return new L4(this.c,this.intDecoding,e)}getStateProof(e){return new M4(this.c,this.intDecoding,e)}simulateRawTransactions(e){const n=[];if(Array.isArray(e))for(const i of e)n.push(wn(i));else n.push(wn(e));const r=new Eo({txnGroups:[new So({txns:n})]});return this.simulateTransactions(r)}simulateTransactions(e){return new V4(this.c,e)}setBlockOffsetTimestamp(e){return new O4(this.c,this.intDecoding,e)}getBlockOffsetTimestamp(){return new D4(this.c,this.intDecoding)}setSyncRound(e){return new W4(this.c,this.intDecoding,e)}unsetSyncRound(){return new $4(this.c,this.intDecoding)}getSyncRound(){return new Z4(this.c,this.intDecoding)}ready(){return new j4(this.c,this.intDecoding)}getLedgerStateDeltaForTransactionGroup(e){return new z4(this.c,this.intDecoding,e)}getLedgerStateDelta(e){return new Y4(this.c,this.intDecoding,e)}getTransactionGroupLedgerStateDeltasForRound(e){return new X4(this.c,this.intDecoding,e)}}let K4=class extends zg{constructor(e,n="http://127.0.0.1",r=7833,i={}){super("X-KMD-API-Token",e,n,r,i)}async versions(){return(await this.c.get("/versions")).body}async listWallets(){return(await this.c.get("/v1/wallets")).body}async createWallet(e,n,r=new Uint8Array,i="sqlite"){const s={wallet_name:e,wallet_driver_name:i,wallet_password:n,master_derivation_key:J.Buffer.from(r).toString("base64")};return(await this.c.post("/v1/wallet",s)).body}async initWalletHandle(e,n){const r={wallet_id:e,wallet_password:n};return(await this.c.post("/v1/wallet/init",r)).body}async releaseWalletHandle(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/wallet/release",n)).body}async renewWalletHandle(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/wallet/renew",n)).body}async renameWallet(e,n,r){const i={wallet_id:e,wallet_password:n,wallet_name:r};return(await this.c.post("/v1/wallet/rename",i)).body}async getWallet(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/wallet/info",n)).body}async exportMasterDerivationKey(e,n){const r={wallet_handle_token:e,wallet_password:n},i=await this.c.post("/v1/master-key/export",r);return{master_derivation_key:J.Buffer.from(i.body.master_derivation_key,"base64")}}async importKey(e,n){const r={wallet_handle_token:e,private_key:J.Buffer.from(n).toString("base64")};return(await this.c.post("/v1/key/import",r)).body}async exportKey(e,n,r){const i={wallet_handle_token:e,address:r,wallet_password:n},s=await this.c.post("/v1/key/export",i);return{private_key:J.Buffer.from(s.body.private_key,"base64")}}async generateKey(e){const n={wallet_handle_token:e,display_mnemonic:!1};return(await this.c.post("/v1/key",n)).body}async deleteKey(e,n,r){const i={wallet_handle_token:e,address:r,wallet_password:n};return(await this.c.delete("/v1/key",i)).body}async listKeys(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/key/list",n)).body}async signTransaction(e,n,r){const i=Wi(r),s={wallet_handle_token:e,wallet_password:n,transaction:J.Buffer.from(i.toByte()).toString("base64")},o=await this.c.post("/v1/transaction/sign",s);return o.status===200?J.Buffer.from(o.body.signed_transaction,"base64"):o.body}async signTransactionWithSpecificPublicKey(e,n,r,i){const s=Wi(r),o={wallet_handle_token:e,wallet_password:n,transaction:J.Buffer.from(s.toByte()).toString("base64"),public_key:J.Buffer.from(i).toString("base64")},a=await this.c.post("/v1/transaction/sign",o);return a.status===200?J.Buffer.from(a.body.signed_transaction,"base64"):a.body}async listMultisig(e){const n={wallet_handle_token:e};return(await this.c.post("/v1/multisig/list",n)).body}async importMultisig(e,n,r,i){const s={wallet_handle_token:e,multisig_version:n,threshold:r,pks:i};return(await this.c.post("/v1/multisig/import",s)).body}async exportMultisig(e,n){const r={wallet_handle_token:e,address:n};return(await this.c.post("/v1/multisig/export",r)).body}async signMultisigTransaction(e,n,r,i,s){const o=Wi(r),a={wallet_handle_token:e,transaction:J.Buffer.from(o.toByte()).toString("base64"),public_key:J.Buffer.from(i).toString("base64"),partial_multisig:s,wallet_password:n};return(await this.c.post("/v1/multisig/sign",a)).body}async deleteMultisig(e,n,r){const i={wallet_handle_token:e,address:r,wallet_password:n};return(await this.c.delete("/v1/multisig",i)).body}};class H4 extends ot{path(){return"/health"}}class q4 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}/balances`}limit(e){return this.query.limit=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}}function pm(t){return typeof t=="string"?t:J.Buffer.from(t).toString("base64")}class Q4 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(e){return this.query["note-prefix"]=pm(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e,this}afterTime(e){return this.query["after-time"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}}class e8 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(e){return this.query["note-prefix"]=pm(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e,this}afterTime(e){return this.query["after-time"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e,this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}}class t8 extends ot{constructor(e,n,r){super(e,n),this.round=r,this.round=r}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}}class n8 extends ot{constructor(e,n,r){super(e,n),this.txID=r,this.txID=r}path(){return`/v2/transactions/${this.txID}`}}class r8 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}`}round(e){return this.query.round=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}}class i8 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetId(e){return this.query["asset-id"]=e,this}}class s8 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/created-assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetID(e){return this.query["asset-id"]=e,this}}class o8 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}}class a8 extends ot{constructor(e,n,r){super(e,n),this.account=r,this.account=r}path(){return`/v2/accounts/${this.account}/created-applications`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}}class l8 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/assets/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}}class c8 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/applications/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}}class u8 extends ot{constructor(e,n,r){super(e,n),this.appID=r,this.appID=r}path(){return`/v2/applications/${this.appID}/logs`}limit(e){return this.query.limit=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}nextToken(e){return this.query.next=e,this}sender(e){return this.query["sender-address"]=e,this}txid(e){return this.query.txid=e,this}}class sl extends Ee{constructor({address:e,amount:n,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:s,rewards:o,round:a,status:l,totalAppsOptedIn:c,totalAssetsOptedIn:f,totalBoxBytes:h,totalBoxes:v,totalCreatedApps:I,totalCreatedAssets:S,appsLocalState:M,appsTotalExtraPages:F,appsTotalSchema:E,assets:m,authAddr:x,closedAtRound:G,createdApps:Z,createdAssets:C,createdAtRound:D,deleted:V,incentiveEligible:Q,lastHeartbeat:$,lastProposed:Ae,participation:fe,rewardBase:be,sigType:Le}){super(),this.address=e,this.amount=n,this.amountWithoutPendingRewards=r,this.minBalance=i,this.pendingRewards=s,this.rewards=o,this.round=a,this.status=l,this.totalAppsOptedIn=c,this.totalAssetsOptedIn=f,this.totalBoxBytes=h,this.totalBoxes=v,this.totalCreatedApps=I,this.totalCreatedAssets=S,this.appsLocalState=M,this.appsTotalExtraPages=F,this.appsTotalSchema=E,this.assets=m,this.authAddr=x,this.closedAtRound=G,this.createdApps=Z,this.createdAssets=C,this.createdAtRound=D,this.deleted=V,this.incentiveEligible=Q,this.lastHeartbeat=$,this.lastProposed=Ae,this.participation=fe,this.rewardBase=be,this.sigType=Le,this.attribute_map={address:"address",amount:"amount",amountWithoutPendingRewards:"amount-without-pending-rewards",minBalance:"min-balance",pendingRewards:"pending-rewards",rewards:"rewards",round:"round",status:"status",totalAppsOptedIn:"total-apps-opted-in",totalAssetsOptedIn:"total-assets-opted-in",totalBoxBytes:"total-box-bytes",totalBoxes:"total-boxes",totalCreatedApps:"total-created-apps",totalCreatedAssets:"total-created-assets",appsLocalState:"apps-local-state",appsTotalExtraPages:"apps-total-extra-pages",appsTotalSchema:"apps-total-schema",assets:"assets",authAddr:"auth-addr",closedAtRound:"closed-at-round",createdApps:"created-apps",createdAssets:"created-assets",createdAtRound:"created-at-round",deleted:"deleted",incentiveEligible:"incentive-eligible",lastHeartbeat:"last-heartbeat",lastProposed:"last-proposed",participation:"participation",rewardBase:"reward-base",sigType:"sig-type"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["amount-without-pending-rewards"]>"u")throw new Error(`Response is missing required field 'amount-without-pending-rewards': ${e}`);if(typeof e["min-balance"]>"u")throw new Error(`Response is missing required field 'min-balance': ${e}`);if(typeof e["pending-rewards"]>"u")throw new Error(`Response is missing required field 'pending-rewards': ${e}`);if(typeof e.rewards>"u")throw new Error(`Response is missing required field 'rewards': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.status>"u")throw new Error(`Response is missing required field 'status': ${e}`);if(typeof e["total-apps-opted-in"]>"u")throw new Error(`Response is missing required field 'total-apps-opted-in': ${e}`);if(typeof e["total-assets-opted-in"]>"u")throw new Error(`Response is missing required field 'total-assets-opted-in': ${e}`);if(typeof e["total-box-bytes"]>"u")throw new Error(`Response is missing required field 'total-box-bytes': ${e}`);if(typeof e["total-boxes"]>"u")throw new Error(`Response is missing required field 'total-boxes': ${e}`);if(typeof e["total-created-apps"]>"u")throw new Error(`Response is missing required field 'total-created-apps': ${e}`);if(typeof e["total-created-assets"]>"u")throw new Error(`Response is missing required field 'total-created-assets': ${e}`);return new sl({address:e.address,amount:e.amount,amountWithoutPendingRewards:e["amount-without-pending-rewards"],minBalance:e["min-balance"],pendingRewards:e["pending-rewards"],rewards:e.rewards,round:e.round,status:e.status,totalAppsOptedIn:e["total-apps-opted-in"],totalAssetsOptedIn:e["total-assets-opted-in"],totalBoxBytes:e["total-box-bytes"],totalBoxes:e["total-boxes"],totalCreatedApps:e["total-created-apps"],totalCreatedAssets:e["total-created-assets"],appsLocalState:typeof e["apps-local-state"]<"u"?e["apps-local-state"].map(ol.from_obj_for_encoding):void 0,appsTotalExtraPages:e["apps-total-extra-pages"],appsTotalSchema:typeof e["apps-total-schema"]<"u"?vs.from_obj_for_encoding(e["apps-total-schema"]):void 0,assets:typeof e.assets<"u"?e.assets.map(al.from_obj_for_encoding):void 0,authAddr:e["auth-addr"],closedAtRound:e["closed-at-round"],createdApps:typeof e["created-apps"]<"u"?e["created-apps"].map(Ro.from_obj_for_encoding):void 0,createdAssets:typeof e["created-assets"]<"u"?e["created-assets"].map(Fo.from_obj_for_encoding):void 0,createdAtRound:e["created-at-round"],deleted:e.deleted,incentiveEligible:e["incentive-eligible"],lastHeartbeat:e["last-heartbeat"],lastProposed:e["last-proposed"],participation:typeof e.participation<"u"?Ju.from_obj_for_encoding(e.participation):void 0,rewardBase:e["reward-base"],sigType:e["sig-type"]})}}class Ju extends Ee{constructor({selectionParticipationKey:e,voteFirstValid:n,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:s,stateProofKey:o}){super(),this.selectionParticipationKey=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.voteFirstValid=n,this.voteKeyDilution=r,this.voteLastValid=i,this.voteParticipationKey=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.stateProofKey=typeof o=="string"?new Uint8Array(J.Buffer.from(o,"base64")):o,this.attribute_map={selectionParticipationKey:"selection-participation-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key",stateProofKey:"state-proof-key"}}static from_obj_for_encoding(e){if(typeof e["selection-participation-key"]>"u")throw new Error(`Response is missing required field 'selection-participation-key': ${e}`);if(typeof e["vote-first-valid"]>"u")throw new Error(`Response is missing required field 'vote-first-valid': ${e}`);if(typeof e["vote-key-dilution"]>"u")throw new Error(`Response is missing required field 'vote-key-dilution': ${e}`);if(typeof e["vote-last-valid"]>"u")throw new Error(`Response is missing required field 'vote-last-valid': ${e}`);if(typeof e["vote-participation-key"]>"u")throw new Error(`Response is missing required field 'vote-participation-key': ${e}`);return new Ju({selectionParticipationKey:e["selection-participation-key"],voteFirstValid:e["vote-first-valid"],voteKeyDilution:e["vote-key-dilution"],voteLastValid:e["vote-last-valid"],voteParticipationKey:e["vote-participation-key"],stateProofKey:e["state-proof-key"]})}}class gm extends Ee{constructor({account:e,currentRound:n}){super(),this.account=e,this.currentRound=n,this.attribute_map={account:"account",currentRound:"current-round"}}static from_obj_for_encoding(e){if(typeof e.account>"u")throw new Error(`Response is missing required field 'account': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new gm({account:sl.from_obj_for_encoding(e.account),currentRound:e["current-round"]})}}class Ku extends Ee{constructor({address:e,delta:n}){super(),this.address=e,this.delta=n,this.attribute_map={address:"address",delta:"delta"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(!Array.isArray(e.delta))throw new Error(`Response is missing required array field 'delta': ${e}`);return new Ku({address:e.address,delta:e.delta.map(cl.from_obj_for_encoding)})}}class mm extends Ee{constructor({accounts:e,currentRound:n,nextToken:r}){super(),this.accounts=e,this.currentRound=n,this.nextToken=r,this.attribute_map={accounts:"accounts",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.accounts))throw new Error(`Response is missing required array field 'accounts': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new mm({accounts:e.accounts.map(sl.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Ro extends Ee{constructor({id:e,params:n,createdAtRound:r,deleted:i,deletedAtRound:s}){super(),this.id=e,this.params=n,this.createdAtRound=r,this.deleted=i,this.deletedAtRound=s,this.attribute_map={id:"id",params:"params",createdAtRound:"created-at-round",deleted:"deleted",deletedAtRound:"deleted-at-round"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new Ro({id:e.id,params:qu.from_obj_for_encoding(e.params),createdAtRound:e["created-at-round"],deleted:e.deleted,deletedAtRound:e["deleted-at-round"]})}}class ol extends Ee{constructor({id:e,schema:n,closedOutAtRound:r,deleted:i,keyValue:s,optedInAtRound:o}){super(),this.id=e,this.schema=n,this.closedOutAtRound=r,this.deleted=i,this.keyValue=s,this.optedInAtRound=o,this.attribute_map={id:"id",schema:"schema",closedOutAtRound:"closed-out-at-round",deleted:"deleted",keyValue:"key-value",optedInAtRound:"opted-in-at-round"}}static from_obj_for_encoding(e){if(typeof e.id>"u")throw new Error(`Response is missing required field 'id': ${e}`);if(typeof e.schema>"u")throw new Error(`Response is missing required field 'schema': ${e}`);return new ol({id:e.id,schema:vs.from_obj_for_encoding(e.schema),closedOutAtRound:e["closed-out-at-round"],deleted:e.deleted,keyValue:typeof e["key-value"]<"u"?e["key-value"].map(ul.from_obj_for_encoding):void 0,optedInAtRound:e["opted-in-at-round"]})}}class ym extends Ee{constructor({appsLocalStates:e,currentRound:n,nextToken:r}){super(),this.appsLocalStates=e,this.currentRound=n,this.nextToken=r,this.attribute_map={appsLocalStates:"apps-local-states",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e["apps-local-states"]))throw new Error(`Response is missing required array field 'apps-local-states': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new ym({appsLocalStates:e["apps-local-states"].map(ol.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Hu extends Ee{constructor({logs:e,txid:n}){super(),this.logs=e,this.txid=n,this.attribute_map={logs:"logs",txid:"txid"}}static from_obj_for_encoding(e){if(!Array.isArray(e.logs))throw new Error(`Response is missing required array field 'logs': ${e}`);if(typeof e.txid>"u")throw new Error(`Response is missing required field 'txid': ${e}`);return new Hu({logs:e.logs,txid:e.txid})}}class wm extends Ee{constructor({applicationId:e,currentRound:n,logData:r,nextToken:i}){super(),this.applicationId=e,this.currentRound=n,this.logData=r,this.nextToken=i,this.attribute_map={applicationId:"application-id",currentRound:"current-round",logData:"log-data",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e["application-id"]>"u")throw new Error(`Response is missing required field 'application-id': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new wm({applicationId:e["application-id"],currentRound:e["current-round"],logData:typeof e["log-data"]<"u"?e["log-data"].map(Hu.from_obj_for_encoding):void 0,nextToken:e["next-token"]})}}class qu extends Ee{constructor({approvalProgram:e,clearStateProgram:n,creator:r,extraProgramPages:i,globalState:s,globalStateSchema:o,localStateSchema:a}){super(),this.approvalProgram=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.clearStateProgram=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.creator=r,this.extraProgramPages=i,this.globalState=s,this.globalStateSchema=o,this.localStateSchema=a,this.attribute_map={approvalProgram:"approval-program",clearStateProgram:"clear-state-program",creator:"creator",extraProgramPages:"extra-program-pages",globalState:"global-state",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema"}}static from_obj_for_encoding(e){if(typeof e["approval-program"]>"u")throw new Error(`Response is missing required field 'approval-program': ${e}`);if(typeof e["clear-state-program"]>"u")throw new Error(`Response is missing required field 'clear-state-program': ${e}`);return new qu({approvalProgram:e["approval-program"],clearStateProgram:e["clear-state-program"],creator:e.creator,extraProgramPages:e["extra-program-pages"],globalState:typeof e["global-state"]<"u"?e["global-state"].map(ul.from_obj_for_encoding):void 0,globalStateSchema:typeof e["global-state-schema"]<"u"?vs.from_obj_for_encoding(e["global-state-schema"]):void 0,localStateSchema:typeof e["local-state-schema"]<"u"?vs.from_obj_for_encoding(e["local-state-schema"]):void 0})}}class vm extends Ee{constructor({currentRound:e,application:n}){super(),this.currentRound=e,this.application=n,this.attribute_map={currentRound:"current-round",application:"application"}}static from_obj_for_encoding(e){if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new vm({currentRound:e["current-round"],application:typeof e.application<"u"?Ro.from_obj_for_encoding(e.application):void 0})}}class vs extends Ee{constructor({numByteSlice:e,numUint:n}){super(),this.numByteSlice=e,this.numUint=n,this.attribute_map={numByteSlice:"num-byte-slice",numUint:"num-uint"}}static from_obj_for_encoding(e){if(typeof e["num-byte-slice"]>"u")throw new Error(`Response is missing required field 'num-byte-slice': ${e}`);if(typeof e["num-uint"]>"u")throw new Error(`Response is missing required field 'num-uint': ${e}`);return new vs({numByteSlice:e["num-byte-slice"],numUint:e["num-uint"]})}}class xm extends Ee{constructor({applications:e,currentRound:n,nextToken:r}){super(),this.applications=e,this.currentRound=n,this.nextToken=r,this.attribute_map={applications:"applications",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.applications))throw new Error(`Response is missing required array field 'applications': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new xm({applications:e.applications.map(Ro.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class Fo extends Ee{constructor({index:e,params:n,createdAtRound:r,deleted:i,destroyedAtRound:s}){super(),this.index=e,this.params=n,this.createdAtRound=r,this.deleted=i,this.destroyedAtRound=s,this.attribute_map={index:"index",params:"params",createdAtRound:"created-at-round",deleted:"deleted",destroyedAtRound:"destroyed-at-round"}}static from_obj_for_encoding(e){if(typeof e.index>"u")throw new Error(`Response is missing required field 'index': ${e}`);if(typeof e.params>"u")throw new Error(`Response is missing required field 'params': ${e}`);return new Fo({index:e.index,params:ll.from_obj_for_encoding(e.params),createdAtRound:e["created-at-round"],deleted:e.deleted,destroyedAtRound:e["destroyed-at-round"]})}}class bm extends Ee{constructor({balances:e,currentRound:n,nextToken:r}){super(),this.balances=e,this.currentRound=n,this.nextToken=r,this.attribute_map={balances:"balances",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.balances))throw new Error(`Response is missing required array field 'balances': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new bm({balances:e.balances.map(ld.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class al extends Ee{constructor({amount:e,assetId:n,isFrozen:r,deleted:i,optedInAtRound:s,optedOutAtRound:o}){super(),this.amount=e,this.assetId=n,this.isFrozen=r,this.deleted=i,this.optedInAtRound=s,this.optedOutAtRound=o,this.attribute_map={amount:"amount",assetId:"asset-id",isFrozen:"is-frozen",deleted:"deleted",optedInAtRound:"opted-in-at-round",optedOutAtRound:"opted-out-at-round"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e["is-frozen"]>"u")throw new Error(`Response is missing required field 'is-frozen': ${e}`);return new al({amount:e.amount,assetId:e["asset-id"],isFrozen:e["is-frozen"],deleted:e.deleted,optedInAtRound:e["opted-in-at-round"],optedOutAtRound:e["opted-out-at-round"]})}}class Am extends Ee{constructor({assets:e,currentRound:n,nextToken:r}){super(),this.assets=e,this.currentRound=n,this.nextToken=r,this.attribute_map={assets:"assets",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.assets))throw new Error(`Response is missing required array field 'assets': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new Am({assets:e.assets.map(al.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class ll extends Ee{constructor({creator:e,decimals:n,total:r,clawback:i,defaultFrozen:s,freeze:o,manager:a,metadataHash:l,name:c,nameB64:f,reserve:h,unitName:v,unitNameB64:I,url:S,urlB64:M}){super(),this.creator=e,this.decimals=n,this.total=r,this.clawback=i,this.defaultFrozen=s,this.freeze=o,this.manager=a,this.metadataHash=typeof l=="string"?new Uint8Array(J.Buffer.from(l,"base64")):l,this.name=c,this.nameB64=typeof f=="string"?new Uint8Array(J.Buffer.from(f,"base64")):f,this.reserve=h,this.unitName=v,this.unitNameB64=typeof I=="string"?new Uint8Array(J.Buffer.from(I,"base64")):I,this.url=S,this.urlB64=typeof M=="string"?new Uint8Array(J.Buffer.from(M,"base64")):M,this.attribute_map={creator:"creator",decimals:"decimals",total:"total",clawback:"clawback",defaultFrozen:"default-frozen",freeze:"freeze",manager:"manager",metadataHash:"metadata-hash",name:"name",nameB64:"name-b64",reserve:"reserve",unitName:"unit-name",unitNameB64:"unit-name-b64",url:"url",urlB64:"url-b64"}}static from_obj_for_encoding(e){if(typeof e.creator>"u")throw new Error(`Response is missing required field 'creator': ${e}`);if(typeof e.decimals>"u")throw new Error(`Response is missing required field 'decimals': ${e}`);if(typeof e.total>"u")throw new Error(`Response is missing required field 'total': ${e}`);return new ll({creator:e.creator,decimals:e.decimals,total:e.total,clawback:e.clawback,defaultFrozen:e["default-frozen"],freeze:e.freeze,manager:e.manager,metadataHash:e["metadata-hash"],name:e.name,nameB64:e["name-b64"],reserve:e.reserve,unitName:e["unit-name"],unitNameB64:e["unit-name-b64"],url:e.url,urlB64:e["url-b64"]})}}class Im extends Ee{constructor({asset:e,currentRound:n}){super(),this.asset=e,this.currentRound=n,this.attribute_map={asset:"asset",currentRound:"current-round"}}static from_obj_for_encoding(e){if(typeof e.asset>"u")throw new Error(`Response is missing required field 'asset': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new Im({asset:Fo.from_obj_for_encoding(e.asset),currentRound:e["current-round"]})}}class Cm extends Ee{constructor({assets:e,currentRound:n,nextToken:r}){super(),this.assets=e,this.currentRound=n,this.nextToken=r,this.attribute_map={assets:"assets",currentRound:"current-round",nextToken:"next-token"}}static from_obj_for_encoding(e){if(!Array.isArray(e.assets))throw new Error(`Response is missing required array field 'assets': ${e}`);if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);return new Cm({assets:e.assets.map(Fo.from_obj_for_encoding),currentRound:e["current-round"],nextToken:e["next-token"]})}}class _m extends Ee{constructor({genesisHash:e,genesisId:n,previousBlockHash:r,round:i,seed:s,timestamp:o,transactionsRoot:a,transactionsRootSha256:l,bonus:c,feesCollected:f,participationUpdates:h,proposer:v,proposerPayout:I,rewards:S,stateProofTracking:M,transactions:F,txnCounter:E,upgradeState:m,upgradeVote:x}){super(),this.genesisHash=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.genesisId=n,this.previousBlockHash=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.round=i,this.seed=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.timestamp=o,this.transactionsRoot=typeof a=="string"?new Uint8Array(J.Buffer.from(a,"base64")):a,this.transactionsRootSha256=typeof l=="string"?new Uint8Array(J.Buffer.from(l,"base64")):l,this.bonus=c,this.feesCollected=f,this.participationUpdates=h,this.proposer=v,this.proposerPayout=I,this.rewards=S,this.stateProofTracking=M,this.transactions=F,this.txnCounter=E,this.upgradeState=m,this.upgradeVote=x,this.attribute_map={genesisHash:"genesis-hash",genesisId:"genesis-id",previousBlockHash:"previous-block-hash",round:"round",seed:"seed",timestamp:"timestamp",transactionsRoot:"transactions-root",transactionsRootSha256:"transactions-root-sha256",bonus:"bonus",feesCollected:"fees-collected",participationUpdates:"participation-updates",proposer:"proposer",proposerPayout:"proposer-payout",rewards:"rewards",stateProofTracking:"state-proof-tracking",transactions:"transactions",txnCounter:"txn-counter",upgradeState:"upgrade-state",upgradeVote:"upgrade-vote"}}static from_obj_for_encoding(e){if(typeof e["genesis-hash"]>"u")throw new Error(`Response is missing required field 'genesis-hash': ${e}`);if(typeof e["genesis-id"]>"u")throw new Error(`Response is missing required field 'genesis-id': ${e}`);if(typeof e["previous-block-hash"]>"u")throw new Error(`Response is missing required field 'previous-block-hash': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.seed>"u")throw new Error(`Response is missing required field 'seed': ${e}`);if(typeof e.timestamp>"u")throw new Error(`Response is missing required field 'timestamp': ${e}`);if(typeof e["transactions-root"]>"u")throw new Error(`Response is missing required field 'transactions-root': ${e}`);if(typeof e["transactions-root-sha256"]>"u")throw new Error(`Response is missing required field 'transactions-root-sha256': ${e}`);return new _m({genesisHash:e["genesis-hash"],genesisId:e["genesis-id"],previousBlockHash:e["previous-block-hash"],round:e.round,seed:e.seed,timestamp:e.timestamp,transactionsRoot:e["transactions-root"],transactionsRootSha256:e["transactions-root-sha256"],bonus:e.bonus,feesCollected:e["fees-collected"],participationUpdates:typeof e["participation-updates"]<"u"?cd.from_obj_for_encoding(e["participation-updates"]):void 0,proposer:e.proposer,proposerPayout:e["proposer-payout"],rewards:typeof e.rewards<"u"?Qu.from_obj_for_encoding(e.rewards):void 0,stateProofTracking:typeof e["state-proof-tracking"]<"u"?e["state-proof-tracking"].map(gd.from_obj_for_encoding):void 0,transactions:typeof e.transactions<"u"?e.transactions.map(xs.from_obj_for_encoding):void 0,txnCounter:e["txn-counter"],upgradeState:typeof e["upgrade-state"]<"u"?ed.from_obj_for_encoding(e["upgrade-state"]):void 0,upgradeVote:typeof e["upgrade-vote"]<"u"?td.from_obj_for_encoding(e["upgrade-vote"]):void 0})}}class Qu extends Ee{constructor({feeSink:e,rewardsCalculationRound:n,rewardsLevel:r,rewardsPool:i,rewardsRate:s,rewardsResidue:o}){super(),this.feeSink=e,this.rewardsCalculationRound=n,this.rewardsLevel=r,this.rewardsPool=i,this.rewardsRate=s,this.rewardsResidue=o,this.attribute_map={feeSink:"fee-sink",rewardsCalculationRound:"rewards-calculation-round",rewardsLevel:"rewards-level",rewardsPool:"rewards-pool",rewardsRate:"rewards-rate",rewardsResidue:"rewards-residue"}}static from_obj_for_encoding(e){if(typeof e["fee-sink"]>"u")throw new Error(`Response is missing required field 'fee-sink': ${e}`);if(typeof e["rewards-calculation-round"]>"u")throw new Error(`Response is missing required field 'rewards-calculation-round': ${e}`);if(typeof e["rewards-level"]>"u")throw new Error(`Response is missing required field 'rewards-level': ${e}`);if(typeof e["rewards-pool"]>"u")throw new Error(`Response is missing required field 'rewards-pool': ${e}`);if(typeof e["rewards-rate"]>"u")throw new Error(`Response is missing required field 'rewards-rate': ${e}`);if(typeof e["rewards-residue"]>"u")throw new Error(`Response is missing required field 'rewards-residue': ${e}`);return new Qu({feeSink:e["fee-sink"],rewardsCalculationRound:e["rewards-calculation-round"],rewardsLevel:e["rewards-level"],rewardsPool:e["rewards-pool"],rewardsRate:e["rewards-rate"],rewardsResidue:e["rewards-residue"]})}}class ed extends Ee{constructor({currentProtocol:e,nextProtocol:n,nextProtocolApprovals:r,nextProtocolSwitchOn:i,nextProtocolVoteBefore:s}){super(),this.currentProtocol=e,this.nextProtocol=n,this.nextProtocolApprovals=r,this.nextProtocolSwitchOn=i,this.nextProtocolVoteBefore=s,this.attribute_map={currentProtocol:"current-protocol",nextProtocol:"next-protocol",nextProtocolApprovals:"next-protocol-approvals",nextProtocolSwitchOn:"next-protocol-switch-on",nextProtocolVoteBefore:"next-protocol-vote-before"}}static from_obj_for_encoding(e){if(typeof e["current-protocol"]>"u")throw new Error(`Response is missing required field 'current-protocol': ${e}`);return new ed({currentProtocol:e["current-protocol"],nextProtocol:e["next-protocol"],nextProtocolApprovals:e["next-protocol-approvals"],nextProtocolSwitchOn:e["next-protocol-switch-on"],nextProtocolVoteBefore:e["next-protocol-vote-before"]})}}class td extends Ee{constructor({upgradeApprove:e,upgradeDelay:n,upgradePropose:r}){super(),this.upgradeApprove=e,this.upgradeDelay=n,this.upgradePropose=r,this.attribute_map={upgradeApprove:"upgrade-approve",upgradeDelay:"upgrade-delay",upgradePropose:"upgrade-propose"}}static from_obj_for_encoding(e){return new td({upgradeApprove:e["upgrade-approve"],upgradeDelay:e["upgrade-delay"],upgradePropose:e["upgrade-propose"]})}}class nd extends Ee{constructor({name:e,round:n,value:r}){super(),this.name=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.round=n,this.value=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.attribute_map={name:"name",round:"round",value:"value"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new nd({name:e.name,round:e.round,value:e.value})}}class rd extends Ee{constructor({name:e}){super(),this.name=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.attribute_map={name:"name"}}static from_obj_for_encoding(e){if(typeof e.name>"u")throw new Error(`Response is missing required field 'name': ${e}`);return new rd({name:e.name})}}class id extends Ee{constructor({applicationId:e,boxes:n,nextToken:r}){super(),this.applicationId=e,this.boxes=n,this.nextToken=r,this.attribute_map={applicationId:"application-id",boxes:"boxes",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e["application-id"]>"u")throw new Error(`Response is missing required field 'application-id': ${e}`);if(!Array.isArray(e.boxes))throw new Error(`Response is missing required array field 'boxes': ${e}`);return new id({applicationId:e["application-id"],boxes:e.boxes.map(rd.from_obj_for_encoding),nextToken:e["next-token"]})}}class Em extends Ee{constructor({message:e,data:n}){super(),this.message=e,this.data=n,this.attribute_map={message:"message",data:"data"}}static from_obj_for_encoding(e){if(typeof e.message>"u")throw new Error(`Response is missing required field 'message': ${e}`);return new Em({message:e.message,data:e.data})}}class sd extends Ee{constructor({action:e,bytes:n,uint:r}){super(),this.action=e,this.bytes=n,this.uint=r,this.attribute_map={action:"action",bytes:"bytes",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.action>"u")throw new Error(`Response is missing required field 'action': ${e}`);return new sd({action:e.action,bytes:e.bytes,uint:e.uint})}}class cl extends Ee{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new cl({key:e.key,value:sd.from_obj_for_encoding(e.value)})}}class od extends Ee{constructor({hashType:e}){super(),this.hashType=e,this.attribute_map={hashType:"hash-type"}}static from_obj_for_encoding(e){return new od({hashType:e["hash-type"]})}}class Sm extends Ee{constructor({dbAvailable:e,isMigrating:n,message:r,round:i,version:s,data:o,errors:a}){super(),this.dbAvailable=e,this.isMigrating=n,this.message=r,this.round=i,this.version=s,this.data=o,this.errors=a,this.attribute_map={dbAvailable:"db-available",isMigrating:"is-migrating",message:"message",round:"round",version:"version",data:"data",errors:"errors"}}static from_obj_for_encoding(e){if(typeof e["db-available"]>"u")throw new Error(`Response is missing required field 'db-available': ${e}`);if(typeof e["is-migrating"]>"u")throw new Error(`Response is missing required field 'is-migrating': ${e}`);if(typeof e.message>"u")throw new Error(`Response is missing required field 'message': ${e}`);if(typeof e.round>"u")throw new Error(`Response is missing required field 'round': ${e}`);if(typeof e.version>"u")throw new Error(`Response is missing required field 'version': ${e}`);return new Sm({dbAvailable:e["db-available"],isMigrating:e["is-migrating"],message:e.message,round:e.round,version:e.version,data:e.data,errors:e.errors})}}class ad extends Ee{constructor({blockHeadersCommitment:e,firstAttestedRound:n,latestAttestedRound:r,lnProvenWeight:i,votersCommitment:s}){super(),this.blockHeadersCommitment=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.firstAttestedRound=n,this.latestAttestedRound=r,this.lnProvenWeight=i,this.votersCommitment=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.attribute_map={blockHeadersCommitment:"block-headers-commitment",firstAttestedRound:"first-attested-round",latestAttestedRound:"latest-attested-round",lnProvenWeight:"ln-proven-weight",votersCommitment:"voters-commitment"}}static from_obj_for_encoding(e){return new ad({blockHeadersCommitment:e["block-headers-commitment"],firstAttestedRound:e["first-attested-round"],latestAttestedRound:e["latest-attested-round"],lnProvenWeight:e["ln-proven-weight"],votersCommitment:e["voters-commitment"]})}}class vo extends Ee{constructor({hashFactory:e,path:n,treeDepth:r}){super(),this.hashFactory=e,this.path=n,this.treeDepth=r,this.attribute_map={hashFactory:"hash-factory",path:"path",treeDepth:"tree-depth"}}static from_obj_for_encoding(e){return new vo({hashFactory:typeof e["hash-factory"]<"u"?od.from_obj_for_encoding(e["hash-factory"]):void 0,path:e.path,treeDepth:e["tree-depth"]})}}class ld extends Ee{constructor({address:e,amount:n,isFrozen:r,deleted:i,optedInAtRound:s,optedOutAtRound:o}){super(),this.address=e,this.amount=n,this.isFrozen=r,this.deleted=i,this.optedInAtRound=s,this.optedOutAtRound=o,this.attribute_map={address:"address",amount:"amount",isFrozen:"is-frozen",deleted:"deleted",optedInAtRound:"opted-in-at-round",optedOutAtRound:"opted-out-at-round"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["is-frozen"]>"u")throw new Error(`Response is missing required field 'is-frozen': ${e}`);return new ld({address:e.address,amount:e.amount,isFrozen:e["is-frozen"],deleted:e.deleted,optedInAtRound:e["opted-in-at-round"],optedOutAtRound:e["opted-out-at-round"]})}}class cd extends Ee{constructor({absentParticipationAccounts:e,expiredParticipationAccounts:n}){super(),this.absentParticipationAccounts=e,this.expiredParticipationAccounts=n,this.attribute_map={absentParticipationAccounts:"absent-participation-accounts",expiredParticipationAccounts:"expired-participation-accounts"}}static from_obj_for_encoding(e){return new cd({absentParticipationAccounts:e["absent-participation-accounts"],expiredParticipationAccounts:e["expired-participation-accounts"]})}}class ud extends Ee{constructor({partProofs:e,positionsToReveal:n,reveals:r,saltVersion:i,sigCommit:s,sigProofs:o,signedWeight:a}){super(),this.partProofs=e,this.positionsToReveal=n,this.reveals=r,this.saltVersion=i,this.sigCommit=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.sigProofs=o,this.signedWeight=a,this.attribute_map={partProofs:"part-proofs",positionsToReveal:"positions-to-reveal",reveals:"reveals",saltVersion:"salt-version",sigCommit:"sig-commit",sigProofs:"sig-proofs",signedWeight:"signed-weight"}}static from_obj_for_encoding(e){return new ud({partProofs:typeof e["part-proofs"]<"u"?vo.from_obj_for_encoding(e["part-proofs"]):void 0,positionsToReveal:e["positions-to-reveal"],reveals:typeof e.reveals<"u"?e.reveals.map(fd.from_obj_for_encoding):void 0,saltVersion:e["salt-version"],sigCommit:e["sig-commit"],sigProofs:typeof e["sig-proofs"]<"u"?vo.from_obj_for_encoding(e["sig-proofs"]):void 0,signedWeight:e["signed-weight"]})}}class dd extends Ee{constructor({verifier:e,weight:n}){super(),this.verifier=e,this.weight=n,this.attribute_map={verifier:"verifier",weight:"weight"}}static from_obj_for_encoding(e){return new dd({verifier:typeof e.verifier<"u"?md.from_obj_for_encoding(e.verifier):void 0,weight:e.weight})}}class fd extends Ee{constructor({participant:e,position:n,sigSlot:r}){super(),this.participant=e,this.position=n,this.sigSlot=r,this.attribute_map={participant:"participant",position:"position",sigSlot:"sig-slot"}}static from_obj_for_encoding(e){return new fd({participant:typeof e.participant<"u"?dd.from_obj_for_encoding(e.participant):void 0,position:e.position,sigSlot:typeof e["sig-slot"]<"u"?hd.from_obj_for_encoding(e["sig-slot"]):void 0})}}class hd extends Ee{constructor({lowerSigWeight:e,signature:n}){super(),this.lowerSigWeight=e,this.signature=n,this.attribute_map={lowerSigWeight:"lower-sig-weight",signature:"signature"}}static from_obj_for_encoding(e){return new hd({lowerSigWeight:e["lower-sig-weight"],signature:typeof e.signature<"u"?pd.from_obj_for_encoding(e.signature):void 0})}}class pd extends Ee{constructor({falconSignature:e,merkleArrayIndex:n,proof:r,verifyingKey:i}){super(),this.falconSignature=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.merkleArrayIndex=n,this.proof=r,this.verifyingKey=typeof i=="string"?new Uint8Array(J.Buffer.from(i,"base64")):i,this.attribute_map={falconSignature:"falcon-signature",merkleArrayIndex:"merkle-array-index",proof:"proof",verifyingKey:"verifying-key"}}static from_obj_for_encoding(e){return new pd({falconSignature:e["falcon-signature"],merkleArrayIndex:e["merkle-array-index"],proof:typeof e.proof<"u"?vo.from_obj_for_encoding(e.proof):void 0,verifyingKey:e["verifying-key"]})}}class gd extends Ee{constructor({nextRound:e,onlineTotalWeight:n,type:r,votersCommitment:i}){super(),this.nextRound=e,this.onlineTotalWeight=n,this.type=r,this.votersCommitment=typeof i=="string"?new Uint8Array(J.Buffer.from(i,"base64")):i,this.attribute_map={nextRound:"next-round",onlineTotalWeight:"online-total-weight",type:"type",votersCommitment:"voters-commitment"}}static from_obj_for_encoding(e){return new gd({nextRound:e["next-round"],onlineTotalWeight:e["online-total-weight"],type:e.type,votersCommitment:e["voters-commitment"]})}}class md extends Ee{constructor({commitment:e,keyLifetime:n}){super(),this.commitment=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.keyLifetime=n,this.attribute_map={commitment:"commitment",keyLifetime:"key-lifetime"}}static from_obj_for_encoding(e){return new md({commitment:e.commitment,keyLifetime:e["key-lifetime"]})}}class Ga extends Ee{constructor({numByteSlice:e,numUint:n}){super(),this.numByteSlice=e,this.numUint=n,this.attribute_map={numByteSlice:"num-byte-slice",numUint:"num-uint"}}static from_obj_for_encoding(e){if(typeof e["num-byte-slice"]>"u")throw new Error(`Response is missing required field 'num-byte-slice': ${e}`);if(typeof e["num-uint"]>"u")throw new Error(`Response is missing required field 'num-uint': ${e}`);return new Ga({numByteSlice:e["num-byte-slice"],numUint:e["num-uint"]})}}class ul extends Ee{constructor({key:e,value:n}){super(),this.key=e,this.value=n,this.attribute_map={key:"key",value:"value"}}static from_obj_for_encoding(e){if(typeof e.key>"u")throw new Error(`Response is missing required field 'key': ${e}`);if(typeof e.value>"u")throw new Error(`Response is missing required field 'value': ${e}`);return new ul({key:e.key,value:yd.from_obj_for_encoding(e.value)})}}class yd extends Ee{constructor({bytes:e,type:n,uint:r}){super(),this.bytes=e,this.type=n,this.uint=r,this.attribute_map={bytes:"bytes",type:"type",uint:"uint"}}static from_obj_for_encoding(e){if(typeof e.bytes>"u")throw new Error(`Response is missing required field 'bytes': ${e}`);if(typeof e.type>"u")throw new Error(`Response is missing required field 'type': ${e}`);if(typeof e.uint>"u")throw new Error(`Response is missing required field 'uint': ${e}`);return new yd({bytes:e.bytes,type:e.type,uint:e.uint})}}class xs extends Ee{constructor({fee:e,firstValid:n,lastValid:r,sender:i,applicationTransaction:s,assetConfigTransaction:o,assetFreezeTransaction:a,assetTransferTransaction:l,authAddr:c,closeRewards:f,closingAmount:h,confirmedRound:v,createdApplicationIndex:I,createdAssetIndex:S,genesisHash:M,genesisId:F,globalStateDelta:E,group:m,id:x,innerTxns:G,intraRoundOffset:Z,keyregTransaction:C,lease:D,localStateDelta:V,logs:Q,note:$,paymentTransaction:Ae,receiverRewards:fe,rekeyTo:be,roundTime:Le,senderRewards:Ve,signature:Ge,stateProofTransaction:Pe,txType:Y}){super(),this.fee=e,this.firstValid=n,this.lastValid=r,this.sender=i,this.applicationTransaction=s,this.assetConfigTransaction=o,this.assetFreezeTransaction=a,this.assetTransferTransaction=l,this.authAddr=c,this.closeRewards=f,this.closingAmount=h,this.confirmedRound=v,this.createdApplicationIndex=I,this.createdAssetIndex=S,this.genesisHash=typeof M=="string"?new Uint8Array(J.Buffer.from(M,"base64")):M,this.genesisId=F,this.globalStateDelta=E,this.group=typeof m=="string"?new Uint8Array(J.Buffer.from(m,"base64")):m,this.id=x,this.innerTxns=G,this.intraRoundOffset=Z,this.keyregTransaction=C,this.lease=typeof D=="string"?new Uint8Array(J.Buffer.from(D,"base64")):D,this.localStateDelta=V,this.logs=Q,this.note=typeof $=="string"?new Uint8Array(J.Buffer.from($,"base64")):$,this.paymentTransaction=Ae,this.receiverRewards=fe,this.rekeyTo=be,this.roundTime=Le,this.senderRewards=Ve,this.signature=Ge,this.stateProofTransaction=Pe,this.txType=Y,this.attribute_map={fee:"fee",firstValid:"first-valid",lastValid:"last-valid",sender:"sender",applicationTransaction:"application-transaction",assetConfigTransaction:"asset-config-transaction",assetFreezeTransaction:"asset-freeze-transaction",assetTransferTransaction:"asset-transfer-transaction",authAddr:"auth-addr",closeRewards:"close-rewards",closingAmount:"closing-amount",confirmedRound:"confirmed-round",createdApplicationIndex:"created-application-index",createdAssetIndex:"created-asset-index",genesisHash:"genesis-hash",genesisId:"genesis-id",globalStateDelta:"global-state-delta",group:"group",id:"id",innerTxns:"inner-txns",intraRoundOffset:"intra-round-offset",keyregTransaction:"keyreg-transaction",lease:"lease",localStateDelta:"local-state-delta",logs:"logs",note:"note",paymentTransaction:"payment-transaction",receiverRewards:"receiver-rewards",rekeyTo:"rekey-to",roundTime:"round-time",senderRewards:"sender-rewards",signature:"signature",stateProofTransaction:"state-proof-transaction",txType:"tx-type"}}static from_obj_for_encoding(e){if(typeof e.fee>"u")throw new Error(`Response is missing required field 'fee': ${e}`);if(typeof e["first-valid"]>"u")throw new Error(`Response is missing required field 'first-valid': ${e}`);if(typeof e["last-valid"]>"u")throw new Error(`Response is missing required field 'last-valid': ${e}`);if(typeof e.sender>"u")throw new Error(`Response is missing required field 'sender': ${e}`);return new xs({fee:e.fee,firstValid:e["first-valid"],lastValid:e["last-valid"],sender:e.sender,applicationTransaction:typeof e["application-transaction"]<"u"?wd.from_obj_for_encoding(e["application-transaction"]):void 0,assetConfigTransaction:typeof e["asset-config-transaction"]<"u"?vd.from_obj_for_encoding(e["asset-config-transaction"]):void 0,assetFreezeTransaction:typeof e["asset-freeze-transaction"]<"u"?xd.from_obj_for_encoding(e["asset-freeze-transaction"]):void 0,assetTransferTransaction:typeof e["asset-transfer-transaction"]<"u"?bd.from_obj_for_encoding(e["asset-transfer-transaction"]):void 0,authAddr:e["auth-addr"],closeRewards:e["close-rewards"],closingAmount:e["closing-amount"],confirmedRound:e["confirmed-round"],createdApplicationIndex:e["created-application-index"],createdAssetIndex:e["created-asset-index"],genesisHash:e["genesis-hash"],genesisId:e["genesis-id"],globalStateDelta:typeof e["global-state-delta"]<"u"?e["global-state-delta"].map(cl.from_obj_for_encoding):void 0,group:e.group,id:e.id,innerTxns:typeof e["inner-txns"]<"u"?e["inner-txns"].map(xs.from_obj_for_encoding):void 0,intraRoundOffset:e["intra-round-offset"],keyregTransaction:typeof e["keyreg-transaction"]<"u"?Ad.from_obj_for_encoding(e["keyreg-transaction"]):void 0,lease:e.lease,localStateDelta:typeof e["local-state-delta"]<"u"?e["local-state-delta"].map(Ku.from_obj_for_encoding):void 0,logs:e.logs,note:e.note,paymentTransaction:typeof e["payment-transaction"]<"u"?Id.from_obj_for_encoding(e["payment-transaction"]):void 0,receiverRewards:e["receiver-rewards"],rekeyTo:e["rekey-to"],roundTime:e["round-time"],senderRewards:e["sender-rewards"],signature:typeof e.signature<"u"?Cd.from_obj_for_encoding(e.signature):void 0,stateProofTransaction:typeof e["state-proof-transaction"]<"u"?Sd.from_obj_for_encoding(e["state-proof-transaction"]):void 0,txType:e["tx-type"]})}}class wd extends Ee{constructor({applicationId:e,accounts:n,applicationArgs:r,approvalProgram:i,clearStateProgram:s,extraProgramPages:o,foreignApps:a,foreignAssets:l,globalStateSchema:c,localStateSchema:f,onCompletion:h}){super(),this.applicationId=e,this.accounts=n,this.applicationArgs=r,this.approvalProgram=typeof i=="string"?new Uint8Array(J.Buffer.from(i,"base64")):i,this.clearStateProgram=typeof s=="string"?new Uint8Array(J.Buffer.from(s,"base64")):s,this.extraProgramPages=o,this.foreignApps=a,this.foreignAssets=l,this.globalStateSchema=c,this.localStateSchema=f,this.onCompletion=h,this.attribute_map={applicationId:"application-id",accounts:"accounts",applicationArgs:"application-args",approvalProgram:"approval-program",clearStateProgram:"clear-state-program",extraProgramPages:"extra-program-pages",foreignApps:"foreign-apps",foreignAssets:"foreign-assets",globalStateSchema:"global-state-schema",localStateSchema:"local-state-schema",onCompletion:"on-completion"}}static from_obj_for_encoding(e){if(typeof e["application-id"]>"u")throw new Error(`Response is missing required field 'application-id': ${e}`);return new wd({applicationId:e["application-id"],accounts:e.accounts,applicationArgs:e["application-args"],approvalProgram:e["approval-program"],clearStateProgram:e["clear-state-program"],extraProgramPages:e["extra-program-pages"],foreignApps:e["foreign-apps"],foreignAssets:e["foreign-assets"],globalStateSchema:typeof e["global-state-schema"]<"u"?Ga.from_obj_for_encoding(e["global-state-schema"]):void 0,localStateSchema:typeof e["local-state-schema"]<"u"?Ga.from_obj_for_encoding(e["local-state-schema"]):void 0,onCompletion:e["on-completion"]})}}class vd extends Ee{constructor({assetId:e,params:n}){super(),this.assetId=e,this.params=n,this.attribute_map={assetId:"asset-id",params:"params"}}static from_obj_for_encoding(e){return new vd({assetId:e["asset-id"],params:typeof e.params<"u"?ll.from_obj_for_encoding(e.params):void 0})}}class xd extends Ee{constructor({address:e,assetId:n,newFreezeStatus:r}){super(),this.address=e,this.assetId=n,this.newFreezeStatus=r,this.attribute_map={address:"address",assetId:"asset-id",newFreezeStatus:"new-freeze-status"}}static from_obj_for_encoding(e){if(typeof e.address>"u")throw new Error(`Response is missing required field 'address': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e["new-freeze-status"]>"u")throw new Error(`Response is missing required field 'new-freeze-status': ${e}`);return new xd({address:e.address,assetId:e["asset-id"],newFreezeStatus:e["new-freeze-status"]})}}class bd extends Ee{constructor({amount:e,assetId:n,receiver:r,closeAmount:i,closeTo:s,sender:o}){super(),this.amount=e,this.assetId=n,this.receiver=r,this.closeAmount=i,this.closeTo=s,this.sender=o,this.attribute_map={amount:"amount",assetId:"asset-id",receiver:"receiver",closeAmount:"close-amount",closeTo:"close-to",sender:"sender"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e["asset-id"]>"u")throw new Error(`Response is missing required field 'asset-id': ${e}`);if(typeof e.receiver>"u")throw new Error(`Response is missing required field 'receiver': ${e}`);return new bd({amount:e.amount,assetId:e["asset-id"],receiver:e.receiver,closeAmount:e["close-amount"],closeTo:e["close-to"],sender:e.sender})}}class Ad extends Ee{constructor({nonParticipation:e,selectionParticipationKey:n,stateProofKey:r,voteFirstValid:i,voteKeyDilution:s,voteLastValid:o,voteParticipationKey:a}){super(),this.nonParticipation=e,this.selectionParticipationKey=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.stateProofKey=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.voteFirstValid=i,this.voteKeyDilution=s,this.voteLastValid=o,this.voteParticipationKey=typeof a=="string"?new Uint8Array(J.Buffer.from(a,"base64")):a,this.attribute_map={nonParticipation:"non-participation",selectionParticipationKey:"selection-participation-key",stateProofKey:"state-proof-key",voteFirstValid:"vote-first-valid",voteKeyDilution:"vote-key-dilution",voteLastValid:"vote-last-valid",voteParticipationKey:"vote-participation-key"}}static from_obj_for_encoding(e){return new Ad({nonParticipation:e["non-participation"],selectionParticipationKey:e["selection-participation-key"],stateProofKey:e["state-proof-key"],voteFirstValid:e["vote-first-valid"],voteKeyDilution:e["vote-key-dilution"],voteLastValid:e["vote-last-valid"],voteParticipationKey:e["vote-participation-key"]})}}class Id extends Ee{constructor({amount:e,receiver:n,closeAmount:r,closeRemainderTo:i}){super(),this.amount=e,this.receiver=n,this.closeAmount=r,this.closeRemainderTo=i,this.attribute_map={amount:"amount",receiver:"receiver",closeAmount:"close-amount",closeRemainderTo:"close-remainder-to"}}static from_obj_for_encoding(e){if(typeof e.amount>"u")throw new Error(`Response is missing required field 'amount': ${e}`);if(typeof e.receiver>"u")throw new Error(`Response is missing required field 'receiver': ${e}`);return new Id({amount:e.amount,receiver:e.receiver,closeAmount:e["close-amount"],closeRemainderTo:e["close-remainder-to"]})}}class Rm extends Ee{constructor({currentRound:e,transaction:n}){super(),this.currentRound=e,this.transaction=n,this.attribute_map={currentRound:"current-round",transaction:"transaction"}}static from_obj_for_encoding(e){if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);if(typeof e.transaction>"u")throw new Error(`Response is missing required field 'transaction': ${e}`);return new Rm({currentRound:e["current-round"],transaction:xs.from_obj_for_encoding(e.transaction)})}}class Cd extends Ee{constructor({logicsig:e,multisig:n,sig:r}){super(),this.logicsig=e,this.multisig=n,this.sig=typeof r=="string"?new Uint8Array(J.Buffer.from(r,"base64")):r,this.attribute_map={logicsig:"logicsig",multisig:"multisig",sig:"sig"}}static from_obj_for_encoding(e){return new Cd({logicsig:typeof e.logicsig<"u"?_d.from_obj_for_encoding(e.logicsig):void 0,multisig:typeof e.multisig<"u"?dl.from_obj_for_encoding(e.multisig):void 0,sig:e.sig})}}class _d extends Ee{constructor({logic:e,args:n,multisigSignature:r,signature:i}){super(),this.logic=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.args=n,this.multisigSignature=r,this.signature=typeof i=="string"?new Uint8Array(J.Buffer.from(i,"base64")):i,this.attribute_map={logic:"logic",args:"args",multisigSignature:"multisig-signature",signature:"signature"}}static from_obj_for_encoding(e){if(typeof e.logic>"u")throw new Error(`Response is missing required field 'logic': ${e}`);return new _d({logic:e.logic,args:e.args,multisigSignature:typeof e["multisig-signature"]<"u"?dl.from_obj_for_encoding(e["multisig-signature"]):void 0,signature:e.signature})}}class dl extends Ee{constructor({subsignature:e,threshold:n,version:r}){super(),this.subsignature=e,this.threshold=n,this.version=r,this.attribute_map={subsignature:"subsignature",threshold:"threshold",version:"version"}}static from_obj_for_encoding(e){return new dl({subsignature:typeof e.subsignature<"u"?e.subsignature.map(Ed.from_obj_for_encoding):void 0,threshold:e.threshold,version:e.version})}}class Ed extends Ee{constructor({publicKey:e,signature:n}){super(),this.publicKey=typeof e=="string"?new Uint8Array(J.Buffer.from(e,"base64")):e,this.signature=typeof n=="string"?new Uint8Array(J.Buffer.from(n,"base64")):n,this.attribute_map={publicKey:"public-key",signature:"signature"}}static from_obj_for_encoding(e){return new Ed({publicKey:e["public-key"],signature:e.signature})}}class Sd extends Ee{constructor({message:e,stateProof:n,stateProofType:r}){super(),this.message=e,this.stateProof=n,this.stateProofType=r,this.attribute_map={message:"message",stateProof:"state-proof",stateProofType:"state-proof-type"}}static from_obj_for_encoding(e){return new Sd({message:typeof e.message<"u"?ad.from_obj_for_encoding(e.message):void 0,stateProof:typeof e["state-proof"]<"u"?ud.from_obj_for_encoding(e["state-proof"]):void 0,stateProofType:e["state-proof-type"]})}}class Fm extends Ee{constructor({currentRound:e,transactions:n,nextToken:r}){super(),this.currentRound=e,this.transactions=n,this.nextToken=r,this.attribute_map={currentRound:"current-round",transactions:"transactions",nextToken:"next-token"}}static from_obj_for_encoding(e){if(typeof e["current-round"]>"u")throw new Error(`Response is missing required field 'current-round': ${e}`);if(!Array.isArray(e.transactions))throw new Error(`Response is missing required array field 'transactions': ${e}`);return new Fm({currentRound:e["current-round"],transactions:e.transactions.map(xs.from_obj_for_encoding),nextToken:e["next-token"]})}}const d8=Object.freeze(Object.defineProperty({__proto__:null,Account:sl,AccountParticipation:Ju,AccountResponse:gm,AccountStateDelta:Ku,AccountsResponse:mm,Application:Ro,ApplicationLocalState:ol,ApplicationLocalStatesResponse:ym,ApplicationLogData:Hu,ApplicationLogsResponse:wm,ApplicationParams:qu,ApplicationResponse:vm,ApplicationStateSchema:vs,ApplicationsResponse:xm,Asset:Fo,AssetBalancesResponse:bm,AssetHolding:al,AssetHoldingsResponse:Am,AssetParams:ll,AssetResponse:Im,AssetsResponse:Cm,Block:_m,BlockRewards:Qu,BlockUpgradeState:ed,BlockUpgradeVote:td,Box:nd,BoxDescriptor:rd,BoxesResponse:id,ErrorResponse:Em,EvalDelta:sd,EvalDeltaKeyValue:cl,HashFactory:od,HealthCheck:Sm,IndexerStateProofMessage:ad,MerkleArrayProof:vo,MiniAssetHolding:ld,ParticipationUpdates:cd,StateProofFields:ud,StateProofParticipant:dd,StateProofReveal:fd,StateProofSigSlot:hd,StateProofSignature:pd,StateProofTracking:gd,StateProofVerifier:md,StateSchema:Ga,TealKeyValue:ul,TealValue:yd,Transaction:xs,TransactionApplication:wd,TransactionAssetConfig:vd,TransactionAssetFreeze:xd,TransactionAssetTransfer:bd,TransactionKeyreg:Ad,TransactionPayment:Id,TransactionResponse:Rm,TransactionSignature:Cd,TransactionSignatureLogicsig:_d,TransactionSignatureMultisig:dl,TransactionSignatureMultisigSubsignature:Ed,TransactionStateProof:Sd,TransactionsResponse:Fm},Symbol.toStringTag,{value:"Module"}));class f8 extends ot{constructor(e,n,r,i){super(e,n),this.index=r,this.index=r;const s=J.Buffer.from(i).toString("base64");this.query.name=encodeURI(`b64:${s}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return nd.from_obj_for_encoding(e)}}class h8 extends ot{path(){return"/v2/accounts"}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}limit(e){return this.query.limit=e,this}assetID(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}round(e){return this.query.round=e,this}authAddr(e){return this.query["auth-addr"]=e,this}applicationID(e){return this.query["application-id"]=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}}class p8 extends ot{path(){return"/v2/transactions"}notePrefix(e){return this.query["note-prefix"]=pm(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e,this}afterTime(e){return this.query["after-time"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e,this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}applicationID(e){return this.query["application-id"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}}class g8 extends ot{path(){return"/v2/assets"}limit(e){return this.query.limit=e,this}creator(e){return this.query.creator=e,this}name(e){return this.query.name=e,this}unit(e){return this.query.unit=e,this}index(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}}class m8 extends ot{path(){return"/v2/applications"}index(e){return this.query["application-id"]=e,this}creator(e){return this.query.creator=e,this}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}}class y8 extends ot{constructor(e,n,r){super(e,n),this.index=r,this.index=r}path(){return`/v2/applications/${this.index}/boxes`}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}prepare(e){return id.from_obj_for_encoding(e)}}class km extends zg{constructor(e,n="http://127.0.0.1",r=8080,i={}){super("X-Indexer-API-Token",e,n,r,i)}makeHealthCheck(){return new H4(this.c,this.intDecoding)}lookupAssetBalances(e){return new q4(this.c,this.intDecoding,e)}lookupAssetTransactions(e){return new e8(this.c,this.intDecoding,e)}lookupAccountTransactions(e){return new Q4(this.c,this.intDecoding,e)}lookupBlock(e){return new t8(this.c,this.intDecoding,e)}lookupTransactionByID(e){return new n8(this.c,this.intDecoding,e)}lookupAccountByID(e){return new r8(this.c,this.intDecoding,e)}lookupAccountAssets(e){return new i8(this.c,this.intDecoding,e)}lookupAccountCreatedAssets(e){return new s8(this.c,this.intDecoding,e)}lookupAccountAppLocalStates(e){return new o8(this.c,this.intDecoding,e)}lookupAccountCreatedApplications(e){return new a8(this.c,this.intDecoding,e)}lookupAssetByID(e){return new l8(this.c,this.intDecoding,e)}lookupApplications(e){return new c8(this.c,this.intDecoding,e)}lookupApplicationLogs(e){return new u8(this.c,this.intDecoding,e)}searchAccounts(){return new h8(this.c,this.intDecoding)}searchForTransactions(){return new p8(this.c,this.intDecoding)}searchForAssets(){return new g8(this.c,this.intDecoding)}searchForApplications(){return new m8(this.c,this.intDecoding)}searchForApplicationBoxes(e){return new y8(this.c,this.intDecoding,e)}lookupApplicationBoxByIDandName(e,n){return new f8(this.c,this.intDecoding,e,n)}}async function Rx(t,e,n){const r=await t.status().do();if(typeof r>"u")throw new Error("Unable to get node status");const i=r["last-round"]+1;let s=i;for(;s<i+n;){let o=!1;try{const a=await t.pendingTransactionInformation(e).do();if(a["confirmed-round"])return a;if(a["pool-error"])throw o=!0,new Error(`Transaction Rejected: ${a["pool-error"]}`)}catch(a){if(o)throw a}await t.statusAfterBlock(s).do(),s+=1}throw new Error(`Transaction not confirmed after ${n} rounds`)}function bs(t,e){let n=t.toString(16);n.length!==e*2&&(n=n.padStart(e*2,"0"));const r=new Uint8Array(n.length/2);for(let i=0,s=0;i<n.length/2;i++,s+=2)r[i]=parseInt(n.slice(s,s+2),16);return r}function Bm(t){let e=BigInt(0);const n=J.Buffer.from(t);for(let r=0;r<t.length;r++)e=BigInt(Number(n.readUIntBE(r,1)))+e*BigInt(256);return e}function w8(){const t=CA();return{addr:ht(t.publicKey),sk:t.secretKey}}const mp=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],Af="failed to decode mnemonic",v8="the mnemonic contains a word that is not in the wordlist";function Fx(t){const e=[];let n=0,r=0;function i(o){n|=o<<r,r+=8,r>=11&&(e.push(n&2047),n>>=11,r-=11)}function s(){r&&e.push(n)}return t.forEach(i),s(),e}function kx(t){return t.map(e=>mp[e])}function Bx(t){const e=Vr(t),n=Fx(e);return kx(n)[0]}function Tm(t){if(t.length!==fp)throw new RangeError(`Seed length must be ${fp}`);const e=Fx(t),n=kx(e),r=Bx(t);return`${n.join(" ")} ${r}`}function x8(t){const e=[];let n=0,r=0;function i(o){for(n|=o<<r,r+=11;r>=8;)e.push(n&255),n>>=8,r-=8}function s(){r&&e.push(n)}return t.forEach(i),s(),new Uint8Array(e)}function Nm(t){const e=t.split(" "),n=e.slice(0,24);for(const a of n)if(mp.indexOf(a)===-1)throw new Error(v8);const r=e[e.length-1],i=n.map(a=>mp.indexOf(a));let s=x8(i);if(s.length!==33)throw new Error(Af);if(s[s.length-1]!==0)throw new Error(Af);if(s=s.slice(0,s.length-1),Bx(s)===r)return s;throw new Error(Af)}function b8(t){const e=Nm(t),n=Uv(e);return{addr:ht(n.publicKey),sk:n.secretKey}}function A8(t){const e=t.slice(0,fp);return Tm(e)}function I8(t){return Nm(t)}function C8(t){return Tm(t)}const d1=16;class _8{constructor(e){if(this.name="Transaction group",this.tag=J.Buffer.from("TG"),e.length>d1){const n=`${e.length.toString()} transactions grouped together but max group size is ${d1.toString()}`;throw Error(n)}this.txGroupHashes=e}get_obj_for_encoding(){return{txlist:this.txGroupHashes}}static from_obj_for_encoding(e){const n=Object.create(this.prototype);n.name="Transaction group",n.tag=J.Buffer.from("TG"),n.txGroupHashes=[];for(const r of e.txlist)n.txGroupHashes.push(J.Buffer.from(r));return n}toByte(){return kn(this.get_obj_for_encoding())}}function Tx(t){const e=[];for(const o of t){const a=Wi(o);e.push(a.rawTxID())}const n=new _8(e),r=n.toByte(),i=J.Buffer.from(dn(n.tag,r)),s=Vr(i);return J.Buffer.from(s)}function Nx(t,e){const n=Tx(t),r=[];for(const i of t){const s=Wi(i);(!e||ht(s.from.publicKey)===e)&&(s.group=n,r.push(s))}return r}const E8="Not enough multisig transactions to merge. Need at least two",S8="Cannot merge txs. txIDs differ",R8="Cannot merge txs. Auth addrs differ",f1="Cannot merge txs. Multisig preimages differ",F8="Cannot merge txs. subsigs are mismatched.",k8="Key does not exist",h1="Cannot mutate a multisig field as it would invalidate all existing signatures.",B8="Cannot sign a multisig transaction using `signTxn`. Use `partialSignTxn` instead.",T8="Cannot add multisig signature. Signature is not of the correct length.";function Lx(t,{version:e,threshold:n,addrs:r}){const i=r.map(f=>bt(f).publicKey),s=i.map(f=>({pk:J.Buffer.from(f)})),o={v:e,thr:n,subsig:s},a=t.get_obj_for_encoding(),l={msig:o,txn:a},c=Ui({version:e,threshold:n,pks:i});return ht(a.snd)!==ht(c)&&(l.sgnr=J.Buffer.from(c)),new Uint8Array(kn(l))}function p1(t,{rawSig:e,myPk:n},{version:r,threshold:i,pks:s}){const o=Lx(t,{version:r,threshold:i,addrs:s.map(f=>ht(f))}),a=wn(o);let l=!1;if(a.msig.subsig.forEach((f,h)=>{Gv(f.pk,n)&&(l=!0,a.msig.subsig[h].s=e)}),l===!1)throw new Error(k8);const c=Ui({version:r,threshold:i,pks:s});return ht(a.txn.snd)!==ht(c)&&(a.sgnr=J.Buffer.from(c)),new Uint8Array(kn(a))}class xo extends Xt{addLease(){throw new Error(h1)}addRekey(){throw new Error(h1)}signTxn(e){throw new Error(B8)}partialSignTxn({version:e,threshold:n,pks:r},i){const s=tl(i).publicKey;return p1(this,{rawSig:this.rawSignTxn(i),myPk:s},{version:e,threshold:n,pks:r})}partialSignWithMultisigSignature(e,n,r){if(!Pv(r.length))throw new Error(T8);return p1(this,{rawSig:r,myPk:bt(n).publicKey},e)}static from_obj_for_encoding(e){return super.from_obj_for_encoding(e)}}function Rd(t){if(t.length<2)throw new Error(E8);const e=wn(t[0]),n=xo.from_obj_for_encoding(e.txn).txID(),r=e.sgnr?ht(e.sgnr):void 0,i={version:e.msig.v,threshold:e.msig.thr,pks:e.msig.subsig.map(c=>c.pk)},s=ht(Ui(i)),o=e.msig.subsig.map(c=>({...c}));for(let c=1;c<t.length;c++){const f=wn(t[c]);if(xo.from_obj_for_encoding(f.txn).txID()!==n)throw new Error(S8);const v=f.sgnr?ht(f.sgnr):void 0;if(r!==v)throw new Error(R8);if(f.msig.subsig.length!==e.msig.subsig.length)throw new Error(f1);const I={version:f.msig.v,threshold:f.msig.thr,pks:f.msig.subsig.map(M=>M.pk)},S=ht(Ui(I));if(s!==S)throw new Error(f1);f.msig.subsig.forEach((M,F)=>{if(!M.s)return;const E=o[F];if(E.s&&J.Buffer.compare(J.Buffer.from(M.s),J.Buffer.from(E.s))!==0)throw new Error(F8);E.s=M.s})}const l={msig:{v:e.msig.v,thr:e.msig.thr,subsig:o},txn:e.txn};return typeof r<"u"&&(l.sgnr=J.Buffer.from(bt(r).publicKey)),new Uint8Array(kn(l))}function Mx(t,e,n){const r=e.v,i=e.thr,s=e.subsig,o=s.map(f=>f.pk);if(e.subsig.length<i)return!1;let a;try{a=Ui({version:r,threshold:i,pks:o})}catch{return!1}if(!Zc(a,n))return!1;let l=0;for(const f of s)f.s!==void 0&&(l+=1);if(l<i)return!1;let c=0;for(const f of s)f.s!==void 0&&xu(t,f.s,f.pk)&&(c+=1);return!(c<i)}function Wx(t,{version:e,threshold:n,addrs:r},i){const s=Yv({version:e,threshold:n,addrs:r});Object.prototype.hasOwnProperty.call(t,"from")||(t.from=s);const o=r.map(f=>bt(f).publicKey),a=t instanceof Xt;let l,c;return a?(l=t,c=xo.prototype.partialSignTxn.call(l,{version:e,threshold:n,pks:o},i)):(l=new xo(t),c=l.partialSignTxn({version:e,threshold:n,pks:o},i)),{txID:l.txID().toString(),blob:c}}function N8(t,{version:e,threshold:n,addrs:r},i){const s=r.map(c=>bt(c).publicKey),o=wn(t),a=xo.from_obj_for_encoding(o.txn),l=a.partialSignTxn({version:e,threshold:n,pks:s},i);return{txID:a.txID().toString(),blob:Rd([t,l])}}function L8(t,{version:e,threshold:n,addrs:r},i,s){const o=r.map(f=>bt(f).publicKey),a=wn(t),l=xo.from_obj_for_encoding(a.txn),c=l.partialSignWithMultisigSignature({version:e,threshold:n,pks:o},i,s);return{txID:l.txID().toString(),blob:Rd([t,c])}}function M8({version:t,threshold:e,addrs:n}){return Yv({version:t,threshold:e,addrs:n})}function g1(t){if(!t||t.length===0)throw new Error("empty program");const e=10,n=32,r=126,i=o=>n<=o&&o<=r;if(t.every(o=>o===e||i(o))){const o=J.Buffer.from(t).toString();throw zv(o)?new Error("requesting program bytes, get Algorand address"):J.Buffer.from(o,"base64").toString("base64")===o?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}class Pi{constructor(e,n){if(this.tag=J.Buffer.from("Program"),n&&(!Array.isArray(n)||!n.every(i=>i.constructor===Uint8Array||J.Buffer.isBuffer(i))))throw new TypeError("Invalid arguments");let r;n!=null&&(r=n.map(i=>new Uint8Array(i))),g1(e),this.logic=e,this.args=r,this.sig=void 0,this.msig=void 0}get_obj_for_encoding(){const e={l:this.logic};return this.args&&(e.arg=this.args),this.sig?e.sig=this.sig:this.msig&&(e.msig=this.msig),e}static from_obj_for_encoding(e){const n=new Pi(e.l,e.arg);return n.sig=e.sig,n.msig=e.msig,n}verify(e){if(this.sig&&this.msig)return!1;try{g1(this.logic)}catch{return!1}const n=dn(this.tag,this.logic);if(!this.sig&&!this.msig){const r=Vr(n);return Zc(r,e)}return this.sig?xu(n,this.sig,e):Mx(n,this.msig,e)}address(){const e=dn(this.tag,this.logic),n=Vr(e);return ht(new Uint8Array(n))}sign(e,n){if(n==null)this.sig=this.signProgram(e);else{const r=n.addrs.map(o=>({pk:bt(o).publicKey}));this.msig={v:n.version,thr:n.threshold,subsig:r};const[i,s]=this.singleSignMultisig(e,this.msig);this.msig.subsig[s].s=i}}appendToMultisig(e){if(this.msig===void 0)throw new Error("no multisig present");const[n,r]=this.singleSignMultisig(e,this.msig);this.msig.subsig[r].s=n}signProgram(e){const n=dn(this.tag,this.logic);return nl(n,e)}singleSignMultisig(e,n){let r=-1;const i=tl(e).publicKey;for(let o=0;o<n.subsig.length;o++){const{pk:a}=n.subsig[o];if(Zc(a,i)){r=o;break}}if(r===-1)throw new Error("invalid secret key");return[this.signProgram(e),r]}toByte(){return kn(this.get_obj_for_encoding())}static fromByte(e){const n=wn(e);return Pi.from_obj_for_encoding(n)}}let Zx=class yp{constructor(e,n){this.lsig=new Pi(e,n),this.sigkey=void 0}get_obj_for_encoding(){const e={lsig:this.lsig.get_obj_for_encoding()};return this.sigkey&&(e.sigkey=this.sigkey),e}static from_obj_for_encoding(e){const n=new yp(e.lsig.l,e.lsig.arg);return n.lsig=Pi.from_obj_for_encoding(e.lsig),n.sigkey=e.sigkey,n}toByte(){return kn(this.get_obj_for_encoding())}static fromByte(e){const n=wn(e);return yp.from_obj_for_encoding(n)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){const e=this.address();return this.lsig.verify(bt(e).publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw new Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return ht(this.sigkey)}if(this.lsig.msig){const e={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(n=>n.pk)};return ht(Ui(e))}return this.lsig.address()}signMultisig(e,n){this.lsig.sign(n,e)}appendToMultisig(e){this.lsig.appendToMultisig(e)}sign(e){this.lsig.sign(e),this.sigkey=tl(e).publicKey}};function W8(t,e,n){if(!e.verify(n))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");const r={lsig:e.get_obj_for_encoding(),txn:t.get_obj_for_encoding()};return Gv(n,t.from.publicKey)||(r.sgnr=J.Buffer.from(n)),{txID:t.txID().toString(),blob:kn(r)}}function Lm(t,e){let n,r;if(e instanceof Zx)n=e.lsig,r=bt(e.address()).publicKey;else if(n=e,n.sig)r=t.from.publicKey;else if(n.msig){const i={version:n.msig.v,threshold:n.msig.thr,pks:n.msig.subsig.map(s=>s.pk)};r=Ui(i)}else r=bt(n.address()).publicKey;return W8(t,n,r)}function Z8(t,e){const n=Wi(t);return Lm(n,e)}function O8(t){return Pi.fromByte(t)}const Ox=J.Buffer.from("ProgData");function Dx(t,e,n){const r=dn(bt(n).publicKey,e),i=J.Buffer.from(dn(Ox,r));return nl(i,t)}function D8(t,e,n,r){const i=dn(bt(e).publicKey,t),s=J.Buffer.from(dn(Ox,i));return xu(s,n,r)}function U8(t,e,n){const i=new Pi(n).address();return Dx(t,e,i)}let Ux={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(t,e){Ux[t]=e});function P8(t){let e=[],n=0,r=0;for(let i=0;i<t.length;i+=1){let s=Ux[t[i]];if(s===void 0)throw new Error("Invalid character ("+t[i]+")");const o=s&32;if(s&=31,r+=s<<n,o)n+=5;else{const a=r&1;r>>>=1,a?e.push(r===0?-2147483648:-r):e.push(r),r=n=0}}return e}let G8=class{constructor({version:e,sources:n,names:r,mappings:i}){if(this.version=e,this.sources=n,this.names=r,this.mappings=i,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const s=this.mappings.split(";").map(a=>{const l=P8(a);if(l.length>2)return l[2]});this.pcToLine={},this.lineToPc={};let o=0;for(const[a,l]of s.entries())l!==void 0&&(o+=l),o in this.lineToPc||(this.lineToPc[o]=[]),this.lineToPc[o].push(a),this.pcToLine[a]=o}getLineForPc(e){return this.pcToLine[e]}getPcsForLine(e){return this.lineToPc[e]}};const V8=1380011588,If=30;function m1(t){return t.params["approval-program"]=J.Buffer.from(t.params["approval-program"].toString(),"base64"),t.params["clear-state-program"]=J.Buffer.from(t.params["clear-state-program"].toString(),"base64"),t}async function j8({client:t,txns:e,protocolVersion:n,latestTimestamp:r,round:i,sources:s}){const o=[],a=[],l=[],c=[],f=[];for(const S of e)S.txn.type===Wt.appl&&(f.push(ht(S.txn.from.publicKey)),S.txn.appAccounts&&f.push(...S.txn.appAccounts.map(M=>ht(M.publicKey))),S.txn.appForeignApps&&(l.push(...S.txn.appForeignApps),f.push(...S.txn.appForeignApps.map(M=>hp(M)))),S.txn.appForeignAssets&&c.push(...S.txn.appForeignAssets),S.txn.appIndex===void 0||S.txn.appIndex===0?o.push(new Iu({id:V8,params:new Eu({creator:ht(S.txn.from.publicKey),approvalProgram:S.txn.appApprovalProgram,clearStateProgram:S.txn.appClearProgram,localStateSchema:new ws({numUint:S.txn.appLocalInts,numByteSlice:S.txn.appLocalByteSlices}),globalStateSchema:new ws({numUint:S.txn.appGlobalInts,numByteSlice:S.txn.appGlobalByteSlices})})})):(l.push(S.txn.appIndex),f.push(hp(S.txn.appIndex))));const h=[];for(const S of[...new Set(c)])h.push(t.getAssetByID(S).do().then(M=>{f.push(M.params.creator)}));await Promise.all(h);const v=[];for(const S of[...new Set(l)])v.push(t.getApplicationByID(S).do().then(M=>{const F=m1(M);o.push(F),f.push(F.params.creator)}));await Promise.all(v);const I=[];for(const S of[...new Set(f)])I.push(t.accountInformation(S).do().then(M=>{"created-apps"in M&&(M["created-apps"]=M["created-apps"].map(F=>m1(F))),a.push(M)}));return await Promise.all(I),new Lu({txns:e.map(S=>({...S,txn:S.txn.get_obj_for_encoding()})),accounts:a,apps:o,latestTimestamp:r,round:i,protocolVersion:n,sources:s})}class $8{constructor(e){this.type=0,this.bytes="",this.uint=0,this.type=e.type,this.bytes=e.bytes,this.uint=e.uint}toString(){return this.type===1?`0x${J.Buffer.from(this.bytes,"base64").toString("hex")}`:this.uint.toString()}}class z8{constructor(e){this.error="",this.line=0,this.pc=0,this.scratch=[],this.stack=[],this.error=e.error===void 0?"":e.error,this.line=e.line,this.pc=e.pc,this.scratch=e.scratch,this.stack=e.stack.map(n=>new $8(n))}}class y1{constructor(e){this.trace=[],e!=null&&(this.trace=e.map(n=>new z8(n)))}}function Cf(t,e){return t.length>e&&e>0?`${t.slice(0,e)}...`:t}function Y8(t,e){if(e.length===0)return"";let n=null;for(let i=0;i<e.length;i++){if(i>t.length){n=i;continue}JSON.stringify(t[i])!==JSON.stringify(e[i])&&(n=i)}if(n==null)return"";const r=e[n];return r.bytes.length>0?`${n} = 0x${J.Buffer.from(r.bytes,"base64").toString("hex")}`:`${n} = ${r.uint.toString()}`}function X8(t,e){return`[${(e?t.reverse():t).map(r=>{switch(r.type){case 1:return`0x${J.Buffer.from(r.bytes,"base64").toString("hex")}`;case 2:return`${r.uint.toString()}`;default:return""}}).join(", ")}]`}class Pc{constructor(e){this.disassembly=[],this.appCallMessages=[],this.localDeltas=[],this.globalDelta=[],this.cost=0,this.logicSigMessages=[],this.logicSigDisassembly=[],this.logs=[],this.appCallTrace=void 0,this.logicSigTrace=void 0,this.required=["disassembly"],this.optionals=["app-call-messages","local-deltas","global-delta","cost","logic-sig-messages","logic-sig-disassembly","logs"],this.traces=["app-call-trace","logic-sig-trace"],this.disassembly=e.disassembly,this.appCallMessages=e["app-call-messages"],this.localDeltas=e["local-deltas"],this.globalDelta=e["global-delta"],this.cost=e.cost,this.logicSigMessages=e["logic-sig-messages"],this.logicSigDisassembly=e["logic-sig-disassembly"],this.logs=e.logs,this.appCallTrace=new y1(e["app-call-trace"]),this.logicSigTrace=new y1(e["logic-sig-trace"])}appCallRejected(){return this.appCallMessages!==void 0&&this.appCallMessages.includes("REJECT")}logicSigRejected(){return this.logicSigMessages!==void 0&&this.logicSigMessages.includes("REJECT")}static trace(e,n,r){const i=r.maxValueWidth||If,s=[["pc#","ln#","source","scratch","stack"]];for(let a=0;a<e.trace.length;a++){const{line:l,error:c,pc:f,scratch:h,stack:v}=e.trace[a],I=h!==void 0?h:[],S=a>0&&e.trace[a-1].scratch!==void 0?e.trace[a-1].scratch:[],M=c===""?n[l]:`!! ${c} !!`;s.push([f.toString().padEnd(3," "),l.toString().padEnd(3," "),Cf(M,i),Cf(Y8(S,I),i),Cf(X8(v,r.topOfStackFirst),i)])}const o=s.reduce((a,l)=>{const c=new Array(s[0].length).fill(0);for(let f=0;f<a.length;f++)c[f]=l[f].length>a[f]?l[f].length:a[f];return c},new Array(s[0].length).fill(0));return`${s.map(a=>a.map((l,c)=>l.padEnd(o[c]+1," ")).join("|").trim()).join(`
`)}
`}appTrace(e){if(this.appCallTrace===void 0||!this.disassembly)return"";let n=e;return e===void 0&&(n={maxValueWidth:If,topOfStackFirst:!1}),Pc.trace(this.appCallTrace,this.disassembly,n)}lsigTrace(e){if(this.logicSigTrace===void 0||this.logicSigDisassembly===void 0)return"";let n=e;return e===void 0&&(n={maxValueWidth:If,topOfStackFirst:!0}),Pc.trace(this.logicSigTrace,this.logicSigDisassembly,n)}}class J8{constructor(e){this.error="",this.protocolVersion="",this.txns=[],this.error=e.error,this.protocolVersion=e["protocol-version"],this.txns=e.txns.map(n=>new Pc(n))}}function Px(t,e,n,r,i,s,o){const a={from:t,to:e,amount:n,closeRemainderTo:r,note:i,suggestedParams:s,type:Wt.pay,reKeyTo:o};return new Xt(a)}function K8(t){return Px(t.from,t.to,t.amount,t.closeRemainderTo,t.note,t.suggestedParams,t.rekeyTo)}function Gx(t,e,n,r,i,s,o,a,l,c=!1,f=void 0){const h={from:t,note:e,voteKey:n,selectionKey:r,voteFirst:i,voteLast:s,voteKeyDilution:o,suggestedParams:a,type:Wt.keyreg,reKeyTo:l,nonParticipation:c,stateProofKey:f};return new Xt(h)}function H8(t){return Gx(t.from,t.note,t.voteKey,t.selectionKey,t.voteFirst,t.voteLast,t.voteKeyDilution,t.suggestedParams,t.rekeyTo,t.nonParticipation,t.stateProofKey)}function Vx(t,e,n,r,i,s,o,a,l,c,f,h,v,I,S){const M={from:t,note:e,suggestedParams:I,assetTotal:n,assetDecimals:r,assetDefaultFrozen:i,assetUnitName:c,assetName:f,assetURL:h,assetMetadataHash:v,assetManager:s,assetReserve:o,assetFreeze:a,assetClawback:l,type:Wt.acfg,reKeyTo:S};return new Xt(M)}function q8(t){return Vx(t.from,t.note,t.total,t.decimals,t.defaultFrozen,t.manager,t.reserve,t.freeze,t.clawback,t.unitName,t.assetName,t.assetURL,t.assetMetadataHash,t.suggestedParams,t.rekeyTo)}function jx(t,e,n,r,i,s,o,a,l=!0,c){if(l&&(r===void 0||i===void 0||s===void 0||o===void 0))throw Error("strict empty address checking was turned on, but at least one empty address was provided");const f={from:t,suggestedParams:a,assetIndex:n,assetManager:r,assetReserve:i,assetFreeze:s,assetClawback:o,type:Wt.acfg,note:e,reKeyTo:c};return new Xt(f)}function Q8(t){return jx(t.from,t.note,t.assetIndex,t.manager,t.reserve,t.freeze,t.clawback,t.suggestedParams,t.strictEmptyAddressChecking,t.rekeyTo)}function $x(t,e,n,r,i){const s={from:t,suggestedParams:r,assetIndex:n,type:Wt.acfg,note:e,reKeyTo:i};return new Xt(s)}function eI(t){return $x(t.from,t.note,t.assetIndex,t.suggestedParams,t.rekeyTo)}function zx(t,e,n,r,i,s,o){const a={from:t,type:Wt.afrz,freezeAccount:r,assetIndex:n,freezeState:i,note:e,suggestedParams:s,reKeyTo:o};return new Xt(a)}function tI(t){return zx(t.from,t.note,t.assetIndex,t.freezeTarget,t.freezeState,t.suggestedParams,t.rekeyTo)}function Yx(t,e,n,r,i,s,o,a,l){const c={type:Wt.axfer,from:t,to:e,amount:i,suggestedParams:a,assetIndex:o,note:s,assetRevocationTarget:r,closeRemainderTo:n,reKeyTo:l};return new Xt(c)}function nI(t){return Yx(t.from,t.to,t.closeRemainderTo,t.revocationTarget,t.amount,t.note,t.assetIndex,t.suggestedParams,t.rekeyTo)}function Xx(t,e,n,r,i,s,o,a,l,c,f,h,v,I,S,M,F,E){const m={type:Wt.appl,from:t,suggestedParams:e,appIndex:0,appOnComplete:n,appLocalInts:s,appLocalByteSlices:o,appGlobalInts:a,appGlobalByteSlices:l,appApprovalProgram:r,appClearProgram:i,appArgs:c,appAccounts:f,appForeignApps:h,appForeignAssets:v,boxes:E,note:I,lease:S,reKeyTo:M,extraPages:F};return new Xt(m)}function rI(t){return Xx(t.from,t.suggestedParams,t.onComplete,t.approvalProgram,t.clearProgram,t.numLocalInts,t.numLocalByteSlices,t.numGlobalInts,t.numGlobalByteSlices,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.extraPages,t.boxes)}function Jx(t,e,n,r,i,s,o,a,l,c,f,h,v){const I={type:Wt.appl,from:t,suggestedParams:e,appIndex:n,appApprovalProgram:r,appOnComplete:Br.UpdateApplicationOC,appClearProgram:i,appArgs:s,appAccounts:o,appForeignApps:a,appForeignAssets:l,boxes:v,note:c,lease:f,reKeyTo:h};return new Xt(I)}function iI(t){return Jx(t.from,t.suggestedParams,t.appIndex,t.approvalProgram,t.clearProgram,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function Kx(t,e,n,r,i,s,o,a,l,c,f){const h={type:Wt.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Br.DeleteApplicationOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:a,lease:l,reKeyTo:c};return new Xt(h)}function sI(t){return Kx(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function Hx(t,e,n,r,i,s,o,a,l,c,f){const h={type:Wt.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Br.OptInOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:a,lease:l,reKeyTo:c};return new Xt(h)}function oI(t){return Hx(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function qx(t,e,n,r,i,s,o,a,l,c,f){const h={type:Wt.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Br.CloseOutOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:a,lease:l,reKeyTo:c};return new Xt(h)}function aI(t){return qx(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function Qx(t,e,n,r,i,s,o,a,l,c,f){const h={type:Wt.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Br.ClearStateOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:a,lease:l,reKeyTo:c};return new Xt(h)}function lI(t){return Qx(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function eb(t,e,n,r,i,s,o,a,l,c,f){const h={type:Wt.appl,from:t,suggestedParams:e,appIndex:n,appOnComplete:Br.NoOpOC,appArgs:r,appAccounts:i,appForeignApps:s,appForeignAssets:o,boxes:f,note:a,lease:l,reKeyTo:c};return new Xt(h)}function cI(t){return eb(t.from,t.suggestedParams,t.appIndex,t.appArgs,t.accounts,t.foreignApps,t.foreignAssets,t.note,t.lease,t.rekeyTo,t.boxes)}function tb(t){const e={type:Wt.appl,from:t.from,suggestedParams:t.suggestedParams,appIndex:t.appIndex,appOnComplete:t.onComplete,appLocalInts:t.numLocalInts,appLocalByteSlices:t.numLocalByteSlices,appGlobalInts:t.numGlobalInts,appGlobalByteSlices:t.numGlobalByteSlices,appApprovalProgram:t.approvalProgram,appClearProgram:t.clearProgram,appArgs:t.appArgs,appAccounts:t.accounts,appForeignApps:t.foreignApps,appForeignAssets:t.foreignAssets,boxes:t.boxes,note:t.note,lease:t.lease,reKeyTo:t.rekeyTo,extraPages:t.extraPages};return new Xt(e)}function uI(t){return(e,n)=>{const r=[];for(const i of n)r.push(e[i].signTxn(t.sk));return Promise.resolve(r)}}function dI(t){return(e,n)=>{const r=[];for(const i of n){const{blob:s}=Lm(e[i],t);r.push(s)}return Promise.resolve(r)}}function fI(t,e){return(n,r)=>{const i=[];for(const s of r){const o=n[s],a=[];for(const l of e){const{blob:c}=Wx(o,t,l);a.push(c)}a.length>1?i.push(Rd(a)):i.push(a[0])}return Promise.resolve(i)}}function hI(){return(t,e)=>{const n=[];for(const r of e)n.push(Hv(t[r]));return Promise.resolve(n)}}function wp(t){return typeof t=="object"&&Object.keys(t).length===2&&typeof t.txn=="object"&&typeof t.signer=="function"}const cs=2**16-1,nb=32,rb=1,ib=1,Wn=2,pI=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,gI=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class Bn{static from(e){if(e.endsWith("[]")){const n=Bn.from(e.slice(0,e.length-2));return new Nd(n)}if(e.endsWith("]")){const n=e.match(pI);if(n.length!==3)throw new Error(`malformed static array string: ${e}`);const r=n[2],i=parseInt(r,10);if(i>cs)throw new Error(`array length exceeds limit ${cs}`);const s=Bn.from(n[1]);return new Td(s,i)}if(e.startsWith("uint")){const n=s=>[...s].every(o=>"0123456789".includes(o)),r=e.slice(4,e.length);if(!n(r))throw new Error(`malformed uint string: ${r}`);const i=parseInt(r,10);if(i>cs)throw new Error(`malformed uint string: ${i}`);return new us(i)}if(e==="byte")return new kd;if(e.startsWith("ufixed")){const n=e.match(gI);if(n.length!==3)throw new Error(`malformed ufixed type: ${e}`);const r=parseInt(n[1],10),i=parseInt(n[2],10);return new Fd(r,i)}if(e==="bool")return new ii;if(e==="address")return new fl;if(e==="string")return new Bd;if(e.length>=2&&e[0]==="("&&e[e.length-1]===")"){const n=fi.parseTupleContent(e.slice(1,e.length-1)),r=[];for(let i=0;i<n.length;i++){const s=Bn.from(n[i]);r.push(s)}return new fi(r)}throw new Error(`cannot convert a string ${e} to an ABI type`)}}class us extends Bn{constructor(e){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported uint type bitSize: ${e}`);this.bitSize=e}toString(){return`uint${this.bitSize}`}equals(e){return e instanceof us&&this.bitSize===e.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return bs(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return Bm(e)}}class Fd extends Bn{constructor(e,n){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported ufixed type bitSize: ${e}`);if(n>160||n<1)throw new Error(`unsupported ufixed type precision: ${n}`);this.bitSize=e,this.precision=n}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(e){return e instanceof Fd&&this.bitSize===e.bitSize&&this.precision===e.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return bs(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return Bm(e)}}class fl extends Bn{toString(){return"address"}equals(e){return e instanceof fl}isDynamic(){return!1}byteLen(){return nb}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(typeof e=="string")return bt(e).publicKey;if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return e}decode(e){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return ht(e)}}class ii extends Bn{toString(){return"bool"}equals(e){return e instanceof ii}isDynamic(){return!1}byteLen(){return ib}encode(e){if(typeof e!="boolean")throw new Error(`Cannot encode value as bool: ${e}`);return e?new Uint8Array([128]):new Uint8Array([0])}decode(e){if(e.byteLength!==1)throw new Error("bool string must be 1 byte long");const n=e[0];if(n===128)return!0;if(n===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class kd extends Bn{toString(){return"byte"}equals(e){return e instanceof kd}isDynamic(){return!1}byteLen(){return rb}encode(e){if(typeof e!="number"&&typeof e!="bigint")throw new Error(`Cannot encode value as byte: ${e}`);if(typeof e=="bigint"&&(e=Number(e)),e<0||e>255)throw new Error(`${e} cannot be encoded into a byte`);return new Uint8Array([e])}decode(e){if(e.byteLength!==1)throw new Error("byte string must be 1 byte long");return e[0]}}class Bd extends Bn{toString(){return"string"}equals(e){return e instanceof Bd}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${e}`);const n=J.Buffer.from(e),r=bs(n.length,Wn),i=new Uint8Array(n.length+Wn);return i.set(r),i.set(n,Wn),i}decode(e){if(e.length<Wn)throw new Error(`byte string is too short to be decoded. Actual length is ${e.length}, but expected at least ${Wn}`);const r=J.Buffer.from(e).readUIntBE(0,Wn),i=e.slice(Wn,e.length);if(r!==i.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${r}, got ${i.length}`);return J.Buffer.from(i).toString("utf-8")}}class Td extends Bn{constructor(e,n){if(super(),n<0)throw new Error(`static array must have a non negative length: ${n}`);this.childType=e,this.staticLength=n}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(e){return e instanceof Td&&this.staticLength===e.staticLength&&this.childType.equals(e.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===ii?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${e.length}`);return this.toABITupleType().encode(e)}decode(e){return this.toABITupleType().decode(e)}toABITupleType(){return new fi(Array(this.staticLength).fill(this.childType))}}class Nd extends Bn{constructor(e){super(),this.childType=e}toString(){return`${this.childType.toString()}[]`}equals(e){return e instanceof Nd&&this.childType.equals(e.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const n=this.toABITupleType(e.length),r=n.encode(e),i=bs(n.childTypes.length,Wn);return dn(i,r)}decode(e){const r=J.Buffer.from(e).readUIntBE(0,Wn);return this.toABITupleType(r).decode(e.slice(Wn,e.length))}toABITupleType(e){return new fi(Array(e).fill(this.childType))}}class fi extends Bn{constructor(e){if(super(),e.length>=cs)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=e}toString(){const e=[];for(let n=0;n<this.childTypes.length;n++)e[n]=this.childTypes[n].toString();return`(${e.join(",")})`}equals(e){return e instanceof fi&&this.childTypes.length===e.childTypes.length&&this.childTypes.every((n,r)=>n.equals(e.childTypes[r]))}isDynamic(){const e=n=>n.isDynamic();return this.childTypes.some(e)}byteLen(){let e=0;for(let n=0;n<this.childTypes.length;n++)if(this.childTypes[n].constructor===ii){const r=Vo(this.childTypes,n,1),i=r+1;n+=r,e+=Math.trunc((i+7)/8)}else{const r=this.childTypes[n].byteLen();e+=r}return e}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const n=Array.from(e);if(e.length>cs)throw new Error("length of tuple array should not exceed a uint16");const r=this.childTypes,i=[],s=[],o=new Map;let a=0;for(;a<r.length;){const f=r[a];if(f.isDynamic())o.set(i.length,!0),i.push(new Uint8Array([0,0])),s.push(f.encode(n[a]));else{if(f.constructor===ii){const h=Vo(r,a,-1);let v=Vo(r,a,1);if(h%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");v=Math.min(7,v);const I=mI(n.slice(a,a+v+1));i.push(bs(I,1)),a+=v}else{const h=f.encode(n[a]);i.push(h)}o.set(a,!1),s.push(new Uint8Array)}a+=1}let l=0;for(const f of i)l+=f.length;let c=0;for(let f=0;f<i.length;f++){if(o.get(f)){const h=l+c;if(h>cs)throw new Error(`byte length of ${h} should not exceed a uint16`);i[f]=bs(h,Wn)}c+=s[f].length}return dn(...i,...s)}decode(e){const n=this.childTypes,r=[],i=[];let s=0,o=0;const a=J.Buffer.from(e);for(;s<n.length;){const f=n[s];if(f.isDynamic()){if(e.slice(o,e.length).length<Wn)throw new Error("dynamic type in tuple is too short to be decoded");const h=a.readUIntBE(o,Wn);if(r.length>0&&(r[r.length-1].right=h,h<r[r.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const v={left:h,right:-1};r.push(v),i.push(null),o+=Wn}else if(f.constructor===ii){const h=Vo(this.childTypes,s,-1);let v=Vo(this.childTypes,s,1);if(h%8!==0)throw new Error("expected before bool number mod 8 === 0");v=Math.min(7,v);for(let I=0;I<=v;I++){const S=128>>I;(e[o]&S)>0?i.push(new Uint8Array([128])):i.push(new Uint8Array([0]))}s+=v,o+=1}else{const h=f.byteLen();i.push(e.slice(o,o+h)),o+=h}if(s!==n.length-1&&o>=e.length)throw new Error("input byte not enough to decode");s+=1}if(r.length>0&&(r[r.length-1].right=e.length,o=e.length),o<e.length)throw new Error("input byte not fully consumed");for(let f=0;f<r.length;f++){const h=r[f];if(h.left>h.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(f!==r.length-1&&h.right!==r[f+1].left)throw new Error("dynamic segment should be consecutive")}let l=0;for(let f=0;f<n.length;f++)n[f].isDynamic()&&(i[f]=e.slice(r[l].left,r[l].right),l+=1);const c=[];for(let f=0;f<n.length;f++){const h=n[f].decode(i[f]);c.push(h)}return c}static parseTupleContent(e){if(e.length===0)return[];if(e.endsWith(",")||e.startsWith(","))throw new Error("tuple string should not start with comma");if(e.includes(",,"))throw new Error("tuple string should not have consecutive commas");const n=[];let r=0,i="";for(const s of e)i+=s,s==="("?r+=1:s===")"?r-=1:s===","&&r===0&&(n.push(i.slice(0,i.length-1)),i="");if(i.length!==0&&n.push(i),r!==0)throw new Error("tuple string has mismatched parentheses");return n}}function mI(t){let e=0;if(t.length>8)throw new Error("value list passed in should be no greater than length 8");for(let n=0;n<t.length;n++){const r=t[n];if(typeof r!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");r&&(e|=1<<7-n)}return e}function Vo(t,e,n){let r=0;for(;;){const i=e+n*r;if(t[i].constructor===ii)if(i!==t.length-1&&n===1)r+=1;else if(i>0&&n===-1)r+=1;else break;else{r-=1;break}}return r}var Cr;(function(t){t.any="txn",t.pay="pay",t.keyreg="keyreg",t.acfg="acfg",t.axfer="axfer",t.afrz="afrz",t.appl="appl"})(Cr||(Cr={}));function Gc(t){return t===Cr.any||t===Cr.pay||t===Cr.keyreg||t===Cr.acfg||t===Cr.axfer||t===Cr.afrz||t===Cr.appl}function sb(t,e){return t===Cr.any?!0:e.type&&e.type.toString()===t.toString()}var si;(function(t){t.account="account",t.application="application",t.asset="asset"})(si||(si={}));function Mm(t){return t===si.account||t===si.application||t===si.asset}function yI(t){const e=t.indexOf("(");if(e===-1)throw new Error(`Invalid method signature: ${t}`);let n=-1,r=0;for(let i=e;i<t.length;i++){const s=t[i];if(s==="(")r+=1;else if(s===")"){if(r===0)break;if(r-=1,r===0){n=i;break}}}if(n===-1)throw new Error(`Invalid method signature: ${t}`);return{name:t.slice(0,e),args:fi.parseTupleContent(t.slice(e+1,n)),returns:t.slice(n+1)}}let Ld=class ob{constructor(e){if(typeof e.name!="string"||typeof e.returns!="object"||!Array.isArray(e.args))throw new Error("Invalid ABIMethod parameters");this.name=e.name,this.description=e.desc,this.args=e.args.map(({type:n,name:r,desc:i})=>Gc(n)||Mm(n)?{type:n,name:r,description:i}:{type:Bn.from(n),name:r,description:i}),this.returns={type:e.returns.type==="void"?e.returns.type:Bn.from(e.returns.type),description:e.returns.desc},this.events=e.events,this.readonly=e.readonly}getSignature(){const e=this.args.map(r=>r.type.toString()).join(","),n=this.returns.type.toString();return`${this.name}(${e})${n}`}getSelector(){const e=Vr(this.getSignature());return new Uint8Array(e.slice(0,4))}txnCount(){let e=1;for(const n of this.args)typeof n.type=="string"&&Gc(n.type)&&(e+=1);return e}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:e,name:n,description:r})=>({type:e.toString(),name:n,desc:r})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(e){const{name:n,args:r,returns:i}=yI(e);return new ob({name:n,args:r.map(s=>({type:s})),returns:{type:i}})}};function Wm(t,e){if(t===null||!Array.isArray(t)||!t.every(r=>r instanceof Ld))throw new Error("Methods list provided is null or not the correct type");const n=t.filter(r=>r.name===e);if(n.length>1)throw new Error(`found ${n.length} methods with the same name ${n.map(r=>r.getSignature()).join(",")}`);if(n.length===0)throw new Error(`found 0 methods with the name ${e}`);return n[0]}class wI{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods)||e.networks&&typeof e.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=e.name,this.description=e.desc,this.networks=e.networks?{...e.networks}:{},this.methods=e.methods.map(n=>new Ld(n)),this.events=e.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(e=>e.toJSON()),events:this.events}}getMethodByName(e){return Wm(this.methods,e)}}class vI{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods))throw new Error("Invalid ABIInterface parameters");this.name=e.name,this.description=e.desc,this.methods=e.methods.map(n=>new Ld(n))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(e=>e.toJSON())}}getMethodByName(e){return Wm(this.methods,e)}}const xI=J.Buffer.from([21,31,124,117]),jo=16;var Sn;(function(t){t[t.BUILDING=0]="BUILDING",t[t.BUILT=1]="BUILT",t[t.SIGNED=2]="SIGNED",t[t.SUBMITTED=3]="SUBMITTED",t[t.COMMITTED=4]="COMMITTED"})(Sn||(Sn={}));function _f(t,e,n){if(n!=null&&t===n)return 0;const r=n==null?0:1;for(let i=0;i<e.length;i++)if(t===e[i])return i+r;return e.push(t),e.length-1+r}let Zm=class vi{constructor(){this.status=Sn.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const e=new vi;return e.transactions=this.transactions.map(({txn:n,signer:r})=>({txn:Xt.from_obj_for_encoding({...n.get_obj_for_encoding(),grp:void 0}),signer:r})),e.methodCalls=new Map(this.methodCalls),e}addTransaction(e){if(this.status!==Sn.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===vi.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${vi.MAX_GROUP_SIZE}`);if(e.txn.group&&e.txn.group.some(n=>n!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(e)}addMethodCall({appID:e,method:n,methodArgs:r,sender:i,suggestedParams:s,onComplete:o,approvalProgram:a,clearProgram:l,numGlobalInts:c,numGlobalByteSlices:f,numLocalInts:h,numLocalByteSlices:v,extraPages:I,appAccounts:S,appForeignApps:M,appForeignAssets:F,boxes:E,note:m,lease:x,rekeyTo:G,signer:Z}){if(this.status!==Sn.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+n.txnCount()>vi.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${vi.MAX_GROUP_SIZE}`);if(e===0){if(a==null||l==null||c==null||f==null||h==null||v==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(o===Br.UpdateApplicationOC){if(a==null||l==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(c!=null||f!=null||h!=null||v!=null||I!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(a!=null||l!=null||c!=null||f!=null||h!=null||v!=null||I!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(r==null&&(r=[]),r.length!==n.args.length)throw new Error(`Incorrect number of method arguments. Expected ${n.args.length}, got ${r.length}`);let C=[],D=[];const V=[],Q=[],$=[],Ae=new Map,fe=E||[];for(let q=0;q<r.length;q++){let ae=n.args[q].type;const we=r[q];if(Gc(ae)){if(!wp(we)||!sb(ae,we.txn))throw new Error(`Expected ${ae} TransactionWithSigner for argument at index ${q}`);if(we.txn.group&&we.txn.group.some(ve=>ve!==0))throw new Error("Cannot add a transaction with nonzero group ID");V.push(we);continue}if(wp(we))throw new Error(`Expected non-transaction value for argument at index ${q}`);if(Mm(ae)&&(Ae.set(Q.length,C.length),Q.push(ae),$.push(we),ae=new us(8)),typeof ae=="string")throw new Error(`Unknown ABI type: ${ae}`);C.push(ae),D.push(we)}const be=[],Le=S==null?[]:S.slice(),Ve=M==null?[]:M.slice(),Ge=F==null?[]:F.slice();for(let q=0;q<Q.length;q++){const ae=Q[q],we=$[q];let ve=0;switch(ae){case si.account:{const _e=new fl,ue=_e.decode(_e.encode(we));ve=_f(ue,Le,i);break}case si.application:{const _e=new us(64),ue=_e.decode(_e.encode(we));if(ue>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${ue}`);ve=_f(Number(ue),Ve,e);break}case si.asset:{const _e=new us(64),ue=_e.decode(_e.encode(we));if(ue>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${ue}`);ve=_f(Number(ue),Ge);break}default:throw new Error(`Unknown reference type: ${ae}`)}be.push(ve)}for(let q=0;q<be.length;q++){const ae=Ae.get(q);D[ae]=be[q]}if(C.length>jo-1){const q=C.slice(jo-2),ae=D.slice(jo-2);C=C.slice(0,jo-2),D=D.slice(0,jo-2),C.push(new fi(q)),D.push(ae)}const Pe=[n.getSelector()];for(let q=0;q<C.length;q++)Pe.push(C[q].encode(D[q]));const Y={txn:tb({from:i,appIndex:e,appArgs:Pe,accounts:Le,foreignApps:Ve,foreignAssets:Ge,boxes:fe,onComplete:o??Br.NoOpOC,approvalProgram:a,clearProgram:l,numGlobalInts:c,numGlobalByteSlices:f,numLocalInts:h,numLocalByteSlices:v,extraPages:I,lease:x,note:m,rekeyTo:G,suggestedParams:s}),signer:Z};this.transactions.push(...V,Y),this.methodCalls.set(this.transactions.length-1,n)}buildGroup(){if(this.status===Sn.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&Nx(this.transactions.map(e=>e.txn)),this.status=Sn.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=Sn.SIGNED)return this.signedTxns;const e=this.buildGroup(),n=e.map(l=>l.txn),r=new Map;for(let l=0;l<e.length;l++){const{signer:c}=e[l];r.has(c)||r.set(c,[]),r.get(c).push(l)}const i=Array.from(r),s=await Promise.all(i.map(([l,c])=>l(n,c))),o=e.map(()=>null);for(let l=0;l<i.length;l++){const c=i[l][1],f=s[l];for(let h=0;h<c.length;h++)o[c[h]]=f[h]}if(!o.every(l=>l!=null))throw new Error(`Missing signatures. Got ${o}`);const a=o.map((l,c)=>{try{return qv(l).txn.txID()}catch(f){throw new Error(`Cannot decode signed transaction at index ${c}. ${f}`)}});return this.signedTxns=o,this.txIDs=a,this.status=Sn.SIGNED,o}async submit(e){if(this.status>Sn.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const n=await this.gatherSignatures();return await e.sendRawTransaction(n).do(),this.status=Sn.SUBMITTED,this.txIDs}async simulate(e,n){if(this.status>Sn.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const i=(await this.gatherSignatures()).map(l=>wn(l)),s=n??new Eo({txnGroups:[]});s.txnGroups=[new So({txns:i})];const o=await e.simulateTransactions(s).do(),a=[];for(const[l,c]of this.methodCalls){const f=this.txIDs[l],h=o.txnGroups[0].txnResults[l].txnResult,v={txID:f,rawReturnValue:new Uint8Array,method:c};a.push(vi.parseMethodResponse(c,v,h.get_obj_for_encoding()))}return{methodResults:a,simulateResponse:o}}async execute(e,n){if(this.status===Sn.COMMITTED)throw new Error("Transaction group has already been executed successfully");const r=await this.submit(e);this.status=Sn.SUBMITTED;const i=this.transactions.findIndex((c,f)=>this.methodCalls.has(f)),o=await Rx(e,r[i===-1?0:i],n);this.status=Sn.COMMITTED;const a=o["confirmed-round"],l=[];for(const[c,f]of this.methodCalls){const h=r[c];let v={txID:h,rawReturnValue:new Uint8Array,method:f};try{const I=c===i?o:await e.pendingTransactionInformation(h).do();v=vi.parseMethodResponse(f,v,I)}catch(I){v.decodeError=I}l.push(v)}return{confirmedRound:a,txIDs:r,methodResults:l}}static parseMethodResponse(e,n,r){const i=n;try{if(i.txInfo=r,e.returns.type!=="void"){const s=r.logs||[];if(s.length===0)throw new Error("App call transaction did not log a return value");const o=J.Buffer.from(s[s.length-1],"base64");if(o.byteLength<4||!o.slice(0,4).equals(xI))throw new Error("App call transaction did not log a return value");i.rawReturnValue=new Uint8Array(o.slice(4)),i.returnValue=e.returns.type.decode(n.rawReturnValue)}}catch(s){i.decodeError=s}return i}};Zm.MAX_GROUP_SIZE=16;const ab=J.Buffer.from([77,88]),lb="The transaction sender address and multisig preimage do not match.";function bI(t,e){if(typeof t.from>"u"){const r=tl(e);t.from=ht(r.publicKey)}const n=Wi(t);return{txID:n.txID().toString(),blob:n.signTxn(e)}}function AI(t,e){return new JA(t).signBid(e)}function II(t,e){const n=J.Buffer.from(dn(ab,t));return nl(n,e)}function CI(t,e,n){const r=J.Buffer.from(dn(ab,t)),i=bt(n).publicKey;return xu(r,e,i)}function _I(t){return new Uint8Array(kn(t))}function EI(t){return wn(t)}const SI=new Error(lb),RI=new Error($g),oe=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:fl,ABIArrayDynamicType:Nd,ABIArrayStaticType:Td,ABIBoolType:ii,ABIByteType:kd,ABIContract:wI,ABIInterface:vI,ABIMethod:Ld,get ABIReferenceType(){return si},ABIStringType:Bd,get ABITransactionType(){return Cr},ABITupleType:fi,ABIType:Bn,ABIUfixedType:Fd,ABIUintType:us,ADDR_BYTE_SIZE:nb,ALGORAND_MIN_TX_FEE:pp,Algodv2:J4,AtomicTransactionComposer:Zm,get AtomicTransactionComposerStatus(){return Sn},DryrunResult:J8,ERROR_INVALID_MICROALGOS:RI,ERROR_MULTISIG_BAD_SENDER:SI,INVALID_MICROALGOS_ERROR_MSG:$g,Indexer:km,IntDecoding:vu,Kmd:K4,LENGTH_ENCODE_BYTE_SIZE:Wn,LogicSig:Pi,LogicSigAccount:Zx,MAX_LEN:cs,MULTISIG_BAD_SENDER_ERROR_MSG:lb,get OnApplicationComplete(){return Br},SINGLE_BOOL_SIZE:ib,SINGLE_BYTE_SIZE:rb,SourceMap:G8,Transaction:Xt,get TransactionType(){return Wt},abiCheckTransactionType:sb,abiTypeIsReference:Mm,abiTypeIsTransaction:Gc,algosToMicroalgos:HA,appendSignMultisigTransaction:N8,appendSignRawMultisigSignature:L8,assignGroupID:Nx,bigIntToBytes:bs,bytesToBigInt:Bm,computeGroupID:Tx,createDryrun:j8,createMultisigTransaction:Lx,decodeAddress:bt,decodeObj:EI,decodeSignedTransaction:qv,decodeUint64:EA,decodeUnsignedTransaction:XA,encodeAddress:ht,encodeObj:_I,encodeUint64:jv,encodeUnsignedSimulateTransaction:Hv,encodeUnsignedTransaction:YA,generateAccount:w8,getApplicationAddress:hp,getMethodByName:Wm,indexerModels:d8,instantiateTxnIfNeeded:Wi,isTransactionWithSigner:wp,isValidAddress:zv,logicSigFromByte:O8,makeApplicationCallTxnFromObject:tb,makeApplicationClearStateTxn:Qx,makeApplicationClearStateTxnFromObject:lI,makeApplicationCloseOutTxn:qx,makeApplicationCloseOutTxnFromObject:aI,makeApplicationCreateTxn:Xx,makeApplicationCreateTxnFromObject:rI,makeApplicationDeleteTxn:Kx,makeApplicationDeleteTxnFromObject:sI,makeApplicationNoOpTxn:eb,makeApplicationNoOpTxnFromObject:cI,makeApplicationOptInTxn:Hx,makeApplicationOptInTxnFromObject:oI,makeApplicationUpdateTxn:Jx,makeApplicationUpdateTxnFromObject:iI,makeAssetConfigTxnWithSuggestedParams:jx,makeAssetConfigTxnWithSuggestedParamsFromObject:Q8,makeAssetCreateTxnWithSuggestedParams:Vx,makeAssetCreateTxnWithSuggestedParamsFromObject:q8,makeAssetDestroyTxnWithSuggestedParams:$x,makeAssetDestroyTxnWithSuggestedParamsFromObject:eI,makeAssetFreezeTxnWithSuggestedParams:zx,makeAssetFreezeTxnWithSuggestedParamsFromObject:tI,makeAssetTransferTxnWithSuggestedParams:Yx,makeAssetTransferTxnWithSuggestedParamsFromObject:nI,makeBasicAccountTransactionSigner:uI,makeEmptyTransactionSigner:hI,makeKeyRegistrationTxnWithSuggestedParams:Gx,makeKeyRegistrationTxnWithSuggestedParamsFromObject:H8,makeLogicSigAccountTransactionSigner:dI,makeMultiSigAccountTransactionSigner:fI,makePaymentTxnWithSuggestedParams:Px,makePaymentTxnWithSuggestedParamsFromObject:K8,masterDerivationKeyToMnemonic:C8,mergeMultisigTransactions:Rd,microalgosToAlgos:KA,mnemonicFromSeed:Tm,mnemonicToMasterDerivationKey:I8,mnemonicToSecretKey:b8,modelsv2:l4,multisigAddress:M8,secretKeyToMnemonic:A8,seedFromMnemonic:Nm,signBid:AI,signBytes:II,signLogicSigTransaction:Z8,signLogicSigTransactionObject:Lm,signMultisigTransaction:Wx,signTransaction:bI,tealSign:Dx,tealSignFromProgram:U8,verifyBytes:CI,verifyMultisig:Mx,verifyTealSign:D8,waitForConfirmation:Rx},Symbol.toStringTag,{value:"Module"})),FI="modulepreload",kI=function(t,e){return new URL(t,e).href},w1={},Gi=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=kI(c,r),c in w1)return;w1[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!r)for(let S=o.length-1;S>=0;S--){const M=o[S];if(M.href===c&&(!f||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const I=document.createElement("link");if(I.rel=f?"stylesheet":FI,f||(I.as="script"),I.crossOrigin="",I.href=c,l&&I.setAttribute("nonce",l),document.head.appendChild(I),f)return new Promise((S,M)=>{I.addEventListener("load",S),I.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Ef={},BI=Object.defineProperty,TI=Object.getOwnPropertyNames,Fs=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')}),hl=(t,e)=>function(){return t&&(e=(0,t[TI(t)[0]])(t=0)),e},cb=(t,e)=>{for(var n in e)BI(t,n,{get:e[n],enumerable:!0})},hi,Vi,Va,Wr,vp,lt,Om,Zr,ds,xp,bp,Ap,Yn,is,Ip,Cp,ja,_p,Xn,Ep,Ln,Sp,Rp,Fp,kp,ss,Bp,ei,Tp,Vc,jc,Np,br,Lp,Mp,Ar,os,Wp,Zp,zn=hl({"../../node_modules/.pnpm/@magic-sdk+types@24.18.0/node_modules/@magic-sdk/types/dist/es/index.mjs"(){hi=(t=>(t.MissingApiKey="MISSING_API_KEY",t.ModalNotReady="MODAL_NOT_READY",t.MalformedResponse="MALFORMED_RESPONSE",t.InvalidArgument="INVALID_ARGUMENT",t.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",t.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",t))(hi||{}),Vi=(t=>(t.SyncWeb3Method="SYNC_WEB3_METHOD",t.DuplicateIframe="DUPLICATE_IFRAME",t.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",t.DeprecationNotice="DEPRECATION_NOTICE",t.ProductAnnouncement="ANNOUNCEMENT",t))(Vi||{}),Va=(t=>(t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",t[t.MagicLinkExpired=-10001]="MagicLinkExpired",t[t.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",t[t.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",t[t.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",t[t.UpdateEmailFailed=-10004]="UpdateEmailFailed",t[t.UserRequestEditEmail=-10005]="UserRequestEditEmail",t[t.InactiveRecipient=-10010]="InactiveRecipient",t[t.AccessDeniedToUser=-10011]="AccessDeniedToUser",t[t.RedirectLoginComplete=-10015]="RedirectLoginComplete",t))(Va||{}),Wr=(t=>(t.PROVIDER="magic_3pw_provider",t.ADDRESS="magic_3pw_address",t.CHAIN_ID="magic_3pw_chainId",t))(Wr||{}),vp=(t=>(t.WalletConnected="wallet_connected",t.WalletRejected="wallet_rejected",t.Web3ModalSelected="web3modal_selected",t))(vp||{}),lt=(t=>(t.LoginWithSms="magic_auth_login_with_sms",t.LoginWithEmailOTP="magic_auth_login_with_email_otp",t.LoginWithMagicLink="magic_auth_login_with_magic_link",t.LoginWithCredential="magic_auth_login_with_credential",t.SetAuthorizationToken="magic_auth_set_authorization_token",t.GetIdToken="magic_auth_get_id_token",t.GenerateIdToken="magic_auth_generate_id_token",t.GetMetadata="magic_auth_get_metadata",t.IsLoggedIn="magic_is_logged_in",t.Logout="magic_auth_logout",t.UpdateEmail="magic_auth_update_email",t.UserSettings="magic_auth_settings",t.UserSettingsTestMode="magic_auth_settings_testing_mode",t.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",t.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",t.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",t.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",t.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",t.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",t.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",t.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",t.LogoutTestMode="magic_auth_logout_testing_mode",t.UpdateEmailTestMode="magic_auth_update_email_testing_mode",t.IntermediaryEvent="magic_intermediary_event",t.RequestAccounts="eth_requestAccounts",t.GetInfo="magic_get_info",t.ShowUI="magic_wallet",t.NFTPurchase="magic_nft_purchase",t.NFTCheckout="magic_nft_checkout",t.NFTTransfer="magic_nft_transfer",t.RequestUserInfoWithUI="mc_request_user_info",t.Disconnect="mc_disconnect",t.RecoverAccount="magic_auth_recover_account",t.RecoverAccountTestMode="magic_auth_recover_account_testing_mode",t.MagicBoxHeartBeat="magic_box_heart_beat",t.AutoConnect="mc_auto_connect",t.Login="mc_login",t.EncryptV1="magic_auth_encrypt_v1",t.DecryptV1="magic_auth_decrypt_v1",t.ShowNFTs="magic_show_nfts",t.ShowOnRamp="magic_show_fiat_onramp",t.ShowSendTokensUI="magic_show_send_tokens_ui",t.ShowAddress="magic_show_address",t.ShowBalances="magic_show_balances",t.SendGaslessTransaction="eth_sendGaslessTransaction",t.RevealPK="magic_reveal_key",t.EnableMFA="magic_auth_enable_mfa_flow",t.DisableMFA="magic_auth_disable_mfa_flow",t))(lt||{}),Om=["magic_intermediary_event","magic_nft_checkout","mc_login"],Zr=(t=>(t.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",t.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",t.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",t.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",t.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",t.MAGIC_MG_BOX_SEND_RECEIPT="MAGIC_MG_BOX_SEND_RECEIPT",t.MAGIC_SEND_PRODUCT_ANNOUNCEMENT="MAGIC_SEND_PRODUCT_ANNOUNCEMENT",t.MAGIC_PONG="MAGIC_PONG",t.MAGIC_POPUP_RESPONSE="MAGIC_POPUP_RESPONSE",t.MAGIC_POPUP_OAUTH_VERIFY_RESPONSE="MAGIC_POPUP_OAUTH_VERIFY_RESPONSE",t))(Zr||{}),ds=(t=>(t.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",t.MAGIC_PING="MAGIC_PING",t))(ds||{}),xp=(t=>(t.UpdateEmail="update-email",t.MFA="mfa",t.Recovery="recovery",t))(xp||{}),bp=(t=>(t.Retry="retry",t))(bp||{}),Ap=(t=>(t.EmailSent="email-sent",t.EmailNotDeliverable="email-not-deliverable",t))(Ap||{}),Yn=(t=>(t.VerifyEmailOtp="verify-email-otp",t.VerifyMFACode="verify-mfa-code",t.LostDevice="lost-device",t.VerifyRecoveryCode="verify-recovery-code",t.Cancel="cancel",t))(Yn||{}),is=(t=>(t.VerifySmsOtp="verify-sms-otp",t.Cancel="cancel",t.Retry="retry",t))(is||{}),Ip=(t=>(t.SmsOTPSent="sms-otp-sent",t.InvalidSmsOtp="invalid-sms-otp",t.ExpiredSmsOtp="expired-sms-otp",t))(Ip||{}),Cp=(t=>(t.EmailOTPSent="email-otp-sent",t.InvalidEmailOtp="invalid-email-otp",t.InvalidMfaOtp="invalid-mfa-otp",t.ExpiredEmailOtp="expired-email-otp",t.MfaSentHandle="mfa-sent-handle",t.RecoveryCodeSentHandle="recovery-code-sent-handle",t.InvalidRecoveryCode="invalid-recovery-code",t.RecoveryCodeSuccess="recovery-code-success",t))(Cp||{}),ja=(t=>(t.Retry="device-retry",t))(ja||{}),_p=(t=>(t.DeviceApproved="device-approved",t.DeviceNeedsApproval="device-needs-approval",t.DeviceVerificationLinkExpired="device-verification-link-expired",t.DeviceVerificationEmailSent="device-verification-email-sent",t))(_p||{}),Xn=(t=>(t.Retry="Recency/auth-factor-retry",t.Cancel="Recency/auth-factor-verification-cancel",t.VerifyEmailOtp="Recency/auth-factor-verify-email-otp",t.VerifyMFACode="Recency/verify-mfa-code",t))(Xn||{}),Ep=(t=>(t.PrimaryAuthFactorNeedsVerification="Recency/auth-factor-needs-verification",t.PrimaryAuthFactorVerified="Recency/auth-factor-verified",t.InvalidEmailOtp="Recency/auth-factor-invalid-email-otp",t.EmailExpired="Recency/auth-factor-verification-email-expired",t.EmailSent="Recency/auth-factor-verification-email-sent",t.EmailNotDeliverable="Recency/auth-factor-verification-email-not-deliverable",t))(Ep||{}),Ln=(t=>(t.RetryWithNewEmail="UpdateEmail/retry-with-new-email",t.Cancel="UpdateEmail/new-email-verification-cancel",t.VerifyEmailOtp="UpdateEmail/new-email-verify-otp",t))(Ln||{}),Sp=(t=>(t.NewAuthFactorNeedsVerification="UpdateEmail/new-email-needs-verification",t.EmailUpdated="UpdateEmail/email-updated",t.InvalidEmailOtp="UpdateEmail/new-email-invalid-email-otp",t.EmailExpired="UpdateEmail/new-email-verification-email-expired",t.EmailSent="UpdateEmail/new-email-verification-email-sent",t.EmailNotDeliverable="UpdateEmail/new-email-verification-email-not-deliverable",t.InvalidEmail="UpdateEmail/new-email-invalid",t.EmailAlreadyExists="UpdateEmail/new-email-already-exists",t))(Sp||{}),Rp=(t=>(t.IDTokenCreated="Auth/id-token-created",t))(Rp||{}),Fp=(t=>(t.Cancel="Farcaster/cancel",t))(Fp||{}),kp=(t=>(t.MFASecretGenerated="mfa-secret-generated",t.InvalidMFAOtp="invalid-mfa-otp",t.MFARecoveryCodes="mfa-recovery-codes",t))(kp||{}),ss=(t=>(t.VerifyMFACode="verify-mfa-code",t.Cancel="cancel-mfa-setup",t))(ss||{}),Bp=(t=>(t.MFACodeRequested="mfa-code-requested",t.InvalidMFAOtp="invalid-mfa-otp",t.InvalidRecoveryCode="invalid-recovery-code",t))(Bp||{}),ei=(t=>(t.VerifyMFACode="verify-mfa-code",t.LostDevice="lost-device",t.Cancel="cancel-mfa-disable",t))(ei||{}),Tp=(t=>(t.Harmony="HARMONY",t))(Tp||{}),Vc=(t=>(t.ClosedByUser="closed-by-user",t))(Vc||{}),jc=(t=>(t.ClosedByUser="closed-by-user-on-received",t))(jc||{}),Np=(t=>(t.EnterNewPhoneNumber="enter-new-phone-number",t.EnterOtpCode="enter-otp-code",t.RecoveryFactorAlreadyExists="recovery-factor-already-exists",t.MalformedPhoneNumber="malformed-phone-number",t.InvalidOtpCode="invalid-otp-code",t))(Np||{}),br=(t=>(t.SendNewPhoneNumber="send-new-phone-number",t.SendOtpCode="send-otp-code",t.Cancel="cancel",t.StartEditPhoneNumber="start-edit-phone-number",t))(br||{}),Lp=(t=>(t.PhoneNumber="phone_number",t))(Lp||{}),Mp=(t=>(t.SmsOtpSent="sms-otp-sent",t.LoginThrottled="login-throttled",t.InvalidSmsOtp="invalid-sms-otp",t.SmsVerified="sms-verified",t.AccountRecovered="account-recovered",t.UpdateEmailRequired="update-email-required",t))(Mp||{}),Ar=(t=>(t.Cancel="cancel",t.VerifyOtp="verify-otp-code",t.ResendSms="resend-sms-otp",t.UpdateEmail="update-email",t))(Ar||{}),os=(t=>(t.Success="nft-checkout-success",t.Failure="nft-checkout-failure",t.Initiated="nft-checkout-initiated",t.Disconnect="disconnect",t))(os||{}),Wp=(t=>(t.WalletInfoFetched="Wallet/wallet-info-fetched",t))(Wp||{}),Zp=(t=>(t.CloseMagicWindow="close-magic-window",t))(Zp||{})}});function NI(t){let e={exports:{}};return t(e,e.exports),e.exports}function LI(t){return String.fromCharCode(parseInt(t.slice(1),16))}function MI(t){return`%${`00${t.charCodeAt(0).toString(16)}`.slice(-2)}`}function WI(t){return btoa(encodeURIComponent(t).replace(/%[0-9A-F]{2}/g,LI))}function ZI(t){return decodeURIComponent(Array.from(atob(t),MI).join(""))}function v1(t){return WI(JSON.stringify(t))}function OI(t){return JSON.parse(ZI(t))}function oa(t){return typeof t>"u"}function DI(t){return t===null}function ub(t){return DI(t)||oa(t)}function UI(t){return ub(t)?!1:!oa(t.jsonrpc)&&!oa(t.id)&&(!oa(t.result)||!oa(t.error))}function PI(t){return ub(t)?!1:typeof t=="number"&&Object.values(Va).includes(t)}function $c(t){if(!t)return!0;for(let e in t)if(Object.hasOwnProperty.call(t,e))return!1;return!0}function GI(t,e){return Object.assign(Zt,e),t}function VI(){return new pi(hi.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function Op(){return new pi(hi.ModalNotReady,"Modal is not ready.")}function jI(){return new pi(hi.MalformedResponse,"Response from the Magic iframe is malformed.")}function $I(t){return new pi(hi.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${t}\` can be accessed. Do not invoke \`Extension.${t}\` inside an extension constructor.`)}function zI(t){let e=`Some extensions are incompatible with \`${Zt.sdkName}@${Zt.version}\`:`;return t.filter(n=>typeof n.compat<"u"&&n.compat!==null).forEach(n=>{let r=n.compat[Zt.sdkName];typeof r=="string"?e+=`
  - Extension \`${n.name}\` supports version(s) \`${r}\``:r||(e+=`
  - Extension \`${n.name}\` does not support ${Zt.platform} environments.`)}),new pi(hi.IncompatibleExtensions,e)}function YI(t){let e=n=>{let r=n+1,i=r%10,s=r%100;return i===1&&s!==11?`${r}st`:i===2&&s!==12?`${r}nd`:i===3&&s!==13?`${r}rd`:`${r}th`};return new pi(hi.InvalidArgument,`Invalid ${e(t.argument)} argument given to \`${t.procedure}\`.
  Expected: \`${t.expected}\`
  Received: \`${t.received}\``)}function XI(){return new As(Vi.DuplicateIframe,"Duplicate iframes found.")}function JI(){return new As(Vi.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.")}function KI(){return new As(Vi.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${Zt.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`)}function $o(t){let{method:e,removalVersions:n,useInstead:r}=t,i=n[Zt.sdkName],s=r?` Use \`${r}\` instead.`:"",o=`\`${e}\` will be removed from \`${Zt.sdkName}\` in version \`${i}\`.${s}`;return new As(Vi.DeprecationNotice,o)}function*HI(){let t=0;for(;;)t<Number.MAX_SAFE_INTEGER?yield++t:t=0}function db(){return bb.next().value}function fb(t){return Object.defineProperty(t,Dm,{value:!0,enumerable:!1}),t}function qI(t){return!!t[Dm]}function Zl(t){var e,n,r;return qI(t)||(t.jsonrpc=(e=t.jsonrpc)!=null?e:"2.0",t.id=db(),t.method=(n=t.method)!=null?n:"noop",t.params=(r=t.params)!=null?r:[],fb(t)),t}function Et(t,e=[]){return fb({params:e,method:t,jsonrpc:"2.0",id:db()})}function hb(){let t=new Ab;return{emitter:t,createChainingEmitterMethod:(e,n)=>(...r)=>(t[e].apply(t,r),n),createBoundEmitterMethod:e=>(...n)=>t[e].apply(t,n)}}function pb(t){return!!t[Um]}function Nr(t){let e=gb(t),{createBoundEmitterMethod:n,createChainingEmitterMethod:r}=hb(),i=Symbol("Promise.then"),s=Symbol("Promise.catch"),o=Symbol("Promise.finally"),a=(f,h)=>(...v)=>{let I=h[f].apply(h,v);return l(I)},l=f=>Object.assign(f,{[Um]:!0,[i]:f[i]||f.then,[s]:f[s]||f.catch,[o]:f[o]||f.finally,then:a(i,f),catch:a(s,f),finally:a(o,f),on:r("on",f),once:r("once",f),addListener:r("addListener",f),off:r("off",f),removeListener:r("removeListener",f),removeAllListeners:r("removeAllListeners",f),emit:n("emit"),eventNames:n("eventNames"),listeners:n("listeners"),listenerCount:n("listenerCount")}),c=l(e.then(f=>(c.emit("done",f),c.emit("settled"),f),f=>{throw c.emit("error",f),c.emit("settled"),f}));return c.on(jc.ClosedByUser,()=>{c.emit(Vc.ClosedByUser)}),c}function gb(t){return new Promise((e,n)=>{let r=t(e,n);Promise.resolve(r).catch(n)})}function QI(t,e){let[n]=t.split(".").map(Number);return n>=e}function wi(t){return(...e)=>nn(this,null,function*(){return Pl||(Pl=yield Zt.configureStorage()),yield Pl.ready(),Pl[t](...e)})}function eC(){let t=window.crypto.getRandomValues(new Uint8Array(16));t[6]=t[6]&15|64,t[8]=t[8]&191|128;let e="";return e+=t[0].toString(16),e+=t[1].toString(16),e+=t[2].toString(16),e+=t[3].toString(16),e+="-",e+=t[4].toString(16),e+=t[5].toString(16),e+="-",e+=t[6].toString(16),e+=t[7].toString(16),e+="-",e+=t[8].toString(16),e+=t[9].toString(16),e+="-",e+=t[10].toString(16),e+=t[11].toString(16),e+=t[12].toString(16),e+=t[13].toString(16),e+=t[14].toString(16),e+=t[15].toString(16),e}function Md(){let t=typeof window<"u"&&!!window.crypto,e=t&&!!window.crypto.subtle;return t&&e}function tC(){return nn(this,null,function*(){let t=yield nC();if(!t){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:e}=window.crypto,n=yield er(Pm);if(!n||!e){console.info("unable to find private key or webcrypto unsupported");return}let r={iat:Math.floor(new Date().getTime()/1e3),jti:eC()},i={typ:"dpop+jwt",alg:"ES256",jwk:t},s={protected:x1(JSON.stringify(i)),claims:x1(JSON.stringify(r))},o=iC(`${s.protected}.${s.claims}`),a={name:Up,hash:{name:"SHA-256"}},l=oC(new Uint8Array(yield e.sign(a,n,o)));return`${s.protected}.${s.claims}.${l}`})}function nC(){return nn(this,null,function*(){if(!Md()){console.info("webcrypto is not supported");return}return(yield er(Yc))||(yield rC()),er(Yc)})}function rC(){return nn(this,null,function*(){let{subtle:t}=window.crypto,e=yield t.generateKey(Ib,!1,["sign"]),n=yield t.exportKey("jwk",e.publicKey);yield oi(Pm,e.privateKey),yield oi(Yc,n)})}function x1(t){return mb(sC(t))}function iC(t){return new TextEncoder().encode(t)}function mb(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function sC(t){return encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(e,n)=>String.fromCharCode(parseInt(n,16)))}function oC(t){let e="";return t.forEach(n=>{e+=String.fromCharCode(n)}),mb(e)}function Sf(){return nn(this,null,function*(){let t=[];yield Dp((e,n,r)=>{n.startsWith(`${Wd}_`)&&t.push(n)});for(let e of t)yield aa(e)})}function yb(t){let e="",n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i++)e+=String.fromCharCode(n[i]);return window.btoa(e)}function wb(t){let e=window.atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}function aC(){return nn(this,null,function*(){if(!Md()){console.info("webcrypto is not supported");return}let{crypto:t}=window;return(yield er(Od))||t.getRandomValues(new Uint8Array(12))})}function lC(){return nn(this,null,function*(){if(!Md()){console.info("webcrypto is not supported");return}let{subtle:t}=window.crypto;return(yield er(Zd))||(yield t.generateKey({name:Dd,length:Cb},!1,["encrypt","decrypt"]))})}function cC(t,e){return nn(this,null,function*(){let n=yield aC(),r=yield lC();if(!n||!r||!t)return;let i=wb(t),{subtle:s}=window.crypto,o=yield s.encrypt({name:Dd,iv:n},r,i),a=yb(o);yield oi(`${Wd}_${e}`,a),yield oi(Zd,r),yield oi(Od,n)})}function uC(t){return nn(this,null,function*(){let e=yield er(`${Wd}_${t}`),n=yield er(Od),r=yield er(Zd);if(!n||!e||!r||!Md())return;let{subtle:i}=window.crypto,s=yield i.decrypt({name:Dd,iv:n},r,wb(e));return yb(s)})}function zc(t,e){return e?new URL(t,e):new URL(t)}function dC(t){let e=Object.getPrototypeOf(t),n=[e];for(;e!==Hr.prototype;)e=Object.getPrototypeOf(e),n.push(e);return n}function b1(t){return t.compat&&t.compat[Zt.sdkName]!=null?typeof t.compat[Zt.sdkName]=="string"?vb(xb(Zt.version),t.compat[Zt.sdkName]):!!t.compat[Zt.sdkName]:!0}function fC(t,e,n){return!e&&!n?`${t}_eth_mainnet`:n?`${t}_${JSON.stringify(n)}`:e?typeof e=="string"?`${t}_eth_${e}`:`${t}_${e.rpcUrl}_${e.chainId}_${e.chainType}`:`${t}_unknown`}function hC(t){var e;let n=(e=t==null?void 0:t.extensions)!=null?e:[],r={},i=[];if(Array.isArray(n)?n.forEach(s=>{b1(s)?(s.init(this),(s.name||s.name!==Zi.Anonymous)&&(this[s.name]=s),s instanceof Zi.Internal&&($c(s.config)||(r[s.name]=s.config))):i.push(s)}):Object.keys(n).forEach(s=>{if(b1(n[s])){n[s].init(this);let o=n[s];this[s]=o,o instanceof Zi.Internal&&($c(o.config)||(r[n[s].name]=o.config))}else i.push(n[s])}),i.length)throw zI(i);return r}function pC(t,e){return e&&Array.isArray(t)?t.find(n=>n.id===e):t}function gC(t,e){var n;let r=(n=e.data.response)==null?void 0:n.id,i=pC(t,r);if(r&&i){let s=new cc(i).applyResult(e.data.response.result).applyError(e.data.response.error);return{id:r,response:s}}return{}}function mC(t,e,n){return nn(this,null,function*(){var r;let i=yield er("rt"),s;if(Zt.platform==="web")try{s=(r=yield er("jwt"))!=null?r:yield tC()}catch(l){console.error("webcrypto error",l)}let o={msgType:t,payload:e};s&&(o.jwt=s),s&&i&&(o.rt=i);let a=yield uC(n);return a&&(o.deviceShare=a),o})}function yC(t){return nn(this,null,function*(){!t.data.rt||(yield oi("rt",t.data.rt))})}var A1,zo,I1,C1,_1,E1,Rf,S1,Ff,R1,kf,Yo,Ol,F1,k1,B1,T1,nn,N1,L1,Dl,M1,Bt,ks,Bf,Tf,W1,Z1,Nf,Xo,Lf,Mf,Bs,pn,O1,Xi,D1,U1,P1,G1,V1,j1,$1,z1,Y1,X1,J1,K1,H1,Ul,Ts,Ns,Wf,Zf,Ji,vn,gn,q1,Q1,ey,Of,ty,En,ny,ry,iy,sy,oy,ay,ly,cy,uy,dy,vb,fy,Df,Uf,hy,py,Jo,Ko,xb,Zt,gy,pi,Ds,As,ac,lc,bb,Dm,cc,my,Ab,Um,Hr,Ls,yy,Pf,Pl,er,oi,aa,wy,vy,xy,by,Dp,Pm,Yc,Up,Ay,Ib,Wd,Zd,Od,Dd,Cb,Iy,Cy,_y,Ho,Ki,Ey,Gf,Vf,Sy,Zi,Ry,qo,Pp,_b,Gp=hl({"../../node_modules/.pnpm/@magic-sdk+provider@28.20.0_localforage@1.10.0/node_modules/@magic-sdk/provider/dist/es/index.mjs"(){zn(),zn(),zn(),zn(),zn(),zn(),zn(),zn(),zn(),zn(),zn(),A1=Object.create,zo=Object.defineProperty,I1=Object.defineProperties,C1=Object.getOwnPropertyDescriptor,_1=Object.getOwnPropertyDescriptors,E1=Object.getOwnPropertyNames,Rf=Object.getOwnPropertySymbols,S1=Object.getPrototypeOf,Ff=Object.prototype.hasOwnProperty,R1=Object.prototype.propertyIsEnumerable,kf=(t,e,n)=>e in t?zo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yo=(t,e)=>{for(var n in e||(e={}))Ff.call(e,n)&&kf(t,n,e[n]);if(Rf)for(var n of Rf(e))R1.call(e,n)&&kf(t,n,e[n]);return t},Ol=(t,e)=>I1(t,_1(e)),F1=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),k1=(t,e)=>{for(var n in e)zo(t,n,{get:e[n],enumerable:!0})},B1=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of E1(e))!Ff.call(t,i)&&i!==n&&zo(t,i,{get:()=>e[i],enumerable:!(r=C1(e,i))||r.enumerable});return t},T1=(t,e,n)=>(n=t!=null?A1(S1(t)):{},B1(e||!t||!t.__esModule?zo(n,"default",{value:t,enumerable:!0}):n,t)),nn=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())}),N1=F1((t,e)=>{var n=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,v,I){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new s(h,v||c,I),M=r?r+f:f;return c._events[M]?c._events[M].fn?c._events[M]=[c._events[M],S]:c._events[M].push(S):(c._events[M]=S,c._eventsCount++),c}function a(c,f){--c._eventsCount===0?c._events=new i:delete c._events[f]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)n.call(f,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=r?r+c:c,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,I=h.length,S=new Array(I);v<I;v++)S[v]=h[v].fn;return S},l.prototype.listenerCount=function(c){var f=r?r+c:c,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(c,f,h,v,I,S){var M=r?r+c:c;if(!this._events[M])return!1;var F=this._events[M],E=arguments.length,m,x;if(F.fn){switch(F.once&&this.removeListener(c,F.fn,void 0,!0),E){case 1:return F.fn.call(F.context),!0;case 2:return F.fn.call(F.context,f),!0;case 3:return F.fn.call(F.context,f,h),!0;case 4:return F.fn.call(F.context,f,h,v),!0;case 5:return F.fn.call(F.context,f,h,v,I),!0;case 6:return F.fn.call(F.context,f,h,v,I,S),!0}for(x=1,m=new Array(E-1);x<E;x++)m[x-1]=arguments[x];F.fn.apply(F.context,m)}else{var G=F.length,Z;for(x=0;x<G;x++)switch(F[x].once&&this.removeListener(c,F[x].fn,void 0,!0),E){case 1:F[x].fn.call(F[x].context);break;case 2:F[x].fn.call(F[x].context,f);break;case 3:F[x].fn.call(F[x].context,f,h);break;case 4:F[x].fn.call(F[x].context,f,h,v);break;default:if(!m)for(Z=1,m=new Array(E-1);Z<E;Z++)m[Z-1]=arguments[Z];F[x].fn.apply(F[x].context,m)}}return!0},l.prototype.on=function(c,f,h){return o(this,c,f,h,!1)},l.prototype.once=function(c,f,h){return o(this,c,f,h,!0)},l.prototype.removeListener=function(c,f,h,v){var I=r?r+c:c;if(!this._events[I])return this;if(!f)return a(this,I),this;var S=this._events[I];if(S.fn)S.fn===f&&(!v||S.once)&&(!h||S.context===h)&&a(this,I);else{for(var M=0,F=[],E=S.length;M<E;M++)(S[M].fn!==f||v&&!S[M].once||h&&S[M].context!==h)&&F.push(S[M]);F.length?this._events[I]=F.length===1?F[0]:F:a(this,I)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&a(this,f)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,typeof e<"u"&&(e.exports=l)}),L1=Number.MAX_SAFE_INTEGER||9007199254740991,Dl={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:L1,MAX_SAFE_COMPONENT_LENGTH:16},M1=typeof process=="object"&&Ef&&Ef.NODE_DEBUG&&/\bsemver\b/i.test(Ef.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},Bt=M1,ks=NI(function(t,e){let{MAX_SAFE_COMPONENT_LENGTH:n}=Dl,r=(e=t.exports={}).re=[],i=e.src=[],s=e.t={},o=0,a=(l,c,f)=>{let h=o++;Bt(h,c),s[l]=h,i[h]=c,r[h]=new RegExp(c,f?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})\\.(${i[s.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})\\.(${i[s.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${i[s.NUMERICIDENTIFIER]}|${i[s.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${i[s.NUMERICIDENTIFIERLOOSE]}|${i[s.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${i[s.PRERELEASEIDENTIFIER]}(?:\\.${i[s.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${i[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[s.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${i[s.BUILDIDENTIFIER]}(?:\\.${i[s.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${i[s.MAINVERSION]}${i[s.PRERELEASE]}?${i[s.BUILD]}?`),a("FULL",`^${i[s.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${i[s.MAINVERSIONLOOSE]}${i[s.PRERELEASELOOSE]}?${i[s.BUILD]}?`),a("LOOSE",`^${i[s.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${i[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${i[s.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:\\.(${i[s.XRANGEIDENTIFIER]})(?:${i[s.PRERELEASE]})?${i[s.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[s.XRANGEIDENTIFIERLOOSE]})(?:${i[s.PRERELEASELOOSE]})?${i[s.BUILD]}?)?)?`),a("XRANGE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${i[s.GTLT]}\\s*${i[s.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",i[s.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${i[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${i[s.LONETILDE]}${i[s.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${i[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${i[s.LONECARET]}${i[s.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${i[s.LONECARET]}${i[s.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${i[s.GTLT]}\\s*(${i[s.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${i[s.GTLT]}\\s*(${i[s.LOOSEPLAIN]}|${i[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${i[s.XRANGEPLAIN]})\\s+-\\s+(${i[s.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${i[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[s.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0.0.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),Bf=/^[0-9]+$/,Tf=(t,e)=>{let n=Bf.test(t),r=Bf.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},W1=(t,e)=>Tf(e,t),Z1={compareIdentifiers:Tf,rcompareIdentifiers:W1},{MAX_LENGTH:Nf,MAX_SAFE_INTEGER:Xo}=Dl,{re:Lf,t:Mf}=ks,{compareIdentifiers:Bs}=Z1,pn=class{constructor(t,e){if(e&&typeof e=="object"||(e={loose:!!e,includePrerelease:!1}),t instanceof pn){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>Nf)throw new TypeError(`version is longer than ${Nf} characters`);Bt("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;let n=t.trim().match(e.loose?Lf[Mf.LOOSE]:Lf[Mf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Xo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Xo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Xo||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(r=>{if(/^[0-9]+$/.test(r)){let i=+r;if(i>=0&&i<Xo)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Bt("SemVer.compare",this.version,this.options,t),!(t instanceof pn)){if(typeof t=="string"&&t===this.version)return 0;t=new pn(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof pn||(t=new pn(t,this.options)),Bs(this.major,t.major)||Bs(this.minor,t.minor)||Bs(this.patch,t.patch)}comparePre(t){if(t instanceof pn||(t=new pn(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{let n=this.prerelease[e],r=t.prerelease[e];if(Bt("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n!==r)return Bs(n,r)}while(++e)}compareBuild(t){t instanceof pn||(t=new pn(t,this.options));let e=0;do{let n=this.build[e],r=t.build[e];if(Bt("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n!==r)return Bs(n,r)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}},O1=(t,e,n)=>new pn(t,n).compare(new pn(e,n)),Xi=O1,D1=(t,e,n)=>Xi(t,e,n)===0,U1=D1,P1=(t,e,n)=>Xi(t,e,n)!==0,G1=P1,V1=(t,e,n)=>Xi(t,e,n)>0,j1=V1,$1=(t,e,n)=>Xi(t,e,n)>=0,z1=$1,Y1=(t,e,n)=>Xi(t,e,n)<0,X1=Y1,J1=(t,e,n)=>Xi(t,e,n)<=0,K1=J1,H1=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return U1(t,n,r);case"!=":return G1(t,n,r);case">":return j1(t,n,r);case">=":return z1(t,n,r);case"<":return X1(t,n,r);case"<=":return K1(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}},Ul=H1,Ts=Symbol("SemVer ANY"),Ns=class{static get ANY(){return Ts}constructor(t,e){if(e&&typeof e=="object"||(e={loose:!!e,includePrerelease:!1}),t instanceof Ns){if(t.loose===!!e.loose)return t;t=t.value}Bt("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===Ts?this.value="":this.value=this.operator+this.semver.version,Bt("comp",this)}parse(t){let e=this.options.loose?Wf[Zf.COMPARATORLOOSE]:Wf[Zf.COMPARATOR],n=t.match(e);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new pn(n[2],this.options.loose):this.semver=Ts}toString(){return this.value}test(t){if(Bt("Comparator.test",t,this.options.loose),this.semver===Ts||t===Ts)return!0;if(typeof t=="string")try{t=new pn(t,this.options)}catch{return!1}return Ul(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof Ns))throw new TypeError("a Comparator is required");if(e&&typeof e=="object"||(e={loose:!!e,includePrerelease:!1}),this.operator==="")return this.value===""||new Ji(t.value,e).test(this.value);if(t.operator==="")return t.value===""||new Ji(this.value,e).test(t.semver);let n=!(this.operator!==">="&&this.operator!==">"||t.operator!==">="&&t.operator!==">"),r=!(this.operator!=="<="&&this.operator!=="<"||t.operator!=="<="&&t.operator!=="<"),i=this.semver.version===t.semver.version,s=!(this.operator!==">="&&this.operator!=="<="||t.operator!==">="&&t.operator!=="<="),o=Ul(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),a=Ul(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return n||r||i&&s||o||a}},{re:Wf,t:Zf}=ks,Ji=class{constructor(t,e){if(e&&typeof e=="object"||(e={loose:!!e,includePrerelease:!1}),t instanceof Ji)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new Ji(t.raw,e);if(t instanceof Ns)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){let{loose:e}=this.options;t=t.trim();let n=e?vn[gn.HYPHENRANGELOOSE]:vn[gn.HYPHENRANGE];t=t.replace(n,uy(this.options.includePrerelease)),Bt("hyphen replace",t),t=t.replace(vn[gn.COMPARATORTRIM],q1),Bt("comparator trim",t,vn[gn.COMPARATORTRIM]),t=(t=(t=t.replace(vn[gn.TILDETRIM],Q1)).replace(vn[gn.CARETTRIM],ey)).split(/\s+/).join(" ");let r=e?vn[gn.COMPARATORLOOSE]:vn[gn.COMPARATOR];return t.split(" ").map(i=>ty(i,this.options)).join(" ").split(/\s+/).map(i=>cy(i,this.options)).filter(this.options.loose?i=>!!i.match(r):()=>!0).map(i=>new Ns(i,this.options))}intersects(t,e){if(!(t instanceof Ji))throw new TypeError("a Range is required");return this.set.some(n=>Of(n,e)&&t.set.some(r=>Of(r,e)&&n.every(i=>r.every(s=>i.intersects(s,e)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new pn(t,this.options)}catch{return!1}for(let e=0;e<this.set.length;e++)if(dy(this.set[e],t,this.options))return!0;return!1}},{re:vn,t:gn,comparatorTrimReplace:q1,tildeTrimReplace:Q1,caretTrimReplace:ey}=ks,Of=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},ty=(t,e)=>(Bt("comp",t,e),t=iy(t,e),Bt("caret",t),t=ny(t,e),Bt("tildes",t),t=oy(t,e),Bt("xrange",t),t=ly(t,e),Bt("stars",t),t),En=t=>!t||t.toLowerCase()==="x"||t==="*",ny=(t,e)=>t.trim().split(/\s+/).map(n=>ry(n,e)).join(" "),ry=(t,e)=>{let n=e.loose?vn[gn.TILDELOOSE]:vn[gn.TILDE];return t.replace(n,(r,i,s,o,a)=>{let l;return Bt("tilde",t,r,i,s,o,a),En(i)?l="":En(s)?l=`>=${i}.0.0 <${+i+1}.0.0-0`:En(o)?l=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(Bt("replaceTilde pr",a),l=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):l=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Bt("tilde return",l),l})},iy=(t,e)=>t.trim().split(/\s+/).map(n=>sy(n,e)).join(" "),sy=(t,e)=>{Bt("caret",t,e);let n=e.loose?vn[gn.CARETLOOSE]:vn[gn.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,o,a,l)=>{let c;return Bt("caret",t,i,s,o,a,l),En(s)?c="":En(o)?c=`>=${s}.0.0${r} <${+s+1}.0.0-0`:En(a)?c=s==="0"?`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:l?(Bt("replaceCaret pr",l),c=s==="0"?o==="0"?`>=${s}.${o}.${a}-${l} <${s}.${o}.${+a+1}-0`:`>=${s}.${o}.${a}-${l} <${s}.${+o+1}.0-0`:`>=${s}.${o}.${a}-${l} <${+s+1}.0.0-0`):(Bt("no pr"),c=s==="0"?o==="0"?`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Bt("caret return",c),c})},oy=(t,e)=>(Bt("replaceXRanges",t,e),t.split(/\s+/).map(n=>ay(n,e)).join(" ")),ay=(t,e)=>{t=t.trim();let n=e.loose?vn[gn.XRANGELOOSE]:vn[gn.XRANGE];return t.replace(n,(r,i,s,o,a,l)=>{Bt("xRange",t,r,i,s,o,a,l);let c=En(s),f=c||En(o),h=f||En(a),v=h;return i==="="&&v&&(i=""),l=e.includePrerelease?"-0":"",c?r=i===">"||i==="<"?"<0.0.0-0":"*":i&&v?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(l="-0"),r=`${i+s}.${o}.${a}${l}`):f?r=`>=${s}.0.0${l} <${+s+1}.0.0-0`:h&&(r=`>=${s}.${o}.0${l} <${s}.${+o+1}.0-0`),Bt("xRange return",r),r})},ly=(t,e)=>(Bt("replaceStars",t,e),t.trim().replace(vn[gn.STAR],"")),cy=(t,e)=>(Bt("replaceGTE0",t,e),t.trim().replace(vn[e.includePrerelease?gn.GTE0PRE:gn.GTE0],"")),uy=t=>(e,n,r,i,s,o,a,l,c,f,h,v,I)=>`${n=En(r)?"":En(i)?`>=${r}.0.0${t?"-0":""}`:En(s)?`>=${r}.${i}.0${t?"-0":""}`:o?`>=${n}`:`>=${n}${t?"-0":""}`} ${l=En(c)?"":En(f)?`<${+c+1}.0.0-0`:En(h)?`<${c}.${+f+1}.0-0`:v?`<=${c}.${f}.${h}-${v}`:t?`<${c}.${f}.${+h+1}-0`:`<=${l}`}`.trim(),dy=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Bt(t[r].semver),t[r].semver!==Ns.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0},vb=(t,e,n)=>{try{e=new Ji(e,n)}catch{return!1}return e.test(t)},{MAX_LENGTH:fy}=Dl,{re:Df,t:Uf}=ks,hy=(t,e)=>{if(e&&typeof e=="object"||(e={loose:!!e,includePrerelease:!1}),t instanceof pn)return t;if(typeof t!="string"||t.length>fy||!(e.loose?Df[Uf.LOOSE]:Df[Uf.FULL]).test(t))return null;try{return new pn(t,e)}catch{return null}},py=hy,{re:Jo,t:Ko}=ks,xb=(t,e)=>{if(t instanceof pn)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;let n=null;if((e=e||{}).rtl){let r;for(;(r=Jo[Ko.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&r.index+r[0].length===n.index+n[0].length||(n=r),Jo[Ko.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Jo[Ko.COERCERTL].lastIndex=-1}else n=t.match(Jo[Ko.COERCE]);return n===null?null:py(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)},Zt={},gy={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn","@magic-sdk/react-native-bare":"magic-sdk-rn-bare","@magic-sdk/react-native-expo":"magic-sdk-rn-expo"},pi=class extends Error{constructor(t,e){super(`Magic SDK Error: [${t}] ${e}`),this.code=t,this.rawMessage=e,this.__proto__=Error,Object.setPrototypeOf(this,pi.prototype)}},Ds=class extends Error{constructor(t){super(),this.__proto__=Error;let e=Number(t==null?void 0:t.code);this.rawMessage=(t==null?void 0:t.message)||"Internal error",this.code=PI(e)?e:Va.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,this.data=(t==null?void 0:t.data)||void 0,Object.setPrototypeOf(this,Ds.prototype)}},As=class{constructor(t,e){this.code=t,this.rawMessage=e,this.message=`Magic SDK Warning: [${t}] ${e}`}log(){console.warn(this.message)}},ac=class extends Error{constructor(t,e,n,r){super(`Magic Extension Error (${t.name}): [${e}] ${n}`),this.code=e,this.rawMessage=n,this.data=r,this.__proto__=Error,Object.setPrototypeOf(this,ac.prototype)}},lc=class{constructor(t,e,n){this.code=e,this.rawMessage=n,this.message=`Magic Extension Warning (${t.name}): [${e}] ${n}`}log(){console.warn(this.message)}},bb=HI(),Dm=Symbol("Payload pre-processed by Magic SDK"),cc=class{constructor(t){t instanceof cc?(this._jsonrpc=t.payload.jsonrpc,this._id=t.payload.id,this._result=t.payload.result,this._error=t.payload.error):UI(t)?(this._jsonrpc=t.jsonrpc,this._id=t.id,this._result=t.result,this._error=t.error):(this._jsonrpc=t.jsonrpc,this._id=t.id,this._result=void 0,this._error=void 0)}applyError(t){return this._error=t,this}applyResult(t){return this._result=t,this}get hasError(){return typeof this._error<"u"&&this._error!==null}get hasResult(){return typeof this._result<"u"}get payload(){return{jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},my=T1(N1()),Ab=class extends my.default{},Um=Symbol("isPromiEvent"),Hr=class{constructor(t){this.sdk=t}get overlay(){return this.sdk.overlay}request(t){if(this.sdk.thirdPartyWallets.isConnected&&!Om.includes(t.method))return Nr((i,s)=>{this.sdk.thirdPartyWallets.requestOverride(t).then(i).catch(s)});let e=this.overlay.post(ds.MAGIC_HANDLE_REQUEST,Zl(t)),n=Nr((i,s)=>{e.then(o=>{if(r(),o.hasError)s(new Ds(o.payload.error));else if(o.hasResult)i(o.payload.result);else throw jI()}).catch(o=>{r(),s(o)})}),r=this.overlay.on(Zr.MAGIC_HANDLE_EVENT,i=>{var s;let{response:o}=i.data;if(o.id===t.id&&((s=o.result)!=null&&s.event)){let{event:a,params:l=[]}=o.result;n.emit(a,...l)}});return n}createIntermediaryEvent(t,e){return n=>{let r=Et(lt.IntermediaryEvent,[{payloadId:e,eventType:t,args:n}]);this.request(r)}}},Ls={"magic-sdk":"v18.0.0","@magic-sdk/react-native":"v14.0.0","@magic-sdk/react-native-bare":"v19.0.0","@magic-sdk/react-native-expo":"v19.0.0"},yy=class extends Hr{loginWithMagicLink(t){let e=Zt.sdkName==="@magic-sdk/react-native"||Zt.sdkName==="@magic-sdk/react-native-bare"||Zt.sdkName==="@magic-sdk/react-native-expo";if(e&&QI(Zt.version,19))throw new Error("loginWithMagicLink() is deprecated for this package, please utlize a passcode method like loginWithSMS or loginWithEmailOTP instead.");e&&$o({method:"auth.loginWithMagicLink()",removalVersions:Ls,useInstead:"auth.loginWithEmailOTP()"}).log();let{email:n,showUI:r=!0,redirectURI:i,overrides:s,lifespan:o}=t,a=Et(this.sdk.testMode?lt.LoginWithMagicLinkTestMode:lt.LoginWithMagicLink,[{email:n,showUI:r,redirectURI:i,overrides:s,lifespan:o}]);return this.request(a)}loginWithSMS(t){let{phoneNumber:e,showUI:n=!0,lifespan:r}=t,i=Et(this.sdk.testMode?lt.LoginWithSmsTestMode:lt.LoginWithSms,[{phoneNumber:e,showUI:n,lifespan:r}]),s=this.request(i);return!n&&s&&(s.on(is.VerifySmsOtp,o=>{this.createIntermediaryEvent(is.VerifySmsOtp,i.id)(o)}),s.on(is.Cancel,()=>{this.createIntermediaryEvent(is.Cancel,i.id)()})),s}loginWithEmailOTP(t){let{email:e,showUI:n,deviceCheckUI:r,overrides:i,lifespan:s}=t,o=Et(this.sdk.testMode?lt.LoginWithEmailOTPTestMode:lt.LoginWithEmailOTP,[{email:e,showUI:n,deviceCheckUI:r,overrides:i,lifespan:s}]),a=this.request(o);return!r&&a&&a.on(ja.Retry,()=>{this.createIntermediaryEvent(ja.Retry,o.id)()}),!n&&a&&(a.on(Yn.VerifyEmailOtp,l=>{this.createIntermediaryEvent(Yn.VerifyEmailOtp,o.id)(l)}),a.on(Yn.VerifyMFACode,l=>{this.createIntermediaryEvent(Yn.VerifyMFACode,o.id)(l)}),a.on(Yn.LostDevice,()=>{this.createIntermediaryEvent(Yn.LostDevice,o.id)()}),a.on(Yn.VerifyRecoveryCode,l=>{this.createIntermediaryEvent(Yn.VerifyRecoveryCode,o.id)(l)}),a.on(Yn.Cancel,()=>{this.createIntermediaryEvent(Yn.Cancel,o.id)()})),a}loginWithCredential(t){let{credentialOrQueryString:e,lifespan:n}=t||{},r=e??"";if(!e&&Zt.platform==="web"){r=window.location.search;let s=window.location.origin+window.location.pathname;window.history.replaceState(null,"",s)}let i=Et(this.sdk.testMode?lt.LoginWithCredentialTestMode:lt.LoginWithCredential,[r,n]);return this.request(i)}setAuthorizationToken(t){let e=Et(lt.SetAuthorizationToken,[{jwt:t}]);return this.request(e)}updateEmailWithUI(t){let{email:e,showUI:n=!0}=t,r=Et(this.sdk.testMode?lt.UpdateEmailTestMode:lt.UpdateEmail,[{email:e,showUI:n}]),i=this.request(r);return n||(i.on(Xn.Retry,()=>{this.createIntermediaryEvent(Xn.Retry,r.id)()}),i.on(Xn.Cancel,()=>{this.createIntermediaryEvent(Xn.Cancel,r.id)()}),i.on(Xn.VerifyEmailOtp,s=>{this.createIntermediaryEvent(Xn.VerifyEmailOtp,r.id)(s)}),i.on(Xn.VerifyMFACode,s=>{this.createIntermediaryEvent(Xn.VerifyMFACode,r.id)(s)}),i.on(Ln.RetryWithNewEmail,s=>{this.createIntermediaryEvent(Ln.RetryWithNewEmail,r.id)(s)}),i.on(Ln.Cancel,()=>{this.createIntermediaryEvent(Ln.Cancel,r.id)()}),i.on(Ln.VerifyEmailOtp,s=>{this.createIntermediaryEvent(Ln.VerifyEmailOtp,r.id)(s)})),i}},Pf={},k1(Pf,{clear:()=>wy,getItem:()=>er,iterate:()=>Dp,key:()=>xy,keys:()=>by,length:()=>vy,removeItem:()=>aa,setItem:()=>oi}),er=wi("getItem"),oi=wi("setItem"),aa=wi("removeItem"),wy=wi("clear"),vy=wi("length"),xy=wi("key"),by=wi("keys"),Dp=wi("iterate"),Pm="STORE_KEY_PRIVATE_KEY",Yc="STORE_KEY_PUBLIC_JWK",Up="ECDSA",Ay="P-256",Ib={name:Up,namedCurve:Ay},Wd="ds",Zd="ek",Od="iv",Dd="AES-GCM",Cb=256,Iy=class extends Hr{constructor(){super(...arguments),this.localForageIsLoggedInKey="magic_auth_is_logged_in",this.userLoggedOutCallbacks=[]}getIdToken(t){let e=Et(this.sdk.testMode?lt.GetIdTokenTestMode:lt.GetIdToken,[t]);return this.request(e)}generateIdToken(t){let e=Et(this.sdk.testMode?lt.GenerateIdTokenTestMode:lt.GenerateIdToken,[t]);return this.request(e)}getInfo(){let t=Et(lt.GetInfo,[]);return this.request(t)}isLoggedIn(){return Nr((t,e)=>nn(this,null,function*(){try{let n=!1;this.sdk.useStorageCache&&(n=(yield er(this.localForageIsLoggedInKey))==="true",n&&t(!0));let r=Et(this.sdk.testMode?lt.IsLoggedInTestMode:lt.IsLoggedIn),i=yield this.request(r);this.sdk.useStorageCache&&(i?oi(this.localForageIsLoggedInKey,!0):aa(this.localForageIsLoggedInKey),n&&!i&&this.emitUserLoggedOut(!0)),t(i)}catch(n){e(n)}}))}logout(){return aa(this.localForageIsLoggedInKey),Sf(),Nr((t,e)=>nn(this,null,function*(){try{let n=Et(this.sdk.testMode?lt.LogoutTestMode:lt.Logout),r=yield this.request(n);this.sdk.useStorageCache&&this.emitUserLoggedOut(r),t(r)}catch(n){e(n)}}))}requestInfoWithUI(t){let e=Et(lt.RequestUserInfoWithUI,t?[t]:[]);return this.request(e)}showSettings(t){let{showUI:e=!0}=t||{},n=Et(this.sdk.testMode?lt.UserSettingsTestMode:lt.UserSettings,[t]),r=this.request(n);return!e&&r&&(r.on(br.SendNewPhoneNumber,i=>{this.createIntermediaryEvent(br.SendNewPhoneNumber,n.id)(i)}),r.on(br.SendOtpCode,i=>{this.createIntermediaryEvent(br.SendOtpCode,n.id)(i)}),r.on(br.StartEditPhoneNumber,()=>{this.createIntermediaryEvent(br.StartEditPhoneNumber,n.id)()}),r.on(br.Cancel,()=>{this.createIntermediaryEvent(br.Cancel,n.id)()}),r.on(Xn.VerifyEmailOtp,i=>{this.createIntermediaryEvent(Xn.VerifyEmailOtp,n.id)(i)})),r}recoverAccount(t){let{email:e,showUI:n}=t,r=Et(this.sdk.testMode?lt.RecoverAccountTestMode:lt.RecoverAccount,[{email:e,showUI:n}]),i=this.request(r);return!n&&i&&(i.on(Ar.Cancel,()=>{this.createIntermediaryEvent(Ar.Cancel,r.id)()}),i.on(Ar.ResendSms,()=>{this.createIntermediaryEvent(Ar.ResendSms,r.id)()}),i.on(Ar.VerifyOtp,s=>{this.createIntermediaryEvent(Ar.VerifyOtp,r.id)(s)}),i.on(Ar.UpdateEmail,s=>{this.createIntermediaryEvent(Ar.UpdateEmail,r.id)(s)}),i.on(Ln.Cancel,()=>{this.createIntermediaryEvent(Ln.Cancel,r.id)()}),i.on(Ln.RetryWithNewEmail,s=>{this.createIntermediaryEvent(Ln.RetryWithNewEmail,r.id)(s)}),i.on(Ln.VerifyEmailOtp,s=>{this.createIntermediaryEvent(Ln.VerifyEmailOtp,r.id)(s)})),i}revealPrivateKey(){let t=Et(lt.RevealPK);return this.request(t)}getMetadata(){$o({method:"user.getMetadata()",removalVersions:Ls,useInstead:"user.getInfo()"}).log();let t=Et(this.sdk.testMode?lt.GetMetadataTestMode:lt.GetMetadata);return this.request(t)}onUserLoggedOut(t){this.userLoggedOutCallbacks.push(t)}enableMFA(t){let{showUI:e=!0}=t,n=Et(lt.EnableMFA,[{showUI:e}]),r=this.request(n);return!e&&r&&(r.on(ss.VerifyMFACode,i=>{this.createIntermediaryEvent(ss.VerifyMFACode,n.id)(i)}),r.on(ss.Cancel,()=>{this.createIntermediaryEvent(ss.Cancel,n.id)()})),r}disableMFA(t){let{showUI:e=!0}=t,n=Et(lt.DisableMFA,[{showUI:e}]),r=this.request(n);return!e&&r&&(r.on(ei.VerifyMFACode,i=>{this.createIntermediaryEvent(ei.VerifyMFACode,n.id)(i)}),r.on(ei.LostDevice,i=>{this.createIntermediaryEvent(ei.LostDevice,n.id)(i)}),r.on(ei.Cancel,()=>{this.createIntermediaryEvent(ei.Cancel,n.id)()})),r}emitUserLoggedOut(t){this.userLoggedOutCallbacks.forEach(e=>{e(t)})}},Cy=class extends Hr{connectWithUI(t){let e=Nr((n,r)=>nn(this,null,function*(){try{let i=Et(lt.Login,[Yo({enabledWallets:this.sdk.thirdPartyWallets.enabledWallets},t)]),s=this.request(i);this.sdk.thirdPartyWallets.eventListeners.forEach(({event:a,callback:l})=>{s.on(a,()=>l(i.id))}),s.on("id-token-created",a=>{e.emit("id-token-created",a)});let o=yield s;o.error&&r(o),n(o)}catch(i){r(i)}}));return e}showUI(t){return this.request(Et(lt.ShowUI,[t]))}showAddress(){return this.request(Et(lt.ShowAddress))}showSendTokensUI(){return this.request(Et(lt.ShowSendTokensUI))}showOnRamp(){return this.request(Et(lt.ShowOnRamp))}showNFTs(){return this.request(Et(lt.ShowNFTs))}showBalances(){return this.request(Et(lt.ShowBalances))}sendGaslessTransaction(t,e){return this.request(Et(lt.SendGaslessTransaction,[t,e]))}getInfo(){$o({method:"wallet.getInfo()",removalVersions:Ls,useInstead:"user.getInfo()"}).log();let t=Et(lt.GetInfo,[]);return this.request(t)}disconnect(){$o({method:"wallet.disconnect()",removalVersions:Ls,useInstead:"user.logout()"}).log(),Sf();let t=Et(lt.Disconnect);return this.request(t)}requestUserInfoWithUI(t){$o({method:"wallet.requestUserInfoWithUI()",removalVersions:Ls,useInstead:"user.requestUserInfoWithUI()"}).log();let e=Et(lt.RequestUserInfoWithUI,t?[t]:[]);return this.request(e)}},_y=class extends Hr{constructor(){super(...arguments),this.eventListeners=[],this.enabledWallets={},this.isConnected=!1}resetThirdPartyWalletState(){localStorage.removeItem(Wr.PROVIDER),localStorage.removeItem(Wr.ADDRESS),localStorage.removeItem(Wr.CHAIN_ID),this.isConnected=!1}requestOverride(t){if(t.method===lt.Login)return this.resetThirdPartyWalletState(),super.request(t);if(t.method===lt.GetInfo)return this.getInfo(t);if(t.method===lt.IsLoggedIn)return this.isLoggedIn(t);if(t.method===lt.Logout)return this.logout(t);switch(localStorage.getItem(Wr.PROVIDER)){case"web3modal":return this.web3modalRequest(t);default:return this.resetThirdPartyWalletState(),super.request(t)}}isLoggedIn(t){switch(localStorage.getItem(Wr.PROVIDER)){case"web3modal":return this.web3modalIsLoggedIn();default:return this.resetThirdPartyWalletState(),super.request(t)}}getInfo(t){switch(localStorage.getItem(Wr.PROVIDER)){case"web3modal":return this.web3modalGetInfo();default:return this.resetThirdPartyWalletState(),super.request(t)}}logout(t){let e=localStorage.getItem(Wr.PROVIDER);switch(this.resetThirdPartyWalletState(),e){case"web3modal":return this.web3modalLogout();default:return super.request(t)}}web3modalRequest(t){return Nr((e,n)=>{this.sdk.web3modal.modal.getWalletProvider().request(t).then(e).catch(n)})}web3modalIsLoggedIn(){return Nr(t=>{let e=this.sdk.web3modal.modal.getStatus();if(e==="connected"&&t(!0),e==="disconnected"&&(this.resetThirdPartyWalletState(),t(!1)),e==="reconnecting"){let n=this.sdk.web3modal.modal.subscribeProvider(({status:r})=>{r==="connected"&&(n(),t(!0)),r==="disconnected"&&(n(),this.resetThirdPartyWalletState(),t(!1))})}})}formatWeb3modalGetInfoResponse(){var t;let e=(t=this.sdk.web3modal.modal.getWalletInfo())==null?void 0:t.name,n=this.sdk.web3modal.modal.getAddress();return{publicAddress:n,email:null,issuer:`did:ethr:${n}`,phoneNumber:null,isMfaEnabled:!1,recoveryFactors:[],walletType:e||"web3modal"}}web3modalGetInfo(){return Nr((t,e)=>{let n=this.sdk.web3modal.modal.getStatus();if(n==="connected"&&t(this.formatWeb3modalGetInfoResponse()),n==="disconnected"&&(this.resetThirdPartyWalletState(),e("Magic RPC Error: [-32603] Internal error: User denied account access.")),n==="reconnecting"){let r=this.sdk.web3modal.modal.subscribeProvider(({status:i})=>{i==="connected"&&(r(),t(this.formatWeb3modalGetInfoResponse())),i==="disconnected"&&(r(),this.resetThirdPartyWalletState(),e("Magic RPC Error: [-32603] Internal error: User denied account access."))})}})}web3modalLogout(){return Nr(t=>nn(this,null,function*(){try{yield this.sdk.web3modal.modal.disconnect()}catch(e){console.error(e)}t(!0)}))}},{createBoundEmitterMethod:Ho,createChainingEmitterMethod:Ki}=hb(),Ey=class extends Hr{constructor(){super(...arguments),this.isMagic=!0,this.on=Ki("on",this),this.once=Ki("once",this),this.addListener=Ki("addListener",this),this.off=Ki("off",this),this.removeListener=Ki("removeListener",this),this.removeAllListeners=Ki("removeAllListeners",this),this.emit=Ho("emit"),this.eventNames=Ho("eventNames"),this.listeners=Ho("listeners"),this.listenerCount=Ho("listenerCount")}sendAsync(t,e){if(!e)throw YI({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:e===null?"null":typeof e});if(Array.isArray(t))this.overlay.post(ds.MAGIC_HANDLE_REQUEST,t.map(n=>{let r=Zl(n);return this.prefixPayloadMethodForTestMode(r),r})).then(n=>{e(null,n.map(r=>Ol(Yo({},r.payload),{error:r.hasError?new Ds(r.payload.error):null})))});else{let n=Zl(t);this.prefixPayloadMethodForTestMode(n),this.overlay.post(ds.MAGIC_HANDLE_REQUEST,n).then(r=>{e(r.hasError?new Ds(r.payload.error):null,r.payload)})}}send(t,e){if(typeof t=="string"){let r=Et(t,Array.isArray(e)?e:[]);return this.request(r)}if(Array.isArray(t)||e){this.sendAsync(t,e);return}let n=JI();return n.log(),new cc(t).applyError({code:-32603,message:n.rawMessage}).payload}enable(){let t=Et(lt.Login);return this.request(t)}request(t){return this.prefixPayloadMethodForTestMode(t),super.request(t)}prefixPayloadMethodForTestMode(t){let e="testMode/eth/";this.sdk.testMode&&(t.method=`${e}${t.method}`)}},Gf=["request","overlay","sdk"],Vf=class extends Hr{constructor(){super(void 0),this.__sdk_access_field_descriptors__=new Map,this.__is_initialized__=!1,this.utils={createPromiEvent:Nr,isPromiEvent:pb,encodeJSON:v1,decodeJSON:OI,createJsonRpcRequestPayload:Et,standardizeJsonRpcRequestPayload:Zl,storage:Pf};let t=[this,...dC(this)];Gf.forEach(e=>{let n=t.map(o=>Object.getOwnPropertyDescriptor(o,e)),r=n.findIndex(o=>!!o),i=r>0,s=n[r];s&&(this.__sdk_access_field_descriptors__.set(e,{descriptor:s,isPrototypeField:i}),Object.defineProperty(this,e,{configurable:!0,get:()=>{throw $I(e)}}))})}init(t){this.__is_initialized__||(Gf.forEach(e=>{if(this.__sdk_access_field_descriptors__.has(e)){let{descriptor:n,isPrototypeField:r}=this.__sdk_access_field_descriptors__.get(e);r?delete this[e]:Object.defineProperty(this,e,n)}}),this.sdk=t,this.__is_initialized__=!0)}createDeprecationWarning(t){let{method:e,removalVersion:n,useInstead:r}=t,i=r?` Use \`${r}\` instead.`:"",s=`\`${e}\` will be removed from this Extension in version \`${n}\`.${i}`;return new lc(this,"DEPRECATION_NOTICE",s)}createWarning(t,e){return new lc(this,t,e)}createError(t,e,n){return new ac(this,t,e,n)}},Sy=class extends Vf{},Zi=class extends Vf{},Zi.Internal=Sy,Zi.Anonymous="anonymous extension",Ry=class extends Hr{purchase(t){let e=Et(lt.NFTPurchase,[t]);return this.request(e)}checkout(t){let e=this.sdk.thirdPartyWallets.isConnected,n=Et(lt.NFTCheckout,[Ol(Yo({},t),{walletProvider:e?"web3modal":"magic"})]),r=this.request(n);return e&&(r.on(os.Initiated,i=>nn(this,null,function*(){try{let s=yield this.request({method:"eth_sendTransaction",params:[i]});this.createIntermediaryEvent(os.Success,n.id)(s)}catch{this.createIntermediaryEvent(os.Failure,n.id)()}})),r.on(os.Disconnect,()=>{this.sdk.thirdPartyWallets.resetThirdPartyWalletState(),r.emit("disconnect")})),r}transfer(t){let e=Et(lt.NFTTransfer,[t]);return this.request(e)}},qo=class{constructor(t,e){this.apiKey=t;var n;if(!t)throw VI();Zt.platform==="react-native"&&(e!=null&&e.endpoint)&&KI().log();let{defaultEndpoint:r,version:i}=Zt;this.testMode=!!(e!=null&&e.testMode),this.useStorageCache=!!(e!=null&&e.useStorageCache),this.endpoint=zc((n=e==null?void 0:e.endpoint)!=null?n:r).origin,this.auth=new yy(this),this.user=new Iy(this),this.wallet=new Cy(this),this.nft=new Ry(this),this.thirdPartyWallets=new _y(this),this.rpcProvider=new Ey(this);let s=hC.call(this,e);this.parameters=v1(Ol(Yo({API_KEY:this.apiKey,DOMAIN_ORIGIN:window.location?window.location.origin:"",ETH_NETWORK:e==null?void 0:e.network,host:zc(this.endpoint).host,sdk:gy[Zt.sdkName],version:i,ext:$c(s)?void 0:s,locale:(e==null?void 0:e.locale)||"en_US"},Zt.bundleId?{bundleId:Zt.bundleId}:{}),{meta:e==null?void 0:e.meta})),this.networkHash=fC(this.apiKey,e==null?void 0:e.network,$c(s)?void 0:s),e!=null&&e.deferPreload||this.preload()}get overlay(){if(!qo.__overlays__.has(this.parameters)){let t=new Zt.ViewController(this.endpoint,this.parameters,this.networkHash);t.init(),qo.__overlays__.set(this.parameters,t)}return qo.__overlays__.get(this.parameters)}preload(){return nn(this,null,function*(){yield this.overlay.checkIsReadyForRequest})}},Pp=qo,Pp.__overlays__=new Map,_b=class{constructor(t,e,n){this.endpoint=t,this.parameters=e,this.networkHash=n,this.messageHandlers=new Set,this.isConnectedToInternet=!0,this.checkIsReadyForRequest=this.waitForReady(),this.isReadyForRequest=!1,this.listen()}post(t,e){return nn(this,null,function*(){return gb((n,r)=>nn(this,null,function*(){if(!this.isConnectedToInternet){let c=Op();r(c)}this.isReadyForRequest||(yield this.waitForReady());let i=[],s=Array.isArray(e)?e.map(c=>c.id):[],o=yield mC(`${t}-${this.parameters}`,e,this.networkHash);yield this._post(o);let a=c=>f=>{var h;let{id:v,response:I}=gC(e,f);if(yC(f),((h=I==null?void 0:I.payload.error)==null?void 0:h.message)==="User denied account access.")Sf();else if(f.data.deviceShare){let{deviceShare:S}=f.data;cC(S,this.networkHash)}v&&I&&Array.isArray(e)&&s.includes(v)?(i.push(I),i.length===e.length&&(c(),n(i))):v&&I&&!Array.isArray(e)&&v===e.id&&(c(),n(I))},l=this.on(Zr.MAGIC_HANDLE_RESPONSE,a(()=>l()))}))})}on(t,e){let n=e.bind(window),r=i=>{i.data.msgType===`${t}-${this.parameters}`&&n(i)};return this.messageHandlers.add(r),()=>this.messageHandlers.delete(r)}waitForReady(){return new Promise(t=>{let e=this.on(Zr.MAGIC_OVERLAY_READY,()=>{this.isReadyForRequest=!0,t(),e()});setTimeout(()=>{this.isReadyForRequest=!0,t(),e()},15e3)})}listen(){this.on(Zr.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay()}),this.on(Zr.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay()}),this.on(Zr.MAGIC_SEND_PRODUCT_ANNOUNCEMENT,t=>{t.data.response.result.product_announcement&&new As(Vi.ProductAnnouncement,t.data.response.result.product_announcement).log()})}}}}),Eb=hl({"../../node_modules/.pnpm/@magic-sdk+commons@24.20.0_@magic-sdk+provider@28.20.0_localforage@1.10.0__@magic-sdk+types@24.18.0/node_modules/@magic-sdk/commons/dist/es/index.mjs"(){Gp(),zn()}}),Sb={};cb(Sb,{AuthEventOnReceived:()=>Rp,DeepLinkPage:()=>xp,DeviceVerificationEventEmit:()=>ja,DeviceVerificationEventOnReceived:()=>_p,DisableMFAEventEmit:()=>ei,DisableMFAEventOnReceived:()=>Bp,EnableMFAEventEmit:()=>ss,EnableMFAEventOnReceived:()=>kp,EthChainType:()=>Tp,Extension:()=>Zi,ExtensionError:()=>ac,ExtensionWarning:()=>lc,FarcasterLoginEventEmit:()=>Fp,LocalStorageKeys:()=>Wr,LoginWithEmailOTPEventEmit:()=>Yn,LoginWithEmailOTPEventOnReceived:()=>Cp,LoginWithMagicLinkEventEmit:()=>bp,LoginWithMagicLinkEventOnReceived:()=>Ap,LoginWithSmsOTPEventEmit:()=>is,LoginWithSmsOTPEventOnReceived:()=>Ip,Magic:()=>Fb,MagicIncomingWindowMessage:()=>Zr,MagicOutgoingWindowMessage:()=>ds,MagicPayloadMethod:()=>lt,NftCheckoutIntermediaryEvents:()=>os,RPCError:()=>Ds,RPCErrorCode:()=>Va,RecencyCheckEventEmit:()=>Xn,RecencyCheckEventOnReceived:()=>Ep,RecoverAccountEventEmit:()=>Ar,RecoverAccountEventOnReceived:()=>Mp,RecoveryFactorEventEmit:()=>br,RecoveryFactorEventOnReceived:()=>Np,RecoveryMethodType:()=>Lp,SDKError:()=>pi,SDKErrorCode:()=>hi,SDKWarning:()=>As,SDKWarningCode:()=>Vi,ThirdPartyWalletEvents:()=>vp,UiEventsEmit:()=>Zp,UpdateEmailEventEmit:()=>Ln,UpdateEmailEventOnReceived:()=>Sp,UserEventsEmit:()=>Vc,UserEventsOnReceived:()=>jc,WalletEventOnReceived:()=>Wp,isPromiEvent:()=>pb,routeToMagicMethods:()=>Om});function wC(t){for(let[e,n]of Object.entries(Rb))t.style[e]=n}function vC(t){return!![].slice.call(document.querySelectorAll(".magic-iframe")).find(n=>n.src.includes(t))}var Fy,jf,ky,By,Ty,Ny,Qo,$f,Ly,zf,Jr,My,Wy,Gl,Yf,Rb,Xf,Jf,Zy,Oy,Dy,Uy,Fb,xC=hl({"../../node_modules/.pnpm/magic-sdk@28.21.0/node_modules/magic-sdk/dist/es/index.mjs"(){Gp(),Gp(),zn(),Eb(),Fy=Object.create,jf=Object.defineProperty,ky=Object.getOwnPropertyDescriptor,By=Object.getOwnPropertyNames,Ty=Object.getPrototypeOf,Ny=Object.prototype.hasOwnProperty,Qo=(t=>typeof Fs<"u"?Fs:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof Fs<"u"?Fs:e)[n]}):t)(function(t){if(typeof Fs<"u")return Fs.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')}),$f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Ly=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of By(e))!Ny.call(t,i)&&i!==n&&jf(t,i,{get:()=>e[i],enumerable:!(r=ky(e,i))||r.enumerable});return t},zf=(t,e,n)=>(n=t!=null?Fy(Ty(t)):{},Ly(e||!t||!t.__esModule?jf(n,"default",{value:t,enumerable:!0}):n,t)),Jr=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())}),My=$f((t,e)=>{(function(n){if(typeof t=="object"&&typeof e<"u")e.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=n()}})(function(){return function n(r,i,s){function o(c,f){if(!i[c]){if(!r[c]){var h=typeof Qo=="function"&&Qo;if(!f&&h)return h(c,!0);if(a)return a(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var I=i[c]={exports:{}};r[c][0].call(I.exports,function(S){var M=r[c][1][S];return o(M||S)},I,I.exports,n,r,i,s)}return i[c].exports}for(var a=typeof Qo=="function"&&Qo,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(S),f=s.document.createTextNode("");c.observe(f,{characterData:!0}),a=function(){f.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=S,a=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var F=s.document.createElement("script");F.onreadystatechange=function(){S(),F.onreadystatechange=null,F.parentNode.removeChild(F),F=null},s.document.documentElement.appendChild(F)}:a=function(){setTimeout(S,0)};var v,I=[];function S(){v=!0;for(var F,E,m=I.length;m;){for(E=I,I=[],F=-1;++F<m;)E[F]();m=I.length}v=!1}r.exports=M;function M(F){I.push(F)===1&&!v&&a()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],f=["PENDING"];r.exports=h;function h(Z){if(typeof Z!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,Z!==o&&M(this,Z)}h.prototype.catch=function(Z){return this.then(null,Z)},h.prototype.then=function(Z,C){if(typeof Z!="function"&&this.state===c||typeof C!="function"&&this.state===l)return this;var D=new this.constructor(o);if(this.state!==f){var V=this.state===c?Z:C;I(D,V,this.outcome)}else this.queue.push(new v(D,Z,C));return D};function v(Z,C,D){this.promise=Z,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(Z){a.resolve(this.promise,Z)},v.prototype.otherCallFulfilled=function(Z){I(this.promise,this.onFulfilled,Z)},v.prototype.callRejected=function(Z){a.reject(this.promise,Z)},v.prototype.otherCallRejected=function(Z){I(this.promise,this.onRejected,Z)};function I(Z,C,D){s(function(){var V;try{V=C(D)}catch(Q){return a.reject(Z,Q)}V===Z?a.reject(Z,new TypeError("Cannot resolve promise with itself")):a.resolve(Z,V)})}a.resolve=function(Z,C){var D=F(S,C);if(D.status==="error")return a.reject(Z,D.value);var V=D.value;if(V)M(Z,V);else{Z.state=c,Z.outcome=C;for(var Q=-1,$=Z.queue.length;++Q<$;)Z.queue[Q].callFulfilled(C)}return Z},a.reject=function(Z,C){Z.state=l,Z.outcome=C;for(var D=-1,V=Z.queue.length;++D<V;)Z.queue[D].callRejected(C);return Z};function S(Z){var C=Z&&Z.then;if(Z&&(typeof Z=="object"||typeof Z=="function")&&typeof C=="function")return function(){C.apply(Z,arguments)}}function M(Z,C){var D=!1;function V(fe){D||(D=!0,a.reject(Z,fe))}function Q(fe){D||(D=!0,a.resolve(Z,fe))}function $(){C(Q,V)}var Ae=F($);Ae.status==="error"&&V(Ae.value)}function F(Z,C){var D={};try{D.value=Z(C),D.status="success"}catch(V){D.status="error",D.value=V}return D}h.resolve=E;function E(Z){return Z instanceof this?Z:a.resolve(new this(o),Z)}h.reject=m;function m(Z){var C=new this(o);return a.reject(C,Z)}h.all=x;function x(Z){var C=this;if(Object.prototype.toString.call(Z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=Z.length,V=!1;if(!D)return this.resolve([]);for(var Q=new Array(D),$=0,Ae=-1,fe=new this(o);++Ae<D;)be(Z[Ae],Ae);return fe;function be(Le,Ve){C.resolve(Le).then(Ge,function(Pe){V||(V=!0,a.reject(fe,Pe))});function Ge(Pe){Q[Ve]=Pe,++$===D&&!V&&(V=!0,a.resolve(fe,Q))}}}h.race=G;function G(Z){var C=this;if(Object.prototype.toString.call(Z)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=Z.length,V=!1;if(!D)return this.resolve([]);for(var Q=-1,$=new this(o);++Q<D;)Ae(Z[Q]);return $;function Ae(fe){C.resolve(fe).then(function(be){V||(V=!0,a.resolve($,be))},function(be){V||(V=!0,a.reject($,be))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};function o(b,B){if(!(b instanceof B))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var b=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!b||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(b,B){b=b||[],B=B||{};try{return new Blob(b,B)}catch(ee){if(ee.name!=="TypeError")throw ee;for(var L=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,H=new L,K=0;K<b.length;K+=1)H.append(b[K]);return H.getBlob(B.type)}}typeof Promise>"u"&&n(3);var h=Promise;function v(b,B){B&&b.then(function(L){B(null,L)},function(L){B(L)})}function I(b,B,L){typeof B=="function"&&b.then(B),typeof L=="function"&&b.catch(L)}function S(b){return typeof b!="string"&&(console.warn(b+" used as a key, but it is not a string."),b=String(b)),b}function M(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var F="local-forage-detect-blob-support",E=void 0,m={},x=Object.prototype.toString,G="readonly",Z="readwrite";function C(b){for(var B=b.length,L=new ArrayBuffer(B),H=new Uint8Array(L),K=0;K<B;K++)H[K]=b.charCodeAt(K);return L}function D(b){return new h(function(B){var L=b.transaction(F,Z),H=f([""]);L.objectStore(F).put(H,"key"),L.onabort=function(K){K.preventDefault(),K.stopPropagation(),B(!1)},L.oncomplete=function(){var K=navigator.userAgent.match(/Chrome\/(\d+)/),ee=navigator.userAgent.match(/Edge\//);B(ee||!K||parseInt(K[1],10)>=43)}}).catch(function(){return!1})}function V(b){return typeof E=="boolean"?h.resolve(E):D(b).then(function(B){return E=B,E})}function Q(b){var B=m[b.name],L={};L.promise=new h(function(H,K){L.resolve=H,L.reject=K}),B.deferredOperations.push(L),B.dbReady?B.dbReady=B.dbReady.then(function(){return L.promise}):B.dbReady=L.promise}function $(b){var B=m[b.name],L=B.deferredOperations.pop();if(L)return L.resolve(),L.promise}function Ae(b,B){var L=m[b.name],H=L.deferredOperations.pop();if(H)return H.reject(B),H.promise}function fe(b,B){return new h(function(L,H){if(m[b.name]=m[b.name]||ve(),b.db)if(B)Q(b),b.db.close();else return L(b.db);var K=[b.name];B&&K.push(b.version);var ee=l.open.apply(l,K);B&&(ee.onupgradeneeded=function(ye){var W=ee.result;try{W.createObjectStore(b.storeName),ye.oldVersion<=1&&W.createObjectStore(F)}catch(Re){if(Re.name==="ConstraintError")console.warn('The database "'+b.name+'" has been upgraded from version '+ye.oldVersion+" to version "+ye.newVersion+', but the storage "'+b.storeName+'" already exists.');else throw Re}}),ee.onerror=function(ye){ye.preventDefault(),H(ee.error)},ee.onsuccess=function(){var ye=ee.result;ye.onversionchange=function(W){W.target.close()},L(ye),$(b)}})}function be(b){return fe(b,!1)}function Le(b){return fe(b,!0)}function Ve(b,B){if(!b.db)return!0;var L=!b.db.objectStoreNames.contains(b.storeName),H=b.version<b.db.version,K=b.version>b.db.version;if(H&&(b.version!==B&&console.warn('The database "'+b.name+`" can't be downgraded from version `+b.db.version+" to version "+b.version+"."),b.version=b.db.version),K||L){if(L){var ee=b.db.version+1;ee>b.version&&(b.version=ee)}return!0}return!1}function Ge(b){return new h(function(B,L){var H=new FileReader;H.onerror=L,H.onloadend=function(K){var ee=btoa(K.target.result||"");B({__local_forage_encoded_blob:!0,data:ee,type:b.type})},H.readAsBinaryString(b)})}function Pe(b){var B=C(atob(b.data));return f([B],{type:b.type})}function Y(b){return b&&b.__local_forage_encoded_blob}function q(b){var B=this,L=B._initReady().then(function(){var H=m[B._dbInfo.name];if(H&&H.dbReady)return H.dbReady});return I(L,b,b),L}function ae(b){Q(b);for(var B=m[b.name],L=B.forages,H=0;H<L.length;H++){var K=L[H];K._dbInfo.db&&(K._dbInfo.db.close(),K._dbInfo.db=null)}return b.db=null,be(b).then(function(ee){return b.db=ee,Ve(b)?Le(b):ee}).then(function(ee){b.db=B.db=ee;for(var ye=0;ye<L.length;ye++)L[ye]._dbInfo.db=ee}).catch(function(ee){throw Ae(b,ee),ee})}function we(b,B,L,H){H===void 0&&(H=1);try{var K=b.db.transaction(b.storeName,B);L(null,K)}catch(ee){if(H>0&&(!b.db||ee.name==="InvalidStateError"||ee.name==="NotFoundError"))return h.resolve().then(function(){if(!b.db||ee.name==="NotFoundError"&&!b.db.objectStoreNames.contains(b.storeName)&&b.version<=b.db.version)return b.db&&(b.version=b.db.version+1),Le(b)}).then(function(){return ae(b).then(function(){we(b,B,L,H-1)})}).catch(L);L(ee)}}function ve(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _e(b){var B=this,L={db:null};if(b)for(var H in b)L[H]=b[H];var K=m[L.name];K||(K=ve(),m[L.name]=K),K.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=q);var ee=[];function ye(){return h.resolve()}for(var W=0;W<K.forages.length;W++){var Re=K.forages[W];Re!==B&&ee.push(Re._initReady().catch(ye))}var ke=K.forages.slice(0);return h.all(ee).then(function(){return L.db=K.db,be(L)}).then(function(Fe){return L.db=Fe,Ve(L,B._defaultConfig.version)?Le(L):Fe}).then(function(Fe){L.db=K.db=Fe,B._dbInfo=L;for(var Ze=0;Ze<ke.length;Ze++){var Xe=ke[Ze];Xe!==B&&(Xe._dbInfo.db=L.db,Xe._dbInfo.version=L.version)}})}function ue(b,B){var L=this;b=S(b);var H=new h(function(K,ee){L.ready().then(function(){we(L._dbInfo,G,function(ye,W){if(ye)return ee(ye);try{var Re=W.objectStore(L._dbInfo.storeName),ke=Re.get(b);ke.onsuccess=function(){var Fe=ke.result;Fe===void 0&&(Fe=null),Y(Fe)&&(Fe=Pe(Fe)),K(Fe)},ke.onerror=function(){ee(ke.error)}}catch(Fe){ee(Fe)}})}).catch(ee)});return v(H,B),H}function We(b,B){var L=this,H=new h(function(K,ee){L.ready().then(function(){we(L._dbInfo,G,function(ye,W){if(ye)return ee(ye);try{var Re=W.objectStore(L._dbInfo.storeName),ke=Re.openCursor(),Fe=1;ke.onsuccess=function(){var Ze=ke.result;if(Ze){var Xe=Ze.value;Y(Xe)&&(Xe=Pe(Xe));var it=b(Xe,Ze.key,Fe++);it!==void 0?K(it):Ze.continue()}else K()},ke.onerror=function(){ee(ke.error)}}catch(Ze){ee(Ze)}})}).catch(ee)});return v(H,B),H}function rt(b,B,L){var H=this;b=S(b);var K=new h(function(ee,ye){var W;H.ready().then(function(){return W=H._dbInfo,x.call(B)==="[object Blob]"?V(W.db).then(function(Re){return Re?B:Ge(B)}):B}).then(function(Re){we(H._dbInfo,Z,function(ke,Fe){if(ke)return ye(ke);try{var Ze=Fe.objectStore(H._dbInfo.storeName);Re===null&&(Re=void 0);var Xe=Ze.put(Re,b);Fe.oncomplete=function(){Re===void 0&&(Re=null),ee(Re)},Fe.onabort=Fe.onerror=function(){var it=Xe.error?Xe.error:Xe.transaction.error;ye(it)}}catch(it){ye(it)}})}).catch(ye)});return v(K,L),K}function at(b,B){var L=this;b=S(b);var H=new h(function(K,ee){L.ready().then(function(){we(L._dbInfo,Z,function(ye,W){if(ye)return ee(ye);try{var Re=W.objectStore(L._dbInfo.storeName),ke=Re.delete(b);W.oncomplete=function(){K()},W.onerror=function(){ee(ke.error)},W.onabort=function(){var Fe=ke.error?ke.error:ke.transaction.error;ee(Fe)}}catch(Fe){ee(Fe)}})}).catch(ee)});return v(H,B),H}function Be(b){var B=this,L=new h(function(H,K){B.ready().then(function(){we(B._dbInfo,Z,function(ee,ye){if(ee)return K(ee);try{var W=ye.objectStore(B._dbInfo.storeName),Re=W.clear();ye.oncomplete=function(){H()},ye.onabort=ye.onerror=function(){var ke=Re.error?Re.error:Re.transaction.error;K(ke)}}catch(ke){K(ke)}})}).catch(K)});return v(L,b),L}function Me(b){var B=this,L=new h(function(H,K){B.ready().then(function(){we(B._dbInfo,G,function(ee,ye){if(ee)return K(ee);try{var W=ye.objectStore(B._dbInfo.storeName),Re=W.count();Re.onsuccess=function(){H(Re.result)},Re.onerror=function(){K(Re.error)}}catch(ke){K(ke)}})}).catch(K)});return v(L,b),L}function R(b,B){var L=this,H=new h(function(K,ee){if(b<0){K(null);return}L.ready().then(function(){we(L._dbInfo,G,function(ye,W){if(ye)return ee(ye);try{var Re=W.objectStore(L._dbInfo.storeName),ke=!1,Fe=Re.openKeyCursor();Fe.onsuccess=function(){var Ze=Fe.result;if(!Ze){K(null);return}b===0||ke?K(Ze.key):(ke=!0,Ze.advance(b))},Fe.onerror=function(){ee(Fe.error)}}catch(Ze){ee(Ze)}})}).catch(ee)});return v(H,B),H}function U(b){var B=this,L=new h(function(H,K){B.ready().then(function(){we(B._dbInfo,G,function(ee,ye){if(ee)return K(ee);try{var W=ye.objectStore(B._dbInfo.storeName),Re=W.openKeyCursor(),ke=[];Re.onsuccess=function(){var Fe=Re.result;if(!Fe){H(ke);return}ke.push(Fe.key),Fe.continue()},Re.onerror=function(){K(Re.error)}}catch(Fe){K(Fe)}})}).catch(K)});return v(L,b),L}function X(b,B){B=M.apply(this,arguments);var L=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||L.name,b.storeName=b.storeName||L.storeName);var H=this,K;if(!b.name)K=h.reject("Invalid arguments");else{var ee=b.name===L.name&&H._dbInfo.db,ye=ee?h.resolve(H._dbInfo.db):be(b).then(function(W){var Re=m[b.name],ke=Re.forages;Re.db=W;for(var Fe=0;Fe<ke.length;Fe++)ke[Fe]._dbInfo.db=W;return W});b.storeName?K=ye.then(function(W){if(W.objectStoreNames.contains(b.storeName)){var Re=W.version+1;Q(b);var ke=m[b.name],Fe=ke.forages;W.close();for(var Ze=0;Ze<Fe.length;Ze++){var Xe=Fe[Ze];Xe._dbInfo.db=null,Xe._dbInfo.version=Re}var it=new h(function(dt,ft){var vt=l.open(b.name,Re);vt.onerror=function(Rt){var Ot=vt.result;Ot.close(),ft(Rt)},vt.onupgradeneeded=function(){var Rt=vt.result;Rt.deleteObjectStore(b.storeName)},vt.onsuccess=function(){var Rt=vt.result;Rt.close(),dt(Rt)}});return it.then(function(dt){ke.db=dt;for(var ft=0;ft<Fe.length;ft++){var vt=Fe[ft];vt._dbInfo.db=dt,$(vt._dbInfo)}}).catch(function(dt){throw(Ae(b,dt)||h.resolve()).catch(function(){}),dt})}}):K=ye.then(function(W){Q(b);var Re=m[b.name],ke=Re.forages;W.close();for(var Fe=0;Fe<ke.length;Fe++){var Ze=ke[Fe];Ze._dbInfo.db=null}var Xe=new h(function(it,dt){var ft=l.deleteDatabase(b.name);ft.onerror=function(){var vt=ft.result;vt&&vt.close(),dt(ft.error)},ft.onblocked=function(){console.warn('dropInstance blocked for database "'+b.name+'" until all open connections are closed')},ft.onsuccess=function(){var vt=ft.result;vt&&vt.close(),it(vt)}});return Xe.then(function(it){Re.db=it;for(var dt=0;dt<ke.length;dt++){var ft=ke[dt];$(ft._dbInfo)}}).catch(function(it){throw(Ae(b,it)||h.resolve()).catch(function(){}),it})})}return v(K,B),K}var he={_driver:"asyncStorage",_initStorage:_e,_support:c(),iterate:We,getItem:ue,setItem:rt,removeItem:at,clear:Be,length:Me,key:R,keys:U,dropInstance:X};function se(){return typeof openDatabase=="function"}var ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xe="~~local_forage_type~",re=/^~~local_forage_type~([^~]+)~/,le="__lfsc__:",pe=le.length,_="arbf",g="blob",k="si08",O="ui08",j="uic8",ne="si16",ie="si32",y="ur16",u="ui32",p="fl32",A="fl64",z=pe+_.length,te=Object.prototype.toString;function ge(b){var B=b.length*.75,L=b.length,H,K=0,ee,ye,W,Re;b[b.length-1]==="="&&(B--,b[b.length-2]==="="&&B--);var ke=new ArrayBuffer(B),Fe=new Uint8Array(ke);for(H=0;H<L;H+=4)ee=ce.indexOf(b[H]),ye=ce.indexOf(b[H+1]),W=ce.indexOf(b[H+2]),Re=ce.indexOf(b[H+3]),Fe[K++]=ee<<2|ye>>4,Fe[K++]=(ye&15)<<4|W>>2,Fe[K++]=(W&3)<<6|Re&63;return ke}function Ue(b){var B=new Uint8Array(b),L="",H;for(H=0;H<B.length;H+=3)L+=ce[B[H]>>2],L+=ce[(B[H]&3)<<4|B[H+1]>>4],L+=ce[(B[H+1]&15)<<2|B[H+2]>>6],L+=ce[B[H+2]&63];return B.length%3===2?L=L.substring(0,L.length-1)+"=":B.length%3===1&&(L=L.substring(0,L.length-2)+"=="),L}function tt(b,B){var L="";if(b&&(L=te.call(b)),b&&(L==="[object ArrayBuffer]"||b.buffer&&te.call(b.buffer)==="[object ArrayBuffer]")){var H,K=le;b instanceof ArrayBuffer?(H=b,K+=_):(H=b.buffer,L==="[object Int8Array]"?K+=k:L==="[object Uint8Array]"?K+=O:L==="[object Uint8ClampedArray]"?K+=j:L==="[object Int16Array]"?K+=ne:L==="[object Uint16Array]"?K+=y:L==="[object Int32Array]"?K+=ie:L==="[object Uint32Array]"?K+=u:L==="[object Float32Array]"?K+=p:L==="[object Float64Array]"?K+=A:B(new Error("Failed to get type for BinaryArray"))),B(K+Ue(H))}else if(L==="[object Blob]"){var ee=new FileReader;ee.onload=function(){var ye=xe+b.type+"~"+Ue(this.result);B(le+g+ye)},ee.readAsArrayBuffer(b)}else try{B(JSON.stringify(b))}catch(ye){console.error("Couldn't convert value into a JSON string: ",b),B(null,ye)}}function Qe(b){if(b.substring(0,pe)!==le)return JSON.parse(b);var B=b.substring(z),L=b.substring(pe,z),H;if(L===g&&re.test(B)){var K=B.match(re);H=K[1],B=B.substring(K[0].length)}var ee=ge(B);switch(L){case _:return ee;case g:return f([ee],{type:H});case k:return new Int8Array(ee);case O:return new Uint8Array(ee);case j:return new Uint8ClampedArray(ee);case ne:return new Int16Array(ee);case y:return new Uint16Array(ee);case ie:return new Int32Array(ee);case u:return new Uint32Array(ee);case p:return new Float32Array(ee);case A:return new Float64Array(ee);default:throw new Error("Unkown type: "+L)}}var Je={serialize:tt,deserialize:Qe,stringToBuffer:ge,bufferToString:Ue};function ct(b,B,L,H){b.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],L,H)}function Vt(b){var B=this,L={db:null};if(b)for(var H in b)L[H]=typeof b[H]!="string"?b[H].toString():b[H];var K=new h(function(ee,ye){try{L.db=openDatabase(L.name,String(L.version),L.description,L.size)}catch(W){return ye(W)}L.db.transaction(function(W){ct(W,L,function(){B._dbInfo=L,ee()},function(Re,ke){ye(ke)})},ye)});return L.serializer=Je,K}function Nt(b,B,L,H,K,ee){b.executeSql(L,H,K,function(ye,W){W.code===W.SYNTAX_ERR?ye.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(Re,ke){ke.rows.length?ee(Re,W):ct(Re,B,function(){Re.executeSql(L,H,K,ee)},ee)},ee):ee(ye,W)},ee)}function en(b,B){var L=this;b=S(b);var H=new h(function(K,ee){L.ready().then(function(){var ye=L._dbInfo;ye.db.transaction(function(W){Nt(W,ye,"SELECT * FROM "+ye.storeName+" WHERE key = ? LIMIT 1",[b],function(Re,ke){var Fe=ke.rows.length?ke.rows.item(0).value:null;Fe&&(Fe=ye.serializer.deserialize(Fe)),K(Fe)},function(Re,ke){ee(ke)})})}).catch(ee)});return v(H,B),H}function an(b,B){var L=this,H=new h(function(K,ee){L.ready().then(function(){var ye=L._dbInfo;ye.db.transaction(function(W){Nt(W,ye,"SELECT * FROM "+ye.storeName,[],function(Re,ke){for(var Fe=ke.rows,Ze=Fe.length,Xe=0;Xe<Ze;Xe++){var it=Fe.item(Xe),dt=it.value;if(dt&&(dt=ye.serializer.deserialize(dt)),dt=b(dt,it.key,Xe+1),dt!==void 0){K(dt);return}}K()},function(Re,ke){ee(ke)})})}).catch(ee)});return v(H,B),H}function tn(b,B,L,H){var K=this;b=S(b);var ee=new h(function(ye,W){K.ready().then(function(){B===void 0&&(B=null);var Re=B,ke=K._dbInfo;ke.serializer.serialize(B,function(Fe,Ze){Ze?W(Ze):ke.db.transaction(function(Xe){Nt(Xe,ke,"INSERT OR REPLACE INTO "+ke.storeName+" (key, value) VALUES (?, ?)",[b,Fe],function(){ye(Re)},function(it,dt){W(dt)})},function(Xe){if(Xe.code===Xe.QUOTA_ERR){if(H>0){ye(tn.apply(K,[b,Re,L,H-1]));return}W(Xe)}})})}).catch(W)});return v(ee,L),ee}function wr(b,B,L){return tn.apply(this,[b,B,L,1])}function Xr(b,B){var L=this;b=S(b);var H=new h(function(K,ee){L.ready().then(function(){var ye=L._dbInfo;ye.db.transaction(function(W){Nt(W,ye,"DELETE FROM "+ye.storeName+" WHERE key = ?",[b],function(){K()},function(Re,ke){ee(ke)})})}).catch(ee)});return v(H,B),H}function mi(b){var B=this,L=new h(function(H,K){B.ready().then(function(){var ee=B._dbInfo;ee.db.transaction(function(ye){Nt(ye,ee,"DELETE FROM "+ee.storeName,[],function(){H()},function(W,Re){K(Re)})})}).catch(K)});return v(L,b),L}function Bo(b){var B=this,L=new h(function(H,K){B.ready().then(function(){var ee=B._dbInfo;ee.db.transaction(function(ye){Nt(ye,ee,"SELECT COUNT(key) as c FROM "+ee.storeName,[],function(W,Re){var ke=Re.rows.item(0).c;H(ke)},function(W,Re){K(Re)})})}).catch(K)});return v(L,b),L}function To(b,B){var L=this,H=new h(function(K,ee){L.ready().then(function(){var ye=L._dbInfo;ye.db.transaction(function(W){Nt(W,ye,"SELECT key FROM "+ye.storeName+" WHERE id = ? LIMIT 1",[b+1],function(Re,ke){var Fe=ke.rows.length?ke.rows.item(0).key:null;K(Fe)},function(Re,ke){ee(ke)})})}).catch(ee)});return v(H,B),H}function gl(b){var B=this,L=new h(function(H,K){B.ready().then(function(){var ee=B._dbInfo;ee.db.transaction(function(ye){Nt(ye,ee,"SELECT key FROM "+ee.storeName,[],function(W,Re){for(var ke=[],Fe=0;Fe<Re.rows.length;Fe++)ke.push(Re.rows.item(Fe).key);H(ke)},function(W,Re){K(Re)})})}).catch(K)});return v(L,b),L}function jd(b){return new h(function(B,L){b.transaction(function(H){H.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(K,ee){for(var ye=[],W=0;W<ee.rows.length;W++)ye.push(ee.rows.item(W).name);B({db:b,storeNames:ye})},function(K,ee){L(ee)})},function(H){L(H)})})}function Nn(b,B){B=M.apply(this,arguments);var L=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||L.name,b.storeName=b.storeName||L.storeName);var H=this,K;return b.name?K=new h(function(ee){var ye;b.name===L.name?ye=H._dbInfo.db:ye=openDatabase(b.name,"","",0),b.storeName?ee({db:ye,storeNames:[b.storeName]}):ee(jd(ye))}).then(function(ee){return new h(function(ye,W){ee.db.transaction(function(Re){function ke(it){return new h(function(dt,ft){Re.executeSql("DROP TABLE IF EXISTS "+it,[],function(){dt()},function(vt,Rt){ft(Rt)})})}for(var Fe=[],Ze=0,Xe=ee.storeNames.length;Ze<Xe;Ze++)Fe.push(ke(ee.storeNames[Ze]));h.all(Fe).then(function(){ye()}).catch(function(it){W(it)})},function(Re){W(Re)})})}):K=h.reject("Invalid arguments"),v(K,B),K}var ml={_driver:"webSQLStorage",_initStorage:Vt,_support:se(),iterate:an,getItem:en,setItem:wr,removeItem:Xr,clear:mi,length:Bo,key:To,keys:gl,dropInstance:Nn};function w(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function N(b,B){var L=b.name+"/";return b.storeName!==B.storeName&&(L+=b.storeName+"/"),L}function T(){var b="_localforage_support_test";try{return localStorage.setItem(b,!0),localStorage.removeItem(b),!1}catch{return!0}}function d(){return!T()||localStorage.length>0}function P(b){var B=this,L={};if(b)for(var H in b)L[H]=b[H];return L.keyPrefix=N(b,B._defaultConfig),d()?(B._dbInfo=L,L.serializer=Je,h.resolve()):h.reject()}function de(b){var B=this,L=B.ready().then(function(){for(var H=B._dbInfo.keyPrefix,K=localStorage.length-1;K>=0;K--){var ee=localStorage.key(K);ee.indexOf(H)===0&&localStorage.removeItem(ee)}});return v(L,b),L}function me(b,B){var L=this;b=S(b);var H=L.ready().then(function(){var K=L._dbInfo,ee=localStorage.getItem(K.keyPrefix+b);return ee&&(ee=K.serializer.deserialize(ee)),ee});return v(H,B),H}function Te(b,B){var L=this,H=L.ready().then(function(){for(var K=L._dbInfo,ee=K.keyPrefix,ye=ee.length,W=localStorage.length,Re=1,ke=0;ke<W;ke++){var Fe=localStorage.key(ke);if(Fe.indexOf(ee)===0){var Ze=localStorage.getItem(Fe);if(Ze&&(Ze=K.serializer.deserialize(Ze)),Ze=b(Ze,Fe.substring(ye),Re++),Ze!==void 0)return Ze}}});return v(H,B),H}function De(b,B){var L=this,H=L.ready().then(function(){var K=L._dbInfo,ee;try{ee=localStorage.key(b)}catch{ee=null}return ee&&(ee=ee.substring(K.keyPrefix.length)),ee});return v(H,B),H}function nt(b){var B=this,L=B.ready().then(function(){for(var H=B._dbInfo,K=localStorage.length,ee=[],ye=0;ye<K;ye++){var W=localStorage.key(ye);W.indexOf(H.keyPrefix)===0&&ee.push(W.substring(H.keyPrefix.length))}return ee});return v(L,b),L}function ze(b){var B=this,L=B.keys().then(function(H){return H.length});return v(L,b),L}function St(b,B){var L=this;b=S(b);var H=L.ready().then(function(){var K=L._dbInfo;localStorage.removeItem(K.keyPrefix+b)});return v(H,B),H}function Ke(b,B,L){var H=this;b=S(b);var K=H.ready().then(function(){B===void 0&&(B=null);var ee=B;return new h(function(ye,W){var Re=H._dbInfo;Re.serializer.serialize(B,function(ke,Fe){if(Fe)W(Fe);else try{localStorage.setItem(Re.keyPrefix+b,ke),ye(ee)}catch(Ze){(Ze.name==="QuotaExceededError"||Ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&W(Ze),W(Ze)}})})});return v(K,L),K}function gt(b,B){if(B=M.apply(this,arguments),b=typeof b!="function"&&b||{},!b.name){var L=this.config();b.name=b.name||L.name,b.storeName=b.storeName||L.storeName}var H=this,K;return b.name?K=new h(function(ee){b.storeName?ee(N(b,H._defaultConfig)):ee(b.name+"/")}).then(function(ee){for(var ye=localStorage.length-1;ye>=0;ye--){var W=localStorage.key(ye);W.indexOf(ee)===0&&localStorage.removeItem(W)}}):K=h.reject("Invalid arguments"),v(K,B),K}var wt={_driver:"localStorageWrapper",_initStorage:P,_support:w(),iterate:Te,getItem:me,setItem:Ke,removeItem:St,clear:de,length:ze,key:De,keys:nt,dropInstance:gt},At=function(b,B){return b===B||typeof b=="number"&&typeof B=="number"&&isNaN(b)&&isNaN(B)},xt=function(b,B){for(var L=b.length,H=0;H<L;){if(At(b[H],B))return!0;H++}return!1},mt=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"},ut={},yt={},Ye={INDEXEDDB:he,WEBSQL:ml,LOCALSTORAGE:wt},st=[Ye.INDEXEDDB._driver,Ye.WEBSQL._driver,Ye.LOCALSTORAGE._driver],je=["dropInstance"],He=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(je),et={description:"",driver:st.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function $e(b,B){b[B]=function(){var L=arguments;return b.ready().then(function(){return b[B].apply(b,L)})}}function Ie(){for(var b=1;b<arguments.length;b++){var B=arguments[b];if(B)for(var L in B)B.hasOwnProperty(L)&&(mt(B[L])?arguments[0][L]=B[L].slice():arguments[0][L]=B[L])}return arguments[0]}var Ce=function(){function b(B){o(this,b);for(var L in Ye)if(Ye.hasOwnProperty(L)){var H=Ye[L],K=H._driver;this[L]=K,ut[K]||this.defineDriver(H)}this._defaultConfig=Ie({},et),this._config=Ie({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return b.prototype.config=function(B){if((typeof B>"u"?"undefined":s(B))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var L in B){if(L==="storeName"&&(B[L]=B[L].replace(/\W/g,"_")),L==="version"&&typeof B[L]!="number")return new Error("Database version must be a number.");this._config[L]=B[L]}return"driver"in B&&B.driver?this.setDriver(this._config.driver):!0}else return typeof B=="string"?this._config[B]:this._config},b.prototype.defineDriver=function(B,L,H){var K=new h(function(ee,ye){try{var W=B._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!B._driver){ye(Re);return}for(var ke=He.concat("_initStorage"),Fe=0,Ze=ke.length;Fe<Ze;Fe++){var Xe=ke[Fe],it=!xt(je,Xe);if((it||B[Xe])&&typeof B[Xe]!="function"){ye(Re);return}}var dt=function(){for(var vt=function(fn){return function(){var hn=new Error("Method "+fn+" is not implemented by the current driver"),ln=h.reject(hn);return v(ln,arguments[arguments.length-1]),ln}},Rt=0,Ot=je.length;Rt<Ot;Rt++){var jt=je[Rt];B[jt]||(B[jt]=vt(jt))}};dt();var ft=function(vt){ut[W]&&console.info("Redefining LocalForage driver: "+W),ut[W]=B,yt[W]=vt,ee()};"_support"in B?B._support&&typeof B._support=="function"?B._support().then(ft,ye):ft(!!B._support):ft(!0)}catch(vt){ye(vt)}});return I(K,L,H),K},b.prototype.driver=function(){return this._driver||null},b.prototype.getDriver=function(B,L,H){var K=ut[B]?h.resolve(ut[B]):h.reject(new Error("Driver not found."));return I(K,L,H),K},b.prototype.getSerializer=function(B){var L=h.resolve(Je);return I(L,B),L},b.prototype.ready=function(B){var L=this,H=L._driverSet.then(function(){return L._ready===null&&(L._ready=L._initDriver()),L._ready});return I(H,B,B),H},b.prototype.setDriver=function(B,L,H){var K=this;mt(B)||(B=[B]);var ee=this._getSupportedDrivers(B);function ye(){K._config.driver=K.driver()}function W(Fe){return K._extend(Fe),ye(),K._ready=K._initStorage(K._config),K._ready}function Re(Fe){return function(){var Ze=0;function Xe(){for(;Ze<Fe.length;){var it=Fe[Ze];return Ze++,K._dbInfo=null,K._ready=null,K.getDriver(it).then(W).catch(Xe)}ye();var dt=new Error("No available storage method found.");return K._driverSet=h.reject(dt),K._driverSet}return Xe()}}var ke=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=ke.then(function(){var Fe=ee[0];return K._dbInfo=null,K._ready=null,K.getDriver(Fe).then(function(Ze){K._driver=Ze._driver,ye(),K._wrapLibraryMethodsWithReady(),K._initDriver=Re(ee)})}).catch(function(){ye();var Fe=new Error("No available storage method found.");return K._driverSet=h.reject(Fe),K._driverSet}),I(this._driverSet,L,H),this._driverSet},b.prototype.supports=function(B){return!!yt[B]},b.prototype._extend=function(B){Ie(this,B)},b.prototype._getSupportedDrivers=function(B){for(var L=[],H=0,K=B.length;H<K;H++){var ee=B[H];this.supports(ee)&&L.push(ee)}return L},b.prototype._wrapLibraryMethodsWithReady=function(){for(var B=0,L=He.length;B<L;B++)$e(this,He[B])},b.prototype.createInstance=function(B){return new b(B)},b}(),Ne=new Ce;r.exports=Ne},{3:3}]},{},[4])(4)})}),Wy=$f((t,e)=>{(function(n,r){typeof t=="object"&&typeof e<"u"?r(t):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],r):r(n.LocalforageDriverMemory={})})(typeof self<"u"?self:t,function(n){var r="localforage-driver-memory";function i(Y){var q=typeof Symbol=="function"&&Y[Symbol.iterator],ae=0;return q?q.call(Y):{next:function(){return Y&&ae>=Y.length&&(Y=void 0),{value:Y&&Y[ae++],done:!Y}}}}function s(Y,q){Y=Y||[],q=q||{};try{return new Blob(Y,q)}catch(_e){if(_e.name!=="TypeError")throw _e;for(var ae=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,we=new ae,ve=0;ve<Y.length;ve+=1)we.append(Y[ve]);return we.getBlob(q.type)}}var o=/^~~local_forage_type~([^~]+)~/,a=9,l=a+4,c=Object.prototype.toString;function f(Y){var q=Y.length*.75,ae=Y.length;Y[Y.length-1]==="="&&(q--,Y[Y.length-2]==="="&&q--);for(var we=new ArrayBuffer(q),ve=new Uint8Array(we),_e=0,ue=0;_e<ae;_e+=4){var We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Y[_e]),rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Y[_e+1]),at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Y[_e+2]),Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(Y[_e+3]);ve[ue++]=We<<2|rt>>4,ve[ue++]=(rt&15)<<4|at>>2,ve[ue++]=(at&3)<<6|Be&63}return we}function h(Y){for(var q=new Uint8Array(Y),ae="",we=0;we<q.length;we+=3)ae+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q[we]>>2],ae+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(q[we]&3)<<4|q[we+1]>>4],ae+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(q[we+1]&15)<<2|q[we+2]>>6],ae+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[q[we+2]&63];return q.length%3===2?ae=ae.substring(0,ae.length-1)+"=":q.length%3===1&&(ae=ae.substring(0,ae.length-2)+"=="),ae}function v(Y,q){var ae="";if(Y&&(ae=c.call(Y)),Y&&(ae==="[object ArrayBuffer]"||Y.buffer&&c.call(Y.buffer)==="[object ArrayBuffer]")){var we=void 0,ve="__lfsc__:";Y instanceof ArrayBuffer?(we=Y,ve+="arbf"):(we=Y.buffer,ae==="[object Int8Array]"?ve+="si08":ae==="[object Uint8Array]"?ve+="ui08":ae==="[object Uint8ClampedArray]"?ve+="uic8":ae==="[object Int16Array]"?ve+="si16":ae==="[object Uint16Array]"?ve+="ur16":ae==="[object Int32Array]"?ve+="si32":ae==="[object Uint32Array]"?ve+="ui32":ae==="[object Float32Array]"?ve+="fl32":ae==="[object Float64Array]"?ve+="fl64":q(new Error("Failed to get type for BinaryArray"))),q(ve+h(we))}else if(ae==="[object Blob]"){var _e=new FileReader;_e.onload=function(){var ue="~~local_forage_type~"+Y.type+"~"+h(this.result);q("__lfsc__:blob"+ue)},_e.readAsArrayBuffer(Y)}else try{q(JSON.stringify(Y))}catch(ue){console.error("Couldn't convert value into a JSON string: ",Y),q(null,ue)}}function I(Y){if(Y.substring(0,a)!=="__lfsc__:")return JSON.parse(Y);var q=Y.substring(l),ae=Y.substring(a,l),we;if(ae==="blob"&&o.test(q)){var ve=q.match(o);we=ve[1],q=q.substring(ve[0].length)}var _e=f(q);switch(ae){case"arbf":return _e;case"blob":return s([_e],{type:we});case"si08":return new Int8Array(_e);case"ui08":return new Uint8Array(_e);case"uic8":return new Uint8ClampedArray(_e);case"si16":return new Int16Array(_e);case"ur16":return new Uint16Array(_e);case"si32":return new Int32Array(_e);case"ui32":return new Uint32Array(_e);case"fl32":return new Float32Array(_e);case"fl64":return new Float64Array(_e);default:throw new Error("Unkown type: "+ae)}}function S(Y){var q,ae;if(Y===null||typeof Y!="object"||"isActiveClone"in Y)return Y;var we=Y instanceof Date?new Date(Y):Y.constructor();try{for(var ve=i(Object.keys(Y)),_e=ve.next();!_e.done;_e=ve.next()){var ue=_e.value;Object.prototype.hasOwnProperty.call(Y,ue)&&(Y.isActiveClone=null,we[ue]=S(Y[ue]),delete Y.isActiveClone)}}catch(We){q={error:We}}finally{try{_e&&!_e.done&&(ae=ve.return)&&ae.call(ve)}finally{if(q)throw q.error}}return we}function M(Y,q){return(Y.name||q.name)+"/"+(Y.storeName||q.storeName)+"/"}function F(Y,q){q&&Y.then(function(ae){q(null,ae)},function(ae){q(ae)})}function E(){for(var Y=[],q=0;q<arguments.length;q++)Y[q]=arguments[q];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}function m(Y,q){var ae=this;if(q=E.apply(this,arguments),Y=typeof Y!="function"&&Y||{},!Y.name){var we=this.config();Y.name=Y.name||we.name,Y.storeName=Y.storeName||we.storeName}var ve;return Y.name?ve=new Promise(function(_e){Y.storeName?_e(M(Y,ae._defaultConfig)):_e(Y.name+"/")}):ve=Promise.reject("Invalid arguments"),{promise:ve,callback:q}}function x(Y){return typeof Y!="string"&&(console.warn(Y+" used as a key, but it is not a string."),Y=String(Y)),Y}var G={bufferToString:h,deserialize:I,serialize:v,stringToBuffer:f},Z={},C=function(){function Y(q){this.kp=q,this.data={}}return Y.resolve=function(q){return Z[q]||(Z[q]=new Y(q)),Z[q]},Y.prototype.clear=function(){this.data={}},Y.prototype.drop=function(){this.clear(),delete Z[this.kp]},Y.prototype.get=function(q){return this.data[q]},Y.prototype.key=function(q){return this.keys()[q]},Y.prototype.keys=function(){return Object.keys(this.data)},Y.prototype.rm=function(q){delete this.data[q]},Y.prototype.set=function(q,ae){this.data[q]=ae},Y}();function D(Y){var q=Y?S(Y):{},ae=M(q,this._defaultConfig),we=C.resolve(ae);return this._dbInfo=q,this._dbInfo.serializer=G,this._dbInfo.keyPrefix=ae,this._dbInfo.mStore=we,Promise.resolve()}function V(Y){var q=this,ae=this.ready().then(function(){q._dbInfo.mStore.clear()});return F(ae,Y),ae}function Q(Y,q){var ae=m.apply(this,arguments),we=ae.promise,ve=ae.callback,_e=we.then(function(ue){C.resolve(ue).drop()});return F(_e,ve),we}function $(Y,q){var ae=this;Y=x(Y);var we=this.ready().then(function(){var ve=ae._dbInfo.mStore.get(Y);return ve==null?null:ae._dbInfo.serializer.deserialize(ve)});return F(we,q),we}function Ae(Y,q){var ae=this,we=this.ready().then(function(){for(var ve=ae._dbInfo.mStore,_e=ve.keys(),ue=0;ue<_e.length;ue++){var We=ve.get(_e[ue]);if(We&&(We=ae._dbInfo.serializer.deserialize(We)),We=Y(We,_e[ue],ue+1),We!==void 0)return We}});return F(we,q),we}function fe(Y,q){var ae=this,we=this.ready().then(function(){var ve;try{ve=ae._dbInfo.mStore.key(Y),ve===void 0&&(ve=null)}catch{ve=null}return ve});return F(we,q),we}function be(Y){var q=this,ae=this.ready().then(function(){return q._dbInfo.mStore.keys()});return F(ae,Y),ae}function Le(Y){var q=this.keys().then(function(ae){return ae.length});return F(q,Y),q}function Ve(Y,q){var ae=this;Y=x(Y);var we=this.ready().then(function(){ae._dbInfo.mStore.rm(Y)});return F(we,q),we}function Ge(Y,q,ae){var we=this;Y=x(Y);var ve=this.ready().then(function(){q===void 0&&(q=null);var _e=q;return new Promise(function(ue,We){we._dbInfo.serializer.serialize(q,function(rt,at){if(at)We(at);else try{we._dbInfo.mStore.set(Y,rt),ue(_e)}catch(Be){We(Be)}})})});return F(ve,ae),ve}var Pe=!0;n._support=Pe,n._driver=r,n._initStorage=D,n.clear=V,n.dropInstance=Q,n.getItem=$,n.iterate=Ae,n.key=fe,n.keys=be,n.length=Le,n.removeItem=Ve,n.setItem=Ge,Object.defineProperty(n,"__esModule",{value:!0})})}),Gl=zf(My()),Yf=zf(Wy()),Rb={display:"block",visibility:"hidden",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647",opacity:"0"},Xf=1e3,Jf=60*Xf,Zy=15*Xf,Oy=2*Jf,Dy=60*Jf,Uy=class extends _b{constructor(){super(...arguments),this.activeElement=null,this.lastPingTime=Date.now(),this.intervalTimer=null,this.timeoutTimer=null}getIframeSrc(){return zc(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href}init(){this.test="hello",this.iframe=new Promise(t=>{let e=()=>{if(vC(encodeURIComponent(this.parameters)))XI().log();else{let n=document.createElement("iframe");n.classList.add("magic-iframe"),n.dataset.magicIframeLabel=zc(this.endpoint).host,n.title="Secure Modal",n.src=this.getIframeSrc(),n.allow="clipboard-read; clipboard-write",wC(n),document.body.appendChild(n),t(n)}};["loaded","interactive","complete"].includes(document.readyState)?e():window.addEventListener("load",e,!1)}),this.iframe.then(t=>{t instanceof HTMLIFrameElement&&t.addEventListener("load",()=>Jr(this,null,function*(){yield this.startHeartBeat()}))}),window.addEventListener("message",t=>{var e;if(t.origin===this.endpoint&&t.data&&t.data.msgType&&this.messageHandlers.size){t.data.msgType.includes(Zr.MAGIC_PONG)&&(this.lastPingTime=Date.now()),t.data.response=(e=t.data.response)!=null?e:{};for(let n of this.messageHandlers.values())n(t)}}),window.addEventListener("beforeunload",()=>{this.stopHeartBeat()})}showOverlay(){return Jr(this,null,function*(){let t=yield this.iframe;t.style.visibility="visible",t.style.opacity="1",this.activeElement=document.activeElement,t.focus()})}hideOverlay(){return Jr(this,null,function*(){var t;let e=yield this.iframe;e.style.visibility="hidden",e.style.opacity="0",(t=this.activeElement)!=null&&t.focus&&this.activeElement.focus(),this.activeElement=null})}_post(t){return Jr(this,null,function*(){let e=yield this.iframe;if(e&&e.contentWindow)e.contentWindow.postMessage(t,this.endpoint);else throw Op()})}heartBeatCheck(){this.intervalTimer=setInterval(()=>Jr(this,null,function*(){let t={msgType:`${ds.MAGIC_PING}-${this.parameters}`,payload:[]};yield this._post(t),Date.now()-this.lastPingTime>Zy&&(yield this.reloadIframe(),this.lastPingTime=Date.now())}),Oy)}startHeartBeat(){return Jr(this,null,function*(){(yield this.iframe)&&(this.timeoutTimer=setTimeout(()=>this.heartBeatCheck(),Dy))})}stopHeartBeat(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.intervalTimer&&(clearInterval(this.intervalTimer),this.intervalTimer=null)}reloadIframe(){return Jr(this,null,function*(){let t=yield this.iframe;if(t)t.src=this.getIframeSrc();else throw Op()})}},Fb=GI(Pp,{platform:"web",sdkName:"magic-sdk",version:"28.21.0",defaultEndpoint:"https://auth.magic.link/",ViewController:Uy,configureStorage:()=>Jr(void 0,null,function*(){let t=Gl.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return yield t.defineDriver(Yf),yield t.setDriver([Gl.default.INDEXEDDB,Gl.default.LOCALSTORAGE,Yf._driver]),t})})}}),kb={};cb(kb,{AlgorandExtension:()=>Bb});var Ms,Bb,bC=hl({"../../node_modules/.pnpm/@magic-ext+algorand@23.20.0/node_modules/@magic-ext/algorand/dist/es/index.mjs"(){Eb(),Ms=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())}),Bb=class extends Zi.Internal{constructor(t){super(),this.algorandConfig=t,this.name="algod",this.config={},this.config={rpcUrl:t.rpcUrl,chainType:"ALOGD"}}signTransaction(t){return Ms(this,null,function*(){return this.request(this.utils.createJsonRpcRequestPayload("algod_signTransaction",t))})}signBid(t){return Ms(this,null,function*(){return this.request(this.utils.createJsonRpcRequestPayload("algod_signBid",t))})}getWallet(){return Ms(this,null,function*(){return this.request(this.utils.createJsonRpcRequestPayload("algod_getWallet",[]))})}signGroupTransaction(t){return Ms(this,null,function*(){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransaction",t))})}signGroupTransactionV2(t){return Ms(this,null,function*(){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransactionV2",t))})}}}}),Sr,Tb=(Sr=class{constructor(){Se(this,"level");Se(this,"isClient");this.level=2,this.isClient=typeof window<"u"}static getInstance(){return Sr.instance||(Sr.instance=new Sr),Sr.instance}static setLevel(e){Sr.getInstance().level=e}log(e,n,r,...i){if(e>=this.level&&this.isClient){const s=n?`[${n}] ${r}`:r;switch(e){case 0:case 1:console.info(s,...i);break;case 2:console.warn(s,...i);break;case 3:console.error(s,...i);break}}}createScopedLogger(e){return{debug:(n,...r)=>this.log(0,e,n,...r),info:(n,...r)=>this.log(1,e,n,...r),warn:(n,...r)=>this.log(2,e,n,...r),error:(n,...r)=>this.log(3,e,n,...r)}}debug(e,...n){this.log(0,void 0,e,...n)}info(e,...n){this.log(1,void 0,e,...n)}warn(e,...n){this.log(2,void 0,e,...n)}error(e,...n){this.log(3,void 0,e,...n)}setIsClient(e){this.isClient=e}},Se(Sr,"instance",null),Sr),$a=Tb.getInstance(),pl=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.BETANET="betanet",t.FNET="fnet",t.LOCALNET="localnet",t.VOIMAIN="voimain",t.ARAMIDMAIN="aramidmain",t))(pl||{});function AC(t){return Object.values(pl).includes(t)}function IC(t){const e=Object.values(pl);return Object.keys(t).some(n=>e.includes(n))}var CC={mainnet:"https://mainnet-api.4160.nodely.dev",testnet:"https://testnet-api.4160.nodely.dev",betanet:"https://betanet-api.4160.nodely.dev",fnet:"https://fnet-api.4160.nodely.dev",voimain:"https://mainnet-api.voi.nodely.dev",aramidmain:"https://algod.aramidmain.a-wallet.net"};function _C(){const t={token:"a".repeat(64),baseServer:"http://localhost",port:4001,headers:{}};return Object.values(pl).reduce((e,n)=>{const r=n,i=r==="localnet";return e[r]=i?t:{token:"",baseServer:CC[r],port:"",headers:{}},e},{})}var EC={mainnet:"algorand:wGHE2Pwdvd7S12BL5FaOP20EGYesN73k",testnet:"algorand:SGO1GKSzyE7IEPItTxCByw9x8FmnrCDe",betanet:"algorand:mFgazF-2uRS1tMiL9dsj01hJGySEmPN2",fnet:"algorand:kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSo",voimain:"algorand:r20fSQI8gWe_kFZziNonSPCXLwcQmH_n",aramidmain:"algorand:PgeQVJJgx_LYKJfIEz7dbfNPuXmDyJ-O"},Er=class{static getItem(t){return typeof window>"u"?null:localStorage.getItem(t)}static setItem(t,e){typeof window>"u"||localStorage.setItem(t,e)}static removeItem(t){typeof window>"u"||localStorage.removeItem(t)}},Qi=(t=>(t.BIATEC="biatec",t.DEFLY="defly",t.CUSTOM="custom",t.EXODUS="exodus",t.KIBISIS="kibisis",t.KMD="kmd",t.LIQUID="liquid",t.LUTE="lute",t.MAGIC="magic",t.MNEMONIC="mnemonic",t.PERA="pera",t.PERA2="pera-beta",t.WALLETCONNECT="walletconnect",t))(Qi||{}),SC=class extends Error{constructor(e,n,r){super(e);Se(this,"code");Se(this,"data");this.name="SignTxnsError",this.code=n,this.data=r}},RC={wallets:{},activeWallet:null,activeNetwork:"testnet",algodClient:new oe.Algodv2("","https://testnet-api.4160.nodely.dev/"),managerStatus:"initializing"},Vp="@txnlab/use-wallet:v3";function mr(t,{walletId:e,wallet:n}){t.setState(r=>{const i={...r.wallets,[e]:{accounts:n.accounts.map(s=>({...s})),activeAccount:n.activeAccount?{...n.activeAccount}:null}};return{...r,wallets:i,activeWallet:e}})}function Nb(t,{walletId:e}){t.setState(n=>{const r={...n.wallets};return delete r[e],{...n,wallets:r,activeWallet:n.activeWallet===e?null:n.activeWallet}})}function Ud(t,{walletId:e}){t.setState(n=>({...n,activeWallet:e}))}function FC(t,{walletId:e,address:n}){t.setState(r=>{const i=r.wallets[e];if(!i)return $a.warn(`Wallet with id "${e}" not found`),r;const s=i.accounts.find(l=>l.address===n);if(!s)return $a.warn(`Account with address ${n} not found in wallet "${e}"`),r;const o={...i,accounts:i.accounts.map(l=>({...l})),activeAccount:{...s}},a={...r.wallets,[e]:o};return{...r,wallets:a}})}function Es(t,{walletId:e,accounts:n}){t.setState(r=>{const i=r.wallets[e];if(!i)return $a.warn(`Wallet with id "${e}" not found`),r;const s=n.map(f=>({...f})),a=s.some(f=>{var h;return f.address===((h=i.activeAccount)==null?void 0:h.address)})?{...i.activeAccount}:s[0]||null,l={...i,accounts:s,activeAccount:a},c={...r.wallets,[e]:l};return{...r,wallets:c}})}function kC(t,{networkId:e,algodClient:n}){t.setState(r=>({...r,activeNetwork:e,algodClient:n}))}function Py(t){return Object.values(Qi).includes(t)}function Gy(t){return typeof t=="object"&&t!==null&&typeof t.name=="string"&&typeof t.address=="string"}function BC(t){return typeof t=="object"&&t!==null&&Array.isArray(t.accounts)&&t.accounts.every(Gy)&&(t.activeAccount===null||Gy(t.activeAccount))}function TC(t){if(!t||typeof t!="object"||typeof t.wallets!="object")return!1;for(const[e,n]of Object.entries(t.wallets))if(!Py(e)||!BC(n))return!1;return!(t.activeWallet!==null&&!Py(t.activeWallet)||!AC(t.activeNetwork))}var rh,yr=(rh=class{constructor({id:t,metadata:e,store:n,subscribe:r,getAlgodClient:i}){Se(this,"id");Se(this,"metadata");Se(this,"store");Se(this,"getAlgodClient");Se(this,"subscribe");Se(this,"logger");Se(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`),Ud(this.store,{walletId:this.id})});Se(this,"setActiveAccount",t=>{this.logger.info(`Set active account: ${t}`),FC(this.store,{walletId:this.id,address:t})});Se(this,"transactionSigner",async(t,e)=>(await this.signTransactions(t,e)).reduce((i,s)=>(s!==null&&i.push(s),i),[]));Se(this,"onDisconnect",()=>{this.logger.debug("Removing wallet from store..."),Nb(this.store,{walletId:this.id})});Se(this,"manageWalletConnectSession",(t,e)=>{const n=e||this.id;if(t==="backup"){const r=Er.getItem("walletconnect");r&&(Er.setItem(`walletconnect-${n}`,r),Er.removeItem("walletconnect"),this.logger.debug(`Backed up WalletConnect session for ${n}`))}else if(t==="restore"){const r=Er.getItem(`walletconnect-${n}`);r&&(Er.setItem("walletconnect",r),Er.removeItem(`walletconnect-${n}`),this.logger.debug(`Restored WalletConnect session for ${n}`))}});this.id=t,this.store=n,this.subscribe=r,this.getAlgodClient=i;const s=this.constructor;this.metadata={...s.defaultMetadata,...e},this.logger=$a.createScopedLogger(`Wallet:${this.id.toUpperCase()}`)}get name(){return this.id.toUpperCase()}get accounts(){const e=this.store.state.wallets[this.id];return e?e.accounts:[]}get addresses(){return this.accounts.map(t=>t.address)}get activeAccount(){const e=this.store.state.wallets[this.id];return e?e.activeAccount:null}get activeAddress(){var t;return((t=this.activeAccount)==null?void 0:t.address)??null}get activeNetwork(){return this.store.state.activeNetwork}get isConnected(){const e=this.store.state.wallets[this.id];return e?e.accounts.length>0:!1}get isActive(){return this.store.state.activeWallet===this.id}},Se(rh,"defaultMetadata",{name:"Base Wallet",icon:""}),rh),NC=class extends Error{constructor(t){super(t),this.name="SessionError"}},LC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect width="480" height="480" fill="#FFFFFF" />
  <path fill="#3396FF" d="M126.6,168c62.6-61.3,164.2-61.3,226.8,0l7.5,7.4c3.1,3.1,3.1,8,0,11.1l-25.8,25.2c-1.6,1.5-4.1,1.5-5.7,0l-10.4-10.2c-43.7-42.8-114.5-42.8-158.2,0l-11.1,10.9c-1.6,1.5-4.1,1.5-5.7,0l-25.8-25.2c-3.1-3.1-3.1-8,0-11.1L126.6,168zM406.7,220.2l22.9,22.5c3.1,3.1,3.1,8,0,11.1L326.2,355.1c-3.1,3.1-8.2,3.1-11.3,0l-73.4-71.9c-0.8-0.8-2.1-0.8-2.8,0l-73.4,71.9c-3.1,3.1-8.2,3.1-11.3,0L50.3,253.8c-3.1-3.1-3.1-8,0-11.1l22.9-22.5c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0 l73.4-71.9c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0l73.4-71.9C398.5,217.1,403.6,217.1,406.7,220.2L406.7,220.2z" />
</svg>
`)}`,ih,Lb=(ih=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"modal",null);Se(this,"modalOptions");Se(this,"session",null);Se(this,"store");Se(this,"connect",async()=>{var e;this.logger.info("Connecting...");try{const n=this.client||await this.initializeClient(),r=this.modal||await this.initializeModal(),i={algorand:{chains:[this.activeChainId],methods:["algo_signTxn"],events:[]}},{uri:s,approval:o}=await n.connect({requiredNamespaces:i});if(!s)throw this.logger.error("No URI found"),new Error("No URI found");await r.openModal({uri:s});const a=await o(),l=this.onSessionConnected(a);return this.logger.info("Connected successfully"),l}catch(n){throw this.logger.error("Error connecting:",n.message),n}finally{(e=this.modal)==null||e.closeModal()}});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting...");try{this.onDisconnect(),this.client&&this.session&&await this.client.disconnect({topic:this.session.topic,reason:{message:"User disconnected.",code:6e3}}),this.logger.info("Disconnected")}catch(e){throw this.logger.error("Error disconnecting:",e.message),e}});Se(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const r=this.client||await this.initializeClient();if(r.session.length){const i=r.session.keys.length-1,s=r.session.get(r.session.keys[i]);this.onSessionConnected(s)}this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{if(!this.session)throw this.logger.error("No session found!"),new NC("No session found!");this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const c=on(e);r=this.processTxns(c,n)}else{const c=on(e);r=this.processEncodedTxns(c,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const s=u_("algo_signTxn",[r]),o=await i.request({chainId:this.activeChainId,topic:this.session.topic,request:s});this.logger.debug("Received signed transactions from wallet",o);const a=o.reduce((c,f)=>{if(f){let h;typeof f=="string"?h=Pd(f):f instanceof Uint8Array?h=f:Array.isArray(f)?h=new Uint8Array(f):(this.logger.warn("Unexpected type in signTxnsResult",f),h=new Uint8Array),c.push(h)}return c},[]),l=r.reduce((c,f)=>{if(f.signers&&f.signers.length==0)c.push(null);else{const h=a.shift();h&&c.push(h)}return c},[]);return this.logger.debug("Transactions signed successfully",l),l}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});if(!(s!=null&&s.projectId))throw this.logger.error("Missing required option: projectId"),new Error("Missing required option: projectId");const{projectId:a,relayUrl:l="wss://relay.walletconnect.com",metadata:c,...f}=s,h={...this.getWindowMetadata(),...c};this.options={projectId:a,relayUrl:l,metadata:h},this.modalOptions=f,this.store=n}getWindowMetadata(){let e,n;const r={name:"",description:"",url:"",icons:[]};function i(E){let m;return typeof window<"u"&&typeof window[E]<"u"&&(m=window[E]),m}function s(E){const m=i(E);if(!m)throw new Error(`${E} is not defined in Window`);return m}function o(){return s("document")}function a(){return s("location")}try{e=o(),n=a()}catch(E){return this.logger.warn("Error getting window metadata:",E),r}function l(){const E=e.getElementsByTagName("link"),m=[];for(let x=0;x<E.length;x++){const G=E[x],Z=G.getAttribute("rel");if(Z&&Z.toLowerCase().indexOf("icon")>-1){const C=G.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let D=n.protocol+"//"+n.host;if(C.indexOf("/")===0)D+=C;else{const V=n.pathname.split("/");V.pop();const Q=V.join("/");D+=Q+"/"+C}m.push(D)}else if(C.indexOf("//")===0){const D=n.protocol+C;m.push(D)}else m.push(C)}}return m}function c(...E){const m=e.getElementsByTagName("meta");for(let x=0;x<m.length;x++){const G=m[x],Z=["itemprop","property","name"].map(C=>G.getAttribute(C)).filter(C=>C?E.includes(C):!1);if(Z.length&&Z){const C=G.getAttribute("content");if(C)return C}}return""}function f(){let E=c("name","og:site_name","og:title","twitter:title");return E||(E=e.title),E}function h(){return c("description","og:description","twitter:description","keywords")}const v=f(),I=h(),S=n.origin,M=l();return{description:I,url:S,icons:M,name:v}}async initializeClient(){this.logger.info("Initializing client...");const n=await(await Gi(async()=>{const{SignClient:r}=await import("./index.es-DaFgXHbH.js");return{SignClient:r}},__vite__mapDeps([0,1]),import.meta.url)).SignClient.init(this.options);return n.on("session_event",r=>{this.logger.info("EVENT: session_event",r)}),n.on("session_update",({topic:r,params:i})=>{this.logger.info("EVENT: session_update",{topic:r,params:i});const{namespaces:s}=i,a={...n.session.get(r),namespaces:s};this.onSessionConnected(a)}),n.on("session_delete",()=>{this.logger.info("EVENT: session_delete"),this.session=null}),this.client=n,this.logger.info("Client initialized"),n}async initializeModal(){this.logger.info("Initializing modal...");const e=(await Gi(async()=>{const{WalletConnectModal:r}=await import("./index-CO-CB3Mo.js").then(i=>i.i);return{WalletConnectModal:r}},[],import.meta.url)).WalletConnectModal,n=new e({projectId:this.options.projectId,...this.modalOptions});return n.subscribeModal(r=>this.logger.info(`Modal ${r.open?"open":"closed"}`)),this.modal=n,this.logger.info("Modal initialized"),n}onSessionConnected(e){const n=e.namespaces.algorand.accounts;if(!n.length)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const i=[...new Set(n.map(a=>a.split(":").pop()))].map((a,l)=>({name:`${this.metadata.name} Account ${l+1}`,address:a})),o=this.store.state.wallets[this.id];if(o)ko(i,o.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:o.accounts,current:i}),Es(this.store,{walletId:this.id,accounts:i}));else{const a={accounts:i,activeAccount:i[0]};mr(this.store,{walletId:this.id,wallet:a}),this.logger.info("Connected",a)}return this.session=e,i}get activeChainId(){const e=EC[this.activeNetwork];return e||(this.logger.warn(`No CAIP-2 chain ID found for network: ${this.activeNetwork}`),"")}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a),c=jr(i.toByte());o&&l?r.push({txn:c}):r.push({txn:c,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f),v=jr(l.toByte());c&&h?r.push({txn:v}):r.push({txn:v,signers:[]})}),r}},Se(ih,"defaultMetadata",{name:"WalletConnect",icon:LC}),ih),MC=`data:image/svg+xml;base64,${btoa(`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 180"><path d="M94.27 151.629c-.861-.526-1.51-1.37-1.83-2.386-.197-.62-.18-.627 1.082-.437.705.105 1.6.356 1.988.557.696.36 1.815 1.876 1.815 2.459 0 .486-2.166.348-3.054-.193m23.953-.263c-.788-.419-2.095-2.123-2.108-2.75-.01-.433 2.467-.182 3.403.345.955.536 2.148 1.97 2.148 2.582 0 .503-2.397.38-3.443-.177m-9.024-1.165c-1.567-1.193-2.38-2.74-2.55-4.849-.075-.933-.054-1.697.045-1.697.866 0 2.714 1.67 3.439 3.107.398.789.657 3.888.351 4.195-.07.07-.648-.27-1.285-.756m-8.906-1.354c-.63-.684-1.21-1.648-1.387-2.305-.318-1.18-.136-3.416.278-3.416.555 0 2.108 1.697 2.505 2.737.472 1.237.457 3.905-.023 4.063-.16.053-.777-.433-1.373-1.08m-6.805-1.775c-2.764-.612-5.223-1.425-5.357-1.772-.08-.21.169-1.027.555-1.814s.701-1.469.701-1.515c0-.047-.803.067-1.786.253-.982.185-1.857.256-1.944.157-.088-.1-.365-.715-.618-1.367-.252-.652-.858-1.729-1.345-2.393-1.293-1.76-5.285-5.526-7.272-6.858-3.826-2.564-4.96-3.855-4.667-5.316.08-.402.692-1.574 1.359-2.606 1.65-2.551 2.51-4.472 2.512-5.62.002-.571-.364-1.69-.901-2.758l-.905-1.796.706-.532c1.936-1.46 4.649-4.916 4.205-5.36-.06-.06-.846.72-1.745 1.732-3.553 3.997-7.814 6.463-16.014 9.27-5.324 1.823-5.853 2.06-7.183 3.228-1.555 1.365-1.962 2.502-2.531 7.063-.284 2.275-.706 4.79-.937 5.591-.231.8-.403 2.17-.382 3.043.032 1.346-.157 2.06-1.248 4.698-1.498 3.622-1.068 3.708-4.138-.827l-2.036-3.008.747-.784c.411-.43 1.075-.978 1.475-1.216.955-.568.919-.922-.236-2.331-.53-.647-.917-1.209-.86-1.25s.43-.277.83-.526c1.788-1.12 2.7-4.727 2.987-11.822.214-5.274.595-6.46 2.195-6.83 6.634-1.535 7.58-1.98 8.618-4.066.926-1.858.9-3.701-.121-8.475-.87-4.072-1.047-7.21-.516-9.223.606-2.303 3.759-7.433 5.667-9.221.376-.353.684-.729.684-.835 0-.254-3.325-2.697-4.448-3.268-.482-.245-1.455-.45-2.163-.456-3.892-.03-6.628 1.877-8.722 6.08-.603 1.212-1.582 2.73-2.176 3.374-2.733 2.965-8.602 4.09-12.666 2.43l-.913-.374 1.323-.05c1.422-.054 3.498-.94 3.944-1.683.414-.69.076-.79-1.06-.314-1.443.605-4.075.597-5.039-.015-1.259-.8-2.23-1.81-2.795-2.908l-.535-1.042 1.243 1.095c1.51 1.328 2.691 1.752 4.425 1.585 1.506-.145 2.523-.851 1.65-1.147-3.195-1.08-5.834-3.078-7.07-5.35-.809-1.485-1.513-3.982-1.504-5.334l.006-.936.42.854c.232.47.941 1.333 1.576 1.918l1.155 1.064 2.189-.012 2.188-.011-1.012-.535c-.975-.514-3.353-2.766-3.353-3.175 0-.11.506.079 1.124.418 1.282.703 3.888 1.32 4.21.996.12-.118-.204-.612-.718-1.097-.513-.484-1.17-1.344-1.46-1.911l-.525-1.03 1.174.895c2.02 1.542 3.883 1.506 6.342-.123.69-.457 1.218-.863 1.175-.903s-.989.227-2.103.594c-1.87.618-2.11.64-3.151.305-1.284-.415-2.023-1.273-2.25-2.613l-.158-.926.486.595c1.07 1.31 2.652 1.255 6.363-.224 1.132-.451 2.892-1.036 3.91-1.3 2.732-.706 1.561-.926-2.298-.43-1.778.228-3.27.376-3.318.329-.047-.047.662-.415 1.575-.818 2.002-.883 4.78-1.152 6.858-.663 1.817.427 2.555.81 4.032 2.087 1.151.997 3.654 2.156 4.605 2.133.595-.015-2.96-3.395-4.552-4.328-1.639-.96-4.11-1.542-6.107-1.438-.92.049-1.627.016-1.571-.073.242-.388 3.44-.825 5.203-.71 4.048.265 6.96 2.546 10.902 8.537 2.553 3.883 4.234 5.67 6.137 6.524l1.092.49 2.215-1.027c4.747-2.2 8.797-2.518 16.097-1.26 2.25.387 4.717.704 5.482.704h1.39l.074 3.203.074 3.203.894-1.113c.88-1.096.894-1.152.846-3.516l-.049-2.402-1.61-1.721c-4.14-4.425-4.335-6.536-1.135-12.213 2.744-4.87 2.704-4.41.813-9.32-.883-2.292-1.696-4.167-1.807-4.167-.339 0-.205 4 .196 5.821.716 3.256.435 4.822-1.006 5.603-.371.2-2.144.33-4.904.36-3.6.036-4.348-.022-4.473-.348-.087-.227.102-.582.451-.845.53-.4.563-.53.274-1.09-.18-.35-.692-1.022-1.137-1.493s-.734-.933-.64-1.026c.093-.094 1.072-.036 2.175.128 3.023.45 3.76.398 4.211-.297.4-.615 2.887-9.725 2.704-9.907-.196-.196-1.55 1.62-2.759 3.7-1.782 3.068-3.14 3.895-6.379 3.889-2.485-.005-5.43-1.098-8.658-3.213-1.439-.943-3.02-1.855-3.514-2.027-1.524-.531-3.75-.392-5.163.324l-1.26.638.567-.603c.892-.95 3.048-2.004 4.432-2.167 1.94-.23 3.3.283 5.786 2.18 2.39 1.823 3.163 2.225 4.28 2.225.6 0 .497-.12-.745-.872-.792-.48-2.416-1.598-3.609-2.486-2.658-1.978-4.119-2.58-5.831-2.4l-1.26.132.926-.39c.667-.281 1.609-.36 3.373-.284 1.346.059 2.448.077 2.448.04 0-.278-2.537-1.455-3.71-1.722-.89-.202-1.231-.365-.884-.421.312-.051 1.86.225 3.44.614 2.564.63 3.167.687 5.602.525 5.536-.369 7.032-1.144 9.218-4.774l1.433-2.382-1.224 1.323c-.673.728-1.779 1.928-2.457 2.666-.677.739-1.53 1.417-1.893 1.508l-.662.165.61-.503c.334-.277 1.088-1.491 1.675-2.698 1.772-3.648 3.228-4.779 6.772-5.257 3.522-.476 4.797-.791 5.421-1.342.332-.293.429-.44.215-.329-.213.112-1.94.277-3.836.367-2.955.14-3.666.263-4.97.86-1.632.749-4.092 2.893-4.996 4.356-.764 1.236-.923.905-.224-.465 1.387-2.718 4.685-4.945 8.366-5.651l1.815-.349-1.058-.235c-.582-.13-1.952-.224-3.043-.209l-1.984.027 1.72-.82c1.427-.682 2.04-.822 3.611-.822 1.607 0 1.86-.06 1.679-.4-.539-1.005-1.377-1.452-2.69-1.432-.769.011-1.156-.067-.937-.19.534-.298 2.168-.34 4.169-.104 1.648.194 1.82.159 3.59-.733 1.023-.515 2.472-1.047 3.22-1.183 1.388-.253 3.607-.04 4.472.429.942.51 1.958 1.825 2.095 2.712.116.746 0 1.052-.671 1.777-.752.813-.811 1.018-.811 2.82 0 1.706-.105 2.127-.85 3.424-.467.814-.973 1.476-1.124 1.473s-.797-.242-1.435-.532c-1.277-.579-1.714-.435-1.988.655-.115.46.045.84.605 1.44.42.448 1.621 2.237 2.671 3.975 1.883 3.116 1.905 3.175 1.585 4.146-.258.78-.258 1.56 0 3.73.179 1.51.253 3.031.166 3.38-.128.509.033.795.805 1.432 1.367 1.126 5.02 2.947 5.914 2.947 1.268 0 1.588.247 1.588 1.227 0 1.057-.642 2.742-1.045 2.742-.153 0-.278-.298-.278-.662 0-.558-.123-.661-.793-.661-.436 0-2.162-.467-3.836-1.036l-3.044-1.036v1.788c0 .984-.077 3.057-.172 4.608l-.173 2.82h3.015l-.133.86c-.073.472-.206 2.11-.295 3.637-.373 6.42-.634 7.203-4.207 12.65-4.119 6.278-4.635 7.984-3.493 11.548.37 1.158.647 2.133.613 2.167-.246.246-2.569-1.19-3.783-2.34-2.616-2.473-2.922-3.975-1.146-5.619.954-.882 1.054-1.087.892-1.828-.417-1.91-.553-1.976-1-.482-.232.777-.693 1.849-1.024 2.382-.526.846-.603 1.318-.603 3.705v2.736l3.175 1.022c1.746.562 3.446 1.028 3.777 1.034.583.012.59-.012.194-.776-.224-.434-.479-1.307-.566-1.939-.208-1.523.53-3.065 3.905-8.159 4.537-6.845 5.478-9.25 5.681-14.513.07-1.82.19-3.93.267-4.692.137-1.353.17-1.398 1.379-1.933 2.27-1.004 4.245-3.717 6.253-8.589.526-1.274.459-1.204-1.891 1.985-1.019 1.382-2.13 2.751-2.47 3.042-.604.516-.603.506.048-.397.938-1.299 1.216-2.144 1.685-5.107.663-4.193 1.699-6.255 4.604-9.16 3.639-3.638 9.47-6.348 13.7-6.365.635-.003 1.201-.155 1.322-.356.117-.192 1.105-.92 2.196-1.615 1.092-.696 2.252-1.511 2.579-1.812.327-.3.66-.48.74-.4.081.081-.038.942-.263 1.914s-.41 1.88-.41 2.016c0 .37 1.393.3 1.992-.102.287-.192 1.296-.62 2.241-.953s1.998-.78 2.338-.994c.34-.215.665-.345.722-.288.302.302-1.982 3.526-2.927 4.132l-1.152.74c-.277.179 1.202 3.732 1.975 4.745.674.882.862 1.347.742 1.825-.089.354.045 1.273.296 2.044.645 1.98 2.913 6.751 3.698 7.779.808 1.06.82 1.416.075 2.363-.32.408-.648 1.225-.728 1.816-.118.879-.279 1.12-.89 1.335-1.457.512-2.298-.449-2.94-3.358-.113-.512-.325-.728-.715-.728-.634 0-.619.099.398 2.514.368.873.572 1.685.453 1.804-.12.119-.679.178-1.244.132-1.006-.082-1.03-.108-1.165-1.29-.11-.958-.407-1.515-1.444-2.716-1.28-1.483-1.523-1.617-3.974-2.186-.436-.102-1.235-.406-1.776-.677l-.981-.491-.311 1.124c-.462 1.668-.381 7.592.14 10.35.244 1.29.926 3.552 1.516 5.027 1.864 4.655 1.933 4.98 1.924 9.031-.006 2.853-.112 3.972-.461 4.87-.25.641-.415 1.204-.367 1.252.047.047 2.935.203 6.419.347 4.2.174 6.786.397 7.679.664 1.433.429 2.955 1.341 3.328 1.995.125.219 1.292 3.718 2.594 7.777 2.56 7.978 2.515 7.613 1.142 9.263-.582.7-.623.918-.458 2.455l.18 1.686-1.685 1.59c-2.476 2.335-2.487 2.338-2.833.702l-.825-3.894c-.497-2.344-.503-2.535-.09-2.844.245-.182.75-.332 1.121-.335 1.259-.007 1.444-.36.672-1.277l-.7-.833.461-1.209c.403-1.054.421-1.428.146-2.924-.856-4.647-3.463-7.755-6.516-7.769-1.198-.006-5.626.726-6.143 1.015-.419.235 1.36 2.035 4.026 4.073 1.954 1.494 2.487 2.265 2.708 3.918.115.858-.031 1.278-.963 2.753-1.122 1.776-2.596 4.941-4.015 8.62-.437 1.133-1.048 2.383-1.358 2.777-.546.695-.623.712-2.434.544-1.51-.14-2.034-.085-2.726.287-.933.503-1.032.488-5.234-.754l-1.852-.547 1.058-.93c2.452-2.155 4.96-4.035 5.375-4.028.245.004.743.417 1.107.919.364.5.74.914.835.918.336.014 2.673-2.777 3.423-4.09.928-1.622 1.429-3.721 1.19-4.992-.414-2.208-2.105-3.2-8.836-5.183-4.604-1.356-5.44-1.637-6.837-2.3-.81-.384-.92-.36-3.047.664-2.593 1.248-5.507 2.251-8.665 2.983-3.304.766-9.686.95-12.988.376-3.227-.562-7.639-2.035-9.626-3.214-.856-.508-1.618-.862-1.693-.787-.15.15 1.12 2.079 1.665 2.53.271.226.239.732-.166 2.586-1.245 5.713-2.66 8.612-7.189 14.73-2.852 3.852-3.402 5.685-2.327 7.762.66 1.274 9.278 9.763 11.016 10.85.797.498 1.576 1.26 1.929 1.889.496.883 2.158 5.275 2.158 5.704 0 .2-1.577.111-2.779-.154m46.76-1.68c-2.98-1.107-5.348-3.111-7.054-5.97-1.025-1.72-2.16-4.428-1.946-4.643.229-.229 3.039.644 4.916 1.527 3.417 1.608 6.275 5.198 6.594 8.283.178 1.723.063 1.76-2.51.803m-70.399.107c-2.923-.4-6.887-2.043-7.56-3.132-.23-.371 1.693-1.772 3.683-2.683 4.119-1.887 9.22-1.779 13.075.277 1.637.873 4.347 2.943 4.307 3.29-.014.122-.895.499-1.957.837-4.06 1.29-8.482 1.831-11.548 1.411m51.264-1.55c-1.687-.66-3.315-1.831-4.87-3.503l-1.323-1.421 2.116-.183c3.467-.298 6.424.354 8.757 1.932 1.096.742 2.753 2.456 2.753 2.848 0 .859-5.46 1.099-7.433.326m38.521-1.26c-3.84-.798-6.966-2.331-9.705-4.761-2.156-1.913-3.179-2.512-5.08-2.978-1.478-.362-3.339-1.249-3.339-1.591 0-.318 2.824-.81 5.689-.991 7.046-.446 13.549 2.741 16.133 7.908.513 1.024.932 2.025.932 2.224 0 .277-.479.354-2.05.33-1.128-.016-2.289-.08-2.58-.14m-61.217-2.076c-1.35-.421-2.52-1.449-3.238-2.845l-.51-.992h1.178c1.479 0 2.46.365 3.42 1.273.65.615 1.762 2.392 1.762 2.817 0 .255-1.426.117-2.612-.253m5.45-1.504c-1.583-1.153-2.396-3.509-1.878-5.442.192-.715.563-.742 1.334-.098 1.18.986 1.673 2.177 1.674 4.051 0 .974-.09 1.826-.2 1.895-.112.068-.53-.114-.93-.406m-26.254-1.075a150 150 0 0 0-3.968-1.97l-2.382-1.138 1.21-.001c2.527-.002 4.928 1.203 6.339 3.185.306.43.52.777.473.77-.046-.007-.799-.388-1.672-.845zm-14.354-3.608c-.764-.264-1.631-.699-1.927-.966-.59-.534-1.695-2.22-1.542-2.352.053-.045.573-.192 1.155-.325 1.324-.303 1.45-.925.662-3.265-.306-.908-.503-1.705-.438-1.77.066-.066.637.018 1.27.187.95.253 1.683.849 4.194 3.411 2.483 2.534 3.286 3.19 4.366 3.566.727.253 1.62.587 1.984.742l.662.28-.662.199c-.779.234-6.102.794-7.42.782-.503-.005-1.54-.225-2.304-.489m104.313-.83c-1.528-.484-4.719-2.704-4.75-3.303-.006-.145.88-.42 1.972-.61 2.368-.414 4.676-.11 6.582.864 1.41.721 3.082 2.35 2.83 2.756-.55.891-4.237 1.054-6.634.294m-56.58-.117c-2.06-.734-3.35-2.65-3.345-4.961.006-2.304.15-2.574 1.279-2.397 1.516.239 3.013.83 3.677 1.455l.609.572 1.523-1.507c.838-.829 1.593-1.507 1.679-1.507.085 0 .362.735.614 1.633.94 3.35-.383 5.974-3.431 6.806-1.302.356-1.35.354-2.605-.094m-75.315-.698c-6.533-.942-11.018-2.967-14.552-6.571-1.972-2.01-3.175-3.81-2.8-4.186.109-.109 1.32-.239 2.693-.29 5.235-.192 9.266 1.449 13.22 5.381 2.097 2.085 5.101 5.853 4.838 6.068-.05.041-1.58-.14-3.4-.402m97.327-1.25c4.267-5.096 8.959-7.442 13.334-6.666.982.174 1.84.405 1.906.513.198.32-1.54 2.713-2.834 3.904-2.314 2.13-5.42 3.148-10.492 3.438l-3.055.175zm17.502-.559c0-.646 1.702-5.318 2.447-6.715 1.472-2.762 4.84-5.965 5.538-5.267.161.161.234 1.18.176 2.481-.114 2.603-.705 4.023-2.51 6.03-1.524 1.695-5.651 4.23-5.651 3.471m8.04-1.157c3.728-2.356 7.725-5.133 8.864-6.158 1.353-1.218 1.403-1.24.984-.43-1.093 2.113-4.85 5.104-7.93 6.31-1.734.68-2.798.834-1.919.278m2.457-4.828c-.243-.511-.443-1.383-.443-1.937 0-1.018.973-3.223 1.5-3.399.368-.123 1.146 1.814 1.146 2.853 0 .855-.78 2.6-1.39 3.105-.298.247-.456.127-.813-.622m11.343.373c-1.157-.135-2.15-.292-2.206-.348-.16-.16 1.966-2.017 3.71-3.24 2.387-1.673 4.54-2.317 7.745-2.316 2.182 0 2.874.104 3.949.596l1.303.595-.907.936c-2.935 3.03-7.986 4.433-13.594 3.777m-135.543-5.98c-3.17-5.953-3.802-11.809-1.769-16.407.766-1.73 2.408-4.033 2.878-4.033.185 0 .7.685 1.142 1.522 2.02 3.82 2.643 8.569 1.708 13.03-.515 2.454-2.383 7.938-2.705 7.938-.089 0-.653-.923-1.254-2.05m131.543-.026c-2.11-1.55-3.023-3.093-3.023-5.108 0-1.215.77-3.056 1.587-3.796.494-.447.574-.438 1.965.243 1.713.838 2.676 1.892 3.072 3.363.464 1.725-.257 3.872-1.791 5.328l-.771.733zm-142.341-2.392c-.955-.434-3.028-2.462-3.028-2.963 0-.106.589-.273 1.309-.372 2.032-.28 3.923.381 5.269 1.84.602.654 1.095 1.295 1.095 1.426 0 .289-1.308.57-2.613.562-.527-.003-1.442-.225-2.032-.493m134.927-3.139c1.218-3.954 1.471-13.59.477-18.203a57 57 0 0 0-1.472-5.291c-1.025-3-1.187-3.508-1.031-3.229.06.11.227.199.369.199s.185-.12.095-.265-.099-.265-.019-.265c.285 0 2.284 4.27 2.94 6.28.942 2.884 1.488 6.584 1.481 10.037-.008 4.205-.63 7.156-2.126 10.088-.577 1.13-.974 1.491-.714.65m15.622-.53c.096-.4.694-1.798 1.33-3.108 1.78-3.673 4.396-6.043 7.61-6.899 2.261-.602 2.412-.555 2.244.699-.39 2.903-3.348 6.413-6.971 8.27-.455.233-1.63.726-2.608 1.094l-1.78.67zm-150.592-3.621c-5.551-2.683-8.865-5.295-11.436-9.013-2.092-3.028-3.72-7.066-3.72-9.231 0-.636.089-.69 1.135-.69 2.913 0 6.796 1.74 9.585 4.296 3.283 3.008 5.033 6.073 6.587 11.534 1.15 4.043 1.263 4.544 1.02 4.54-.111 0-1.539-.647-3.17-1.436m145.075.485c-.092-.241-.309-1.552-.48-2.914-.562-4.443.43-8.183 2.772-10.456.58-.562 1.164-1.022 1.3-1.022.405 0 1.01 1.75 1.186 3.43.324 3.1-.9 6.63-3.421 9.872-.926 1.19-1.226 1.431-1.357 1.09m-6.353-7.675c.34-1.413.908-2.21 1.957-2.745 1.55-.792 1.96-.718 1.754.314-.326 1.628-1.397 2.695-3.034 3.022-.84.168-.856.154-.677-.591m18.432-2.084c-.473-.206-.857-.469-.854-.585.01-.368 1.945-1.592 2.816-1.781.461-.1 1.34-.047 1.952.118l1.114.3-.882.909c-.764.789-2.17 1.45-3.022 1.422-.145-.005-.651-.178-1.124-.383m-4.19-2.014c.437-5.243 1.85-8.992 4.434-11.754 1.589-1.698 4.011-3.172 5.51-3.353.608-.073.669.016.745 1.087.125 1.742-.655 4.812-1.81 7.117-1.233 2.466-3.244 4.75-6.16 7-3.185 2.457-2.932 2.466-2.719-.097M164.535 96.2c.011-.601.996-2.432 1.613-2.997.74-.68 1.86-1.142 2.764-1.142.74 0 .783.213.287 1.402-.328.784-2.05 2.558-2.496 2.573-.105.004-.636.11-1.182.237-.703.163-.99.142-.986-.073M39.38 92.511l-1.19-.287 1.894-.184c2.429-.237 4.211-.836 5.755-1.933 1.705-1.212 2.43-2.3 3.187-4.777.358-1.173 1.027-2.644 1.487-3.27.855-1.16 1.328-1.354.772-.315-.17.317-.42 1.753-.555 3.191s-.371 2.944-.524 3.347c-1.29 3.39-6.255 5.33-10.826 4.228m132.353-3.022c-1.37-3.004-1.722-4.62-1.596-7.322.12-2.584.663-4.209 1.984-5.941l.698-.915.593.689c1.538 1.787 2.37 6.366 1.72 9.457-.375 1.79-1.903 5.61-2.293 5.734-.158.05-.656-.715-1.106-1.702m6.655.323c.094-.582.245-3.618.336-6.747.16-5.514-.097-11.175-.726-16.007-.66-5.078-2.584-11.438-4.788-15.834-.572-1.142-.914-1.998-.76-1.903.154.096.28.02.28-.17 0-.608 1.905 2.465 3.056 4.93 3.19 6.83 5.492 18.482 5.039 25.5-.219 3.379-.79 6.78-1.52 9.04-.672 2.084-1.164 2.722-.917 1.191m-5.129-39.936c0-.065-.119-.19-.264-.28s-.265-.038-.265.116.12.28.265.28.264-.052.264-.116M21.39 87.46c-6.885-6.262-9.634-10.983-10.312-17.71-.218-2.153.098-6.211.514-6.628.377-.377 2.86.757 4.714 2.153 4.287 3.228 7.128 8.67 7.976 15.276.349 2.717.746 9.923.547 9.92-.073-.001-1.62-1.356-3.44-3.01m141.818 1.495c.002-1.223.51-2.654 1.254-3.539.681-.81 2.635-1.902 2.999-1.677.248.154-.193 2.347-.65 3.224-.523 1.007-1.444 1.82-2.616 2.31l-.989.413zm19.715-9.65c.101-.48.414-1.25.694-1.712.53-.872 2.361-1.937 3.331-1.937.515 0 .537.075.29.992-.432 1.599-1.891 2.901-3.749 3.347-.733.176-.746.16-.566-.69m-1.078-4.864c-.434-3.474.426-7.949 2.004-10.427.992-1.557 3.308-3.704 3.996-3.704.79 0 1.023 5.098.34 7.427-.775 2.639-3.22 6.102-5.41 7.661l-.744.53zM27.106 70.74c-.83-2.163.852-9.285 3.442-14.577 3.414-6.977 9.876-14.173 15.518-17.28 1.338-.736 1.306-.696-.732.921-3.554 2.82-6.93 6.51-9.617 10.514-2.78 4.142-4.184 7.582-5.825 14.274-.593 2.419-1.273 4.885-1.512 5.482-.446 1.116-.991 1.401-1.274.666m148.415-4.429c-3.31-1.775-5.714-4.87-6.05-7.787-.123-1.073-.097-1.124.573-1.122 1.742.006 4.537 2.38 5.833 4.954.468.928 1.437 4.572 1.263 4.746-.028.028-.757-.328-1.62-.79M24.465 63.817c-1.392-2.767-2.046-5.175-2.208-8.138-.16-2.924.292-6.48.823-6.48.632 0 2.73 1.536 3.654 2.676 1.65 2.036 2.173 3.325 2.185 5.393.01 1.729-.094 2.069-1.554 5.094-.86 1.782-1.663 3.24-1.783 3.24s-.623-.803-1.117-1.785m155.049-4.47c-.602-3.045-.356-5.571.757-7.767.795-1.57 2.708-3.351 3.137-2.921.187.187.302 1.33.302 3 0 2.617-.03 2.756-1.001 4.573-.551 1.03-1.462 2.322-2.024 2.871l-1.022.998zm-68.432-2.831c0-.451.748-1.115 1.521-1.35.762-.233.743.064-.061.978-.678.77-1.46.969-1.46.372M33.59 54.752c1.046-1.877 3.42-4.082 5.433-5.045 1.457-.699 2.23-.892 3.93-.982 2.15-.115 3.863.18 4.728.812.444.324.393.442-.74 1.701-1.47 1.635-3.438 2.97-5.575 3.778-1.242.47-2.33.63-4.998.735l-3.41.135zm76.965.194c0-.802 1.282-2.19 2.17-2.35.969-.176 1.534.041 1.534.587 0 .382-.305.583-1.245.82-.685.172-1.518.608-1.852.968l-.607.655zm57.018-.605c-.437-.225-.965-.578-1.173-.783-.327-.323-.22-.446.794-.905 1.314-.597 2.774-.659 4.347-.184 1.386.417 1.347.95-.122 1.69-1.377.695-2.73.76-3.846.182m-58.306-1.16c.174-.5.815-1.406 1.424-2.015.918-.918 1.368-1.152 2.637-1.37 1.42-.246 2.024-.224 3.048.107.8.26-.765 1.148-2.022 1.148-1.584 0-2.915.6-4.27 1.928l-1.133 1.109zm65.577-2.87c-.75-1.497-.906-2.129-1.001-4.048-.094-1.886-.02-2.485.431-3.506.3-.677.655-1.231.79-1.231.33 0 1.475 1.777 1.856 2.883.497 1.442.383 4.31-.236 5.965-.3.803-.638 1.517-.75 1.586-.11.069-.602-.673-1.09-1.649m-65.359.239c.662-1.25 2.453-2.918 3.604-3.357 1.384-.53 4.318-.42 5.512.206l.757.397-.576.403c-.45.315-1.084.374-2.904.27-2.854-.163-3.938.155-5.54 1.625-.876.802-1.1.922-.853.456m-79.602-1.036c-1.895-1.894-2.474-3.183-2.62-5.824-.066-1.211-.008-2.314.128-2.45.332-.332 2.019.945 2.831 2.145.348.513.825 1.5 1.06 2.192.47 1.384.581 4.818.164 5.076-.144.089-.848-.423-1.563-1.139m78.698-.58c.528-1.848 2.227-3.934 3.94-4.841 1.648-.872 4.113-.74 7.331.392l2.55.897-.936.614c-.919.602-.967.606-2.55.2-2.732-.698-3.209-.739-5.014-.424-2.025.352-3.826 1.419-4.84 2.865-.543.777-.635.833-.481.297m54.957-.028c-.619-.306-1.125-.665-1.125-.797 0-.133.387-.477.86-.765 1.455-.887 4.475-.65 6.244.49l.621.401-1.15.602c-1.547.81-3.894.84-5.45.07m-113.51-5.029c-.621-.307-1.376-.872-1.677-1.255l-.548-.696.883-.372c2.07-.872 5.296-.261 6.675 1.263.498.55.494.556-.662 1.08-1.52.69-3.253.682-4.672-.02m69.126-.293c-2.905-1.128-5.647-1.179-7.871-.147-.837.388-1.522.665-1.522.615 0-.292 2.738-1.751 3.95-2.106 1.796-.525 4.726-.535 6.634-.023 1.759.472 3.564.489 4.61.043.696-.298.59-.32-1.07-.226-1.83.103-1.852.096-3.683-1.16-1.013-.694-2.318-1.413-2.9-1.596l-1.058-.333.988-.018c.544-.01 2.135.28 3.535.644 2.6.675 4.605.856 4.605.415 0-.347-1.479-1.36-2.616-1.791-.935-.355-.915-.361.9-.261 2.1.115 3.862.79 4.957 1.899.72.729.727.73.727.13 0-.934-1.81-2.484-3.47-2.973-1.732-.51-.9-.598.957-.102 2.68.716 5.39 2.515 6.21 4.124.295.578.537 1.15.537 1.273 0 .122-1.102.361-2.448.532s-3.511.671-4.812 1.112c-3.03 1.027-4.41 1.017-7.16-.05m-83.06-2.246c-.331-4.672.95-8.655 3.622-11.257l1.343-1.308.418.754c.31.56.419 1.506.419 3.664 0 2.803-.036 2.984-.958 4.895-.887 1.84-3.687 5.524-4.365 5.745-.197.064-.358-.772-.48-2.493m125.87-.33c-.464-.283-1.05-.829-1.301-1.212-.556-.848-.22-1.17 1.221-1.176 1.652-.007 4.104 1.78 3.588 2.615-.3.486-2.579.34-3.507-.227m-104.922-.902c-1.831-.683-4.166-2.965-3.74-3.655.203-.328 3.603-.26 4.628.093.494.17 1.341.6 1.882.955 1.055.692 2.477 2.374 2.223 2.628-.352.353-4.033.337-4.993-.021m.993-5.296c-.727-.191-2.034-.56-2.902-.82l-1.58-.473.898-.75c2.53-2.112 6.92-3.595 9.62-3.25 1.876.239 3.85 1.003 4.937 1.91l.907.758-1.14.825c-1.943 1.409-3.805 1.977-6.771 2.068-1.607.05-3.165-.056-3.969-.268" style="fill:teal;stroke-width:.264583"></path></svg>
`)}`,sh,WC=(sh=class extends Lb{},Se(sh,"defaultMetadata",{name:"BiatecWallet",icon:MC}),sh),ZC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" fill="#525252" />
</svg>
`)}`,oh,OC=(oh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"provider");Se(this,"store");Se(this,"connect",async e=>{this.logger.info("Connecting...");try{if(!this.provider.connect)throw this.logger.error("Method not supported: connect"),new Error("Method not supported: connect");const n=await this.provider.connect(e);if(n.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const r=n[0],i={accounts:n,activeAccount:r};return mr(this.store,{walletId:this.id,wallet:i}),this.logger.info("✅ Connected.",i),n}catch(n){throw this.logger.error("Error connecting:",n.message||n),n}});Se(this,"disconnect",async()=>{var e,n;this.logger.info("Disconnecting..."),this.onDisconnect(),await((n=(e=this.provider).disconnect)==null?void 0:n.call(e))});Se(this,"resumeSession",async()=>{var e,n;try{const i=this.store.state.wallets[this.id];if(!i){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const s=await((n=(e=this.provider).resumeSession)==null?void 0:n.call(e));if(Array.isArray(s)){const o=s;if(o.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");ko(o,i.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:i.accounts,current:o}),Es(this.store,{walletId:this.id,accounts:o}))}this.logger.info("Session resumed.")}catch(r){throw this.logger.error("Error resuming session:",r.message),r}});Se(this,"signTransactions",async(e,n)=>{if(!this.provider.signTransactions)throw this.logger.error("Method not supported: signTransactions"),new Error("Method not supported: signTransactions");return this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n}),await this.provider.signTransactions(e,n)});Se(this,"transactionSigner",async(e,n)=>{if(!this.provider.transactionSigner)throw this.logger.error("Method not supported: transactionSigner"),new Error("Method not supported: transactionSigner");return this.logger.debug("Transaction signer called...",{txnGroup:e,indexesToSign:n}),await this.provider.transactionSigner(e,n)});if(!(s!=null&&s.provider))throw this.logger.error("Missing required option: provider"),new Error("Missing required option: provider");this.provider=s.provider,this.store=n}},Se(oh,"defaultMetadata",{name:"Custom",icon:ZC}),oh),DC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,ah,UC=(ah=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s={},metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"store");Se(this,"connect",async()=>{var a;this.logger.info("Connecting...");const e=this.store.state.activeWallet;e&&e!==this.id&&this.manageWalletConnectSession("backup",e);const n=this.client||await this.initializeClient(),r=await n.connect();if((a=n.connector)==null||a.on("disconnect",this.onDisconnect),r.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const i=r.map((l,c)=>({name:`${this.metadata.name} Account ${c+1}`,address:l})),s=i[0],o={accounts:i,activeAccount:s};return mr(this.store,{walletId:this.id,wallet:o}),this.logger.info("✅ Connected.",o),i});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const e=this.client||await this.initializeClient(),n=this.store.state.activeWallet;n&&n!==this.id?(this.manageWalletConnectSession("backup",n),this.manageWalletConnectSession("restore",this.id),await e.disconnect(),await new Promise(r=>setTimeout(r,500)),this.manageWalletConnectSession("restore",n)):await e.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});Se(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const e=this.store.state.activeWallet;e&&e==="pera"&&this.manageWalletConnectSession("backup",e),this.manageWalletConnectSession("restore"),Ud(this.store,{walletId:this.id})});Se(this,"resumeSession",async()=>{try{const e=this.store.state,n=e.wallets[this.id];if(!n){this.logger.info("No session to resume");return}if(e.activeWallet==="pera"){this.logger.info("Skipping reconnectSession for Defly (inactive)");return}this.logger.info("Resuming session...");const i=await(this.client||await this.initializeClient()).reconnectSession();if(i.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const s=i.map((a,l)=>({name:`${this.metadata.name} Account ${l+1}`,address:a}));ko(s,n.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:n.accounts,current:s}),Es(this.store,{walletId:this.id,accounts:s})),this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const a=on(e);r=this.processTxns(a,n)}else{const a=on(e);r=this.processEncodedTxns(a,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const s=await i.signTransaction([r]);this.logger.debug("Received signed transactions from wallet",s);const o=r.reduce((a,l)=>{if(l.signers&&l.signers.length==0)a.push(null);else{const c=s.shift();c&&a.push(c)}return a},[]);return this.logger.debug("Transactions signed successfully",o),o}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.options=s,this.store=n}async initializeClient(){this.logger.info("Initializing client...");const e=await Gi(()=>import("./index-CCnwRl7e.js").then(i=>i.i),__vite__mapDeps([2,3,1]),import.meta.url),n=e.default?e.default.DeflyWalletConnect:e.DeflyWalletConnect,r=new n(this.options);return this.client=r,this.logger.info("Client initialized"),r}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a);o&&l?r.push({txn:i}):r.push({txn:i,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f);c&&h?r.push({txn:l}):r.push({txn:l,signers:[]})}),r}},Se(ah,"defaultMetadata",{name:"Defly",icon:DC}),ah),PC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="grad1" gradientUnits="userSpaceOnUse" x1="246.603" y1="9.2212" x2="174.158" y2="308.5426" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
  
  <linearGradient id="grad2" gradientUnits="userSpaceOnUse" x1="129.3516" y1="-19.1573" x2="56.9066" y2="280.1641" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  
  <mask id="mask1" maskUnits="userSpaceOnUse" x="25.4" y="23" width="247.6" height="254">
    <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
    <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  </mask>
  
  <linearGradient id="grad3" gradientUnits="userSpaceOnUse" x1="46.4662" y1="228.7554" x2="171.8638" y2="135.1039" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0.1198" stop-color="#8952FF" stop-opacity="0.87" />
    <stop offset="1" stop-color="#DABDFF" stop-opacity="0" />
  </linearGradient>
  <rect x="25.4" y="23" width="247.6" height="254" fill="url(#grad3)" mask="url(#mask1)" />
</svg>
`)}`,lh,GC=(lh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s={},metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"store");Se(this,"connect",async()=>{this.logger.info("Connecting...");const e=this.client||await this.initializeClient(),{accounts:n}=await e.enable(this.options);if(n.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const r=n.map((o,a)=>({name:`${this.metadata.name} Account ${a+1}`,address:o})),i=r[0],s={accounts:r,activeAccount:i};return mr(this.store,{walletId:this.id,wallet:s}),this.logger.info("✅ Connected.",s),r});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Se(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!(await this.initializeClient()).isConnected)throw this.logger.error("Exodus is not connected."),new Error("Exodus is not connected.");this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const a=on(e);r=this.processTxns(a,n)}else{const a=on(e);r=this.processEncodedTxns(a,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const s=await i.signTxns(r);this.logger.debug("Received signed transactions from wallet",s);const o=s.map(a=>a===null?null:Pd(a));return this.logger.debug("Transactions signed successfully",o),o}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.options=s,this.store=n}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.algorand===void 0)throw this.logger.error("Exodus is not available."),new Error("Exodus is not available.");const e=window.algorand;return this.client=e,this.logger.info("Client initialized"),e}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a),c=jr(i.toByte());o&&l?r.push({txn:c}):r.push({txn:c,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f),v=jr(l.toByte());c&&h?r.push({txn:v}):r.push({txn:v,signers:[]})}),r}},Se(lh,"defaultMetadata",{name:"Exodus",icon:PC}),lh);function Vl(t){return typeof t=="object"&&"code"in t&&"message"in t}var Kr="f6d1c86b-4493-42fb-b88d-a62407b4cdf6",VC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#801C96" width="480" height="480" />
  <path fill="#FFFFFF" d="M393.5,223.2c0-7.3-0.6-14.6-1.6-21.6c-0.9-6.5-2.3-12.8-4-18.9c-18-64.9-77.4-112.5-148-112.5c-70.6,0-130,47.6-148,112.5c-1.7,6.2-3,12.5-4,19c-1,7.1-1.6,14.3-1.6,21.6h0v85.5h19.7v-85.5c0-7.2,0.6-14.4,1.8-21.4c14,1.1,27.6,4.3,40.5,9.5c15.9,6.4,30.3,15.6,42.6,27.3c12.3,11.7,22,25.4,28.7,40.6c6.9,15.6,10.5,32.2,10.5,49.2v81.4h0.1h19.6h0.1v-81.5c0.1-17.1,3.6-33.7,10.5-49.2c6.7-15.2,16.4-28.8,28.7-40.6c4.2-4,8.6-7.7,13.2-11.1v132.2h19.7V223.2h0c0-2.5-0.1-5-0.4-7.4c3.3-1.6,6.6-3.1,10-4.5c12.9-5.2,26.4-8.4,40.4-9.5c1.2,7,1.7,14.2,1.8,21.4v85.5h19.7L393.5,223.2L393.5,223.2z M240.1,277.3c-11.6-29.3-32.7-54.1-59.8-71c2.9-10,8.2-19.1,15.8-26.6c11.8-11.8,27.4-18.2,44-18.2s32.3,6.5,44,18.2c4.1,4.1,7.5,8.7,10.3,13.6c5.6-3.4,11.4-6.4,17.4-9.2c-14-25.2-40.9-42.3-71.8-42.3c-35.9,0-66.3,23-77.5,55.1c-15.5-7.1-32.5-11.8-50.4-13.5c1.3-4,2.7-7.9,4.3-11.8c6.7-15.9,16.4-30.3,28.7-42.6s26.6-22,42.6-28.7c16.5-7,34-10.5,52.1-10.5s35.6,3.5,52.1,10.5c15.9,6.7,30.3,16.4,42.6,28.7s22,26.6,28.7,42.6c1.6,3.9,3.1,7.8,4.3,11.8C309,189.2,260.1,226.5,240.1,277.3z" />
  <path fill="#FFFFFF" d="M158.1,359.8h19.7V245.5c-6.1-5.4-12.7-10-19.7-14V359.8z" />
</svg>
`)}`,ch,jC=(ch=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,metadata:s={}}){super({id:e,metadata:s,getAlgodClient:i,store:n,subscribe:r});Se(this,"avmWebClient",null);Se(this,"avmWebProviderSDK",null);Se(this,"store");Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const o=on(e);r=this.processTxns(o,n)}else{const o=on(e);r=this.processEncodedTxns(o,n)}this.logger.debug("Sending processed transactions to wallet...",r);const i=await this._signTransactions(r);this.logger.debug("Received signed transactions from wallet",i);const s=i.stxns.map(o=>o===null?null:Pd(o));return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw this.logger.error("Error signing transactions:",Vl(r)?`${r.message} (code: ${r.code})`:r.message),r}});this.store=n}async _disable(){const{ARC0027MethodEnum:e,ARC0027MethodTimedOutError:n,ARC0027UnknownError:r,LOWER_REQUEST_TIMEOUT:i}=this.avmWebProviderSDK||await this._initializeAVMWebProviderSDK(),s=this.avmWebClient||await this._initializeAVMWebClient(),o=await this._getGenesisHash();return new Promise((a,l)=>{const c=window.setTimeout(()=>{s.removeListener(f),l(new n({method:e.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:Kr}))},i),f=s.onDisable(({error:h,method:v,result:I})=>(s.removeListener(f),window.clearTimeout(c),h?l(h):I?(this.logger.debug("Disable successful",{result:I}),a(I)):l(new r({message:`received response, but "${v}" request details were empty for provider "${this.metadata.name}"`,providerId:Kr}))));this.logger.debug("Sending disable request...",{genesisHash:o}),s.disable({genesisHash:o,providerId:Kr})})}async _enable(){const{ARC0027MethodEnum:e,ARC0027MethodTimedOutError:n,ARC0027UnknownError:r,DEFAULT_REQUEST_TIMEOUT:i}=this.avmWebProviderSDK||await this._initializeAVMWebProviderSDK(),s=this.avmWebClient||await this._initializeAVMWebClient(),o=await this._getGenesisHash();return new Promise((a,l)=>{const c=window.setTimeout(()=>{s.removeListener(f),l(new n({method:e.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:Kr}))},i),f=s.onEnable(({error:h,method:v,result:I})=>(s.removeListener(f),window.clearTimeout(c),h?l(h):I?(this.logger.debug("Enable successful",{result:I}),a(I)):l(new r({message:`received response, but "${v}" request details were empty for provider "${this.metadata.name}"`,providerId:Kr}))));this.logger.debug("Sending enable request...",{genesisHash:o}),s.enable({genesisHash:o,providerId:Kr})})}async _getGenesisHash(){return(await this.getAlgodClient().versionsCheck().do()).genesis_hash_b64}async _initializeAVMWebClient(){const e=this.avmWebProviderSDK||await this._initializeAVMWebProviderSDK();return this.avmWebClient||(this.logger.info("Initializing new AVM Web Client..."),this.avmWebClient=e.AVMWebClient.init(),this.logger.info("AVM Web Client initialized")),this.avmWebClient}async _initializeAVMWebProviderSDK(){if(!this.avmWebProviderSDK){this.logger.info("Initializing @agoralabs-sh/avm-web-provider...");const e=await Gi(()=>import("./use-wallet-BIHI7g3E.js"),[],import.meta.url);if(this.avmWebProviderSDK=e.default?e.default:e,!this.avmWebProviderSDK)throw new Error("Failed to initialize, the @agoralabs-sh/avm-web-provider SDK was not provided");if(!this.avmWebProviderSDK.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient missing from @agoralabs-sh/avm-web-provider SDK");this.logger.info("@agoralabs-sh/avm-web-provider initialized")}return this.avmWebProviderSDK}_mapAVMWebProviderAccountToWalletAccounts(e){return e.map(({address:n,name:r},i)=>({name:r||`[${this.metadata.name}] Account ${i+1}`,address:n}))}async _signTransactions(e){const{ARC0027MethodEnum:n,ARC0027MethodTimedOutError:r,ARC0027UnknownError:i,DEFAULT_REQUEST_TIMEOUT:s}=this.avmWebProviderSDK||await this._initializeAVMWebProviderSDK(),o=this.avmWebClient||await this._initializeAVMWebClient();return new Promise((a,l)=>{const c=window.setTimeout(()=>{o.removeListener(f),l(new r({method:n.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:Kr}))},s),f=o.onSignTransactions(({error:h,method:v,result:I})=>(o.removeListener(f),window.clearTimeout(c),h?l(h):I?(this.logger.debug("Sign transactions successful",{result:I}),a(I)):l(new i({message:`received response, but "${v}" request details were empty for provider "${this.metadata.name}"`,providerId:Kr}))));this.logger.debug("Sending sign transactions request...",{txns:e}),o.signTransactions({txns:e,providerId:Kr})})}async connect(){let e;try{this.logger.info("Connecting..."),e=await this._enable(),this.logger.info(`Successfully connected on network "${e.genesisId}"`)}catch(i){throw this.logger.error("Error connecting:",Vl(i)?`${i.message} (code: ${i.code})`:i.message),i}const n=this._mapAVMWebProviderAccountToWalletAccounts(e.accounts),r={accounts:n,activeAccount:n[0]};return mr(this.store,{walletId:this.id,wallet:r}),this.logger.info("✅ Connected.",r),n}async disconnect(){try{this.logger.info("Disconnecting..."),this.onDisconnect();const e=await this._disable();this.logger.info(`Successfully disconnected${e.sessionIds&&e.sessionIds.length?` sessions [${e.sessionIds.join(",")}]`:""} on network "${e.genesisId}"`)}catch(e){throw this.logger.error("Error disconnecting:",Vl(e)?`${e.message} (code: ${e.code})`:e.message),e}}async resumeSession(){const n=this.store.state.wallets[this.id];let r;if(!n){this.logger.info("No session to resume");return}try{if(this.logger.info("Resuming session..."),r=await this._enable(),r.accounts.length===0)throw new Error("No accounts found!");const i=this._mapAVMWebProviderAccountToWalletAccounts(r.accounts);ko(i,n.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:n.accounts,current:i}),Es(this.store,{walletId:this.id,accounts:i})),this.logger.info("Session resumed successfully")}catch(i){throw this.logger.error("Error resuming session:",Vl(i)?`${i.message} (code: ${i.code})`:i.message),this.onDisconnect(),i}}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a),c=jr(i.toByte());o&&l?r.push({txn:c}):r.push({txn:c,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f),v=jr(l.toByte());c&&h?r.push({txn:v}):r.push({txn:v,signers:[]})}),r}},Se(ch,"defaultMetadata",{name:"Kibisis",icon:VC}),ch),$C=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="algokitGradient" gradientUnits="userSpaceOnUse" x1="0" y1="400" x2="400" y2="0">
    <stop offset="0" style="stop-color:#31D8EE"/>
    <stop offset="1" style="stop-color:#01DC94"/>
  </linearGradient>
  <rect fill="url(#algokitGradient)" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,uh,zC=(uh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"walletName");Se(this,"walletId","");Se(this,"password",null);Se(this,"store");Se(this,"connect",async()=>{this.logger.info("Connecting..."),this.client||await this.initializeClient();try{const e=await this.fetchToken(),n=await this.fetchAccounts(e);if(n.length===0)throw new Error("No accounts found!");const r=n.map((o,a)=>({name:`${this.metadata.name} Account ${a+1}`,address:o})),i=r[0],s={accounts:r,activeAccount:i};return mr(this.store,{walletId:this.id,wallet:s}),await this.releaseToken(e),this.logger.info("✅ Connected.",s),r}catch(e){throw this.logger.error("Error connecting:",e.message),e}});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Se(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const l=on(e);r=this.processTxns(l,n)}else{const l=on(e);r=this.processEncodedTxns(l,n)}const i=await this.fetchToken(),s=await this.getPassword(),o=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const a=await Promise.all(r.map(l=>o.signTransaction(i,s,l)));return this.logger.debug("Received signed transactions from wallet",a),await this.releaseToken(i),this.logger.debug("Transactions signed successfully",a),a}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});const{token:a="a".repeat(64),baseServer:l="http://127.0.0.1",port:c=4002,wallet:f="unencrypted-default-wallet",promptForPassword:h=()=>Promise.resolve(prompt("KMD password")||"")}=s||{};this.options={token:a,baseServer:l,port:c,promptForPassword:h},this.walletName=f,this.store=n}async initializeClient(){this.logger.info("Initializing client...");const{token:e,baseServer:n,port:r}=this.options,i=new oe.Kmd(e,n,r);return this.client=i,this.logger.info("Client initialized"),i}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a);o&&l&&r.push(i)}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f);c&&h&&r.push(l)}),r}async fetchWalletId(){this.logger.debug("Fetching wallet data...",{walletName:this.walletName});const e=this.client||await this.initializeClient(),{wallets:n}=await e.listWallets(),r=n.find(i=>i.name===this.walletName);if(!r)throw this.logger.error(`Wallet "${this.walletName}" not found!`),new Error(`Wallet "${this.walletName}" not found!`);return this.walletId=r.id,this.logger.debug("Wallet data fetched successfully",{walletId:this.walletId}),r.id}async fetchToken(){this.logger.debug("Fetching token...",{walletId:this.walletId});const e=this.client||await this.initializeClient(),n=this.walletId||await this.fetchWalletId(),r=await this.getPassword(),{wallet_handle_token:i}=await e.initWalletHandle(n,r);return this.logger.debug("Token fetched successfully"),i}async releaseToken(e){this.logger.debug("Releasing token..."),await(this.client||await this.initializeClient()).releaseWalletHandle(e),this.logger.debug("Token released successfully")}async getPassword(){if(this.password!==null)return this.password;const e=await this.options.promptForPassword();return this.password=e,e}async fetchAccounts(e){this.logger.debug("Fetching accounts...");const n=this.client||await this.initializeClient(),{addresses:r}=await n.listKeys(e);return this.logger.debug("Accounts fetched successfully",{addresses:r}),r}},Se(uh,"defaultMetadata",{name:"KMD",icon:$C}),uh),YC=`data:image/svg+xml;base64,${btoa(`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="249" height="249" viewBox="0 0 249 249" xml:space="preserve">
  <g transform="matrix(2.52 0 0 2.52 124.74 124.74)">
    <circle style="stroke: rgb(0,0,0); stroke-width: 19; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" cx="0" cy="0" r="40"/>
  </g>
  <g transform="matrix(-1.16 -0.01 0.01 -0.97 125.63 187.7)">
    <path style="stroke: rgb(0,0,0); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(170,0,255); fill-rule: nonzero; opacity: 1;" transform=" translate(-57.95, -28.98)" d="m 0 57.952755 l 0 0 c 0 -32.006424 25.946333 -57.952755 57.952755 -57.952755 c 32.006428 0 57.952755 25.946333 57.952755 57.952755 l -28.97638 0 c 0 -16.003212 -12.97316 -28.976377 -28.976376 -28.976377 c -16.003212 0 -28.976377 12.9731655 -28.976377 28.976377 z" stroke-linecap="round"/>
  </g>
  <g transform="matrix(1.16 0 0 2.21 126.06 96.74)">
    <path style="stroke: rgb(255,4,233); stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: rgb(170,0,255); fill-rule: nonzero; opacity: 1;" transform=" translate(-57.95, -28.98)" d="m 0 57.952755 l 0 0 c 0 -32.006424 25.946333 -57.952755 57.952755 -57.952755 c 32.006428 0 57.952755 25.946333 57.952755 57.952755 l -28.97638 0 c 0 -16.003212 -12.97316 -28.976377 -28.976376 -28.976377 c -16.003212 0 -28.976377 12.9731655 -28.976377 28.976377 z" stroke-linecap="round"/>
  </g>
</svg>
`)}`,dh,XC=(dh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"store");Se(this,"authClient");Se(this,"options");Se(this,"connect",async e=>{var a;this.logger.info("Connecting...");const n=this.authClient||await this.initializeClient();await n.connect();const r=await n.checkSession(),i=(a=r==null?void 0:r.user)==null?void 0:a.wallet;if(!i)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const s=[{name:`${this.metadata.name} Account 1`,address:i.toString()}],o={accounts:s,activeAccount:s[0]};return mr(this.store,{walletId:this.id,wallet:o}),this.logger.info("Connected successfully",o),n.hideModal(),Promise.resolve(s)});Se(this,"disconnect",async()=>{if(this.logger.info("Disconnecting..."),!this.authClient)throw this.logger.error("No auth client to disconnect"),new Error("No auth client to disconnect");await this.authClient.disconnect(),this.onDisconnect(),this.logger.info("Disconnected."),this.authClient=null});Se(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.disconnect()}catch(e){throw this.logger.error("Error resuming session",e),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{if(!this.activeAddress)throw new Error("No active account");return this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n}),(this.authClient||await this.initializeClient()).signTransactions(e,this.activeAddress,n)}catch(r){throw this.logger.error("Error signing transactions",r),r}});this.store=n,this.options=s??{RTC_config_username:"username",RTC_config_credential:"credential"}}async initializeClient(){this.logger.info("Initializing client...");const{LiquidAuthClient:e}=await Gi(async()=>{const{LiquidAuthClient:r}=await Promise.resolve().then(()=>NE);return{LiquidAuthClient:r}},void 0,import.meta.url),n=new e(this.options);return this.authClient=n,this.logger.info("Client initialized"),n}},Se(dh,"defaultMetadata",{name:"Liquid",icon:YC}),dh);function JC(t){return t instanceof Error&&"code"in t}var KC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <path fill="#AB47BC" d="M283.7,263.6c-0.6,0-1.3-0.1-1.8-0.4c-0.6-0.3-1.1-0.8-1.5-1.3c-0.4-0.6-0.7-1.3-0.8-2 c-0.1-0.8-0.1-1.7,0.1-2.5c0.2-0.9,0.6-1.8,1.2-2.6c0.6-0.8,1.4-1.7,2.2-2.3c0.9-0.7,2.1-1.2,3.2-1.6c1.2-0.4,2.7-0.5,4-0.5 c1.4,0,3,0.3,4.4,0.8c1.5,0.5,3.1,1.4,4.3,2.3c1.4,1,2.8,2.4,3.8,3.7c1.1,1.5,2.1,3.3,2.8,5.1c0.7,1.9,1.2,4.1,1.3,6.1 c0.2,2.1,0,4.6-0.4,6.7c-0.5,2.2-1.4,4.7-2.4,6.7c-1.1,2.1-2.8,4.4-4.4,6.2c-1.8,1.9-4.1,3.7-6.3,5c-2.3,1.4-5.2,2.6-7.9,3.3 c-2.8,0.7-6.1,1.1-8.9,1.1c-3,0-6.5-0.6-9.3-1.4c-3-0.9-6.4-2.4-9.1-4c-2.8-1.7-5.8-4.2-8-6.6c-2.3-2.5-4.6-5.8-6.2-8.9 c-1.7-3.2-3.1-7.1-3.8-10.7c-0.8-3.7-1.1-8-0.9-11.8c0.2-3.9,1.1-8.3,2.3-12c1.3-3.8,3.4-8.1,5.7-11.4c2.3-3.5,5.6-7.1,8.8-9.9 c3.3-2.8,7.5-5.6,11.5-7.5c4.1-1.9,9-3.5,13.5-4.3c4.6-0.8,10-1.1,14.6-0.7c4.8,0.4,10.2,1.6,14.7,3.3c4.7,1.7,9.7,4.4,13.8,7.3 c4.2,3,8.5,7,11.7,10.9c3.3,4.1,6.5,9.2,8.7,14c2.2,4.9,4,10.9,4.9,16.3c0.9,5.5,1,11.9,0.4,17.5c-0.6,5.7-2.2,12.1-4.3,17.4 c-2.1,5.5-5.4,11.4-8.9,16.1c-3.6,4.8-8.4,9.8-13.1,13.6c-4.8,3.8-11,7.5-16.6,9.9c-5.8,2.5-12.8,4.5-19.1,5.4 c-6.4,0.9-13.9,1-20.3,0.2c-6.6-0.8-14-2.7-20.1-5.2c-6.3-2.5-13.1-6.4-18.5-10.5c-5.5-4.2-11.2-9.8-15.4-15.3 c-4.3-5.6-8.4-12.7-11.2-19.2c-2.8-6.7-4.9-14.7-5.9-21.9c-0.9-5.9-2.8-12.6-5.2-18.1c-2.3-5.4-5.9-11.2-9.5-15.8 c-3.6-4.5-8.3-9-13-12.4c-4.5-3.3-10.1-6.4-15.3-8.3c-5-1.9-11.1-3.4-16.5-3.9c-5.2-0.5-11.3-0.3-16.5,0.5c-5,0.8-10.7,2.6-15.3,4.7 c-4.5,2.1-9.4,5.1-13.2,8.3c-3.7,3.1-7.5,7.2-10.2,11.1c-2.7,3.8-5.2,8.6-6.7,13c-1.5,4.2-2.6,9.3-3,13.8c-0.3,4.3-0.1,9.4,0.7,13.7 c0.8,4.1,2.3,8.8,4.2,12.5c1.8,3.6,4.4,7.6,7.1,10.6c2.6,2.9,6,5.9,9.3,8.1c3.1,2.1,7.1,4,10.6,5.1c3.4,1.1,7.5,1.9,11.1,2 c3.5,0.2,7.4-0.2,10.8-1c3.2-0.7,6.8-2.1,9.7-3.6c2.8-1.5,5.7-3.6,8-5.8c2.2-2.1,4.3-4.8,5.9-7.4c1.5-2.5,2.8-5.5,3.5-8.3 c0.7-2.6,1.1-5.7,1.1-8.5c0-2.6-0.5-5.5-1.2-8c-0.7-2.3-1.8-4.9-3.1-6.9c-1.2-1.9-2.9-3.9-4.6-5.4c-1.6-1.4-3.6-2.8-5.5-3.7 c-1.8-0.9-4-1.6-5.9-1.9c-1.8-0.3-3.9-0.4-5.8-0.1c-1.7,0.2-3.6,0.7-5.1,1.4c-1.4,0.6-2.9,1.6-4.1,2.6c-1.1,0.9-2.1,2.2-2.9,3.4 c-0.7,1.1-1.2,2.5-1.5,3.7c-0.3,1.1-0.4,2.4-0.3,3.6c0.1,1,0.4,2.2,0.8,3.1c0.4,0.8,1,1.7,1.6,2.3c0.6,0.5,1.3,1,2.1,1.3 c0.6,0.2,1.5,0.4,2.1,0.3c0.6-0.1,1.3-0.3,1.8-0.6c0.5-0.3,1-0.8,1.2-1.4c0.3-0.5,0.7-1,1.2-1.4c0.5-0.3,1.2-0.6,1.8-0.6 c0.7-0.1,1.5,0.1,2.1,0.3c0.7,0.3,1.5,0.8,2.1,1.3c0.6,0.6,1.3,1.5,1.6,2.3c0.4,0.9,0.7,2.1,0.8,3.1c0.1,1.1,0,2.5-0.3,3.6 c-0.3,1.2-0.9,2.6-1.5,3.7c-0.7,1.2-1.8,2.4-2.9,3.4c-1.2,1-2.7,2-4.1,2.6c-1.5,0.7-3.4,1.2-5.1,1.4c-1.8,0.2-4,0.2-5.8-0.1 c-2-0.3-4.1-1-5.9-1.9c-1.9-0.9-4-2.3-5.5-3.7c-1.7-1.5-3.4-3.5-4.6-5.4c-1.3-2-2.4-4.6-3.1-6.9c-0.7-2.5-1.2-5.4-1.2-8 c0-2.7,0.4-5.8,1.1-8.5c0.7-2.8,2-5.8,3.5-8.3c1.5-2.6,3.7-5.3,5.9-7.4c2.3-2.2,5.2-4.3,8-5.8c2.9-1.6,6.5-2.9,9.7-3.6 c3.4-0.8,7.4-1.1,10.8-1c3.6,0.2,7.7,0.9,11.1,2c3.6,1.2,7.5,3.1,10.6,5.1c3.3,2.1,6.7,5.1,9.3,8.1c2.7,3,5.3,7,7.1,10.6 c1.8,3.8,3.4,8.4,4.2,12.5c0.8,4.3,1.1,9.3,0.7,13.7c-0.4,4.5-1.5,9.6-3,13.8c-1.6,4.4-4.1,9.2-6.7,13c-2.8,3.9-6.5,8-10.2,11.1 c-3.8,3.2-8.7,6.2-13.2,8.3c-4.6,2.1-10.3,3.8-15.3,4.7c-5.2,0.9-11.3,1-16.5,0.5c-5.4-0.5-11.5-2-16.5-3.9 c-5.2-2-10.8-5.1-15.3-8.3c-4.6-3.4-9.4-7.9-13-12.4c-3.7-4.6-7.2-10.4-9.5-15.8c-2.4-5.5-4.3-12.2-5.2-18.1 c-0.9-6.1-1-13.2-0.3-19.3c0.7-6.3,2.5-13.4,4.9-19.2c2.4-6,6.1-12.5,10-17.7c4-5.3,9.3-10.7,14.6-14.8c5.3-4.2,12.1-8.1,18.3-10.7 c6.4-2.7,14.1-4.8,21-5.7c7-1,15.2-1,22.2-0.1c7.2,0.9,15.2,3.1,21.9,5.8c5.6,2.2,12.3,3.9,18.3,4.6c5.8,0.7,12.6,0.5,18.4-0.4 c5.6-0.9,12-2.7,17.2-5c5.1-2.3,10.6-5.6,14.9-9.1c4.2-3.4,8.5-8,11.7-12.3c3.1-4.3,6-9.6,7.8-14.5c1.8-4.8,3.1-10.5,3.6-15.6 c0.5-4.9,0.3-10.7-0.6-15.6c-0.8-4.7-2.5-10.1-4.5-14.4c-2-4.2-4.9-8.8-7.9-12.3c-2.9-3.4-6.8-6.9-10.5-9.5 c-3.6-2.5-8.1-4.8-12.2-6.2c-4-1.4-8.7-2.4-12.9-2.7c-4-0.3-8.7,0-12.7,0.8c-3.8,0.8-8.1,2.2-11.6,4c-3.4,1.7-7,4.1-9.7,6.6 c-2.7,2.4-5.4,5.6-7.3,8.6c-1.9,2.9-3.6,6.5-4.6,9.8c-1,3.2-1.6,6.9-1.7,10.2c-0.1,3.2,0.3,6.8,1,9.9c0.7,2.9,2,6.2,3.5,8.8 c1.4,2.5,3.4,5.1,5.4,7.2c1.9,1.9,4.4,3.8,6.8,5.2c2.2,1.3,5,2.4,7.5,3c2.3,0.6,5.1,0.9,7.6,0.8c2.3-0.1,4.9-0.5,7-1.3 c2-0.7,4.2-1.7,6-2.9c1.6-1.1,3.3-2.7,4.6-4.2c1.2-1.4,2.3-3.2,3-4.9c0.7-1.6,1.2-3.5,1.3-5.1c0.2-1.5,0.1-3.3-0.2-4.9 c-0.3-1.4-0.8-2.9-1.5-4.2c-0.6-1.1-1.5-2.3-2.4-3.2c-0.8-0.8-1.9-1.5-3-2c-0.9-0.4-2.1-0.7-3.1-0.8c-0.9-0.1-1.9,0-2.8,0.3 c-0.7,0.2-1.6,0.6-2.2,1.1c-0.5,0.4-1,1.1-1.3,1.7c-0.3,0.6-0.4,1.3-0.4,1.9c0,0.6,0.2,1.2,0.6,1.7c0.3,0.5,0.5,1.2,0.6,1.7 c0,0.6-0.1,1.3-0.4,1.9c-0.3,0.6-0.8,1.3-1.3,1.7c-0.6,0.5-1.4,0.9-2.2,1.1c-0.9,0.3-1.9,0.3-2.8,0.3c-1-0.1-2.2-0.4-3.1-0.8 c-1-0.5-2.1-1.2-3-2c-0.9-0.9-1.8-2.1-2.4-3.2c-0.7-1.2-1.2-2.8-1.5-4.2c-0.3-1.5-0.4-3.3-0.2-4.9c0.2-1.7,0.7-3.6,1.3-5.1 c0.7-1.7,1.8-3.5,3-4.9c1.3-1.5,3-3.1,4.6-4.2c1.8-1.2,4-2.3,6-2.9c2.2-0.7,4.8-1.2,7-1.3c2.4-0.1,5.2,0.2,7.6,0.8 c2.5,0.6,5.3,1.7,7.5,3c2.4,1.3,4.9,3.2,6.8,5.2c2,2,4,4.7,5.4,7.2c1.5,2.6,2.7,5.9,3.5,8.8c0.8,3.1,1.1,6.7,1,9.9 c-0.1,3.3-0.7,7.1-1.7,10.2c-1,3.3-2.7,6.9-4.6,9.8c-1.9,3-4.7,6.2-7.3,8.6c-2.8,2.5-6.4,5-9.7,6.6c-3.5,1.8-7.8,3.2-11.6,4 c-4,0.8-8.7,1.1-12.7,0.8c-4.2-0.3-9-1.3-12.9-2.7c-4.1-1.4-8.6-3.7-12.2-6.2c-3.7-2.6-7.6-6.1-10.5-9.5c-3-3.6-5.9-8.1-7.9-12.3 c-2-4.4-3.7-9.7-4.5-14.4c-0.8-4.9-1.1-10.6-0.6-15.6c0.5-5.1,1.8-10.8,3.6-15.6c1.8-4.9,4.7-10.3,7.8-14.5 c3.2-4.4,7.5-8.9,11.7-12.3c4.3-3.5,9.8-6.9,14.9-9.1c5.2-2.3,11.6-4.2,17.2-5c5.8-0.9,12.6-1,18.4-0.4c6,0.7,12.7,2.4,18.3,4.6 c5.7,2.3,12,5.7,16.9,9.4c5.1,3.8,10.3,8.9,14.2,13.8c4,5.1,7.8,11.5,10.3,17.5c2.6,6.1,4.6,13.5,5.5,20c0.9,6.7,1,14.5,0.1,21.2 c-0.9,6.9-2.9,14.6-5.5,21c-2.7,6.5-6.8,13.6-11,19.3c-4.4,5.7-10.3,11.7-16,16c-4.7,3.7-9.5,8.7-13.1,13.6 c-3.5,4.7-6.8,10.7-8.9,16.1c-2.1,5.3-3.6,11.7-4.3,17.4c-0.6,5.5-0.4,12,0.4,17.5c0.9,5.3,2.6,11.3,4.9,16.3c2.2,4.8,5.4,10,8.7,14 c3.2,3.9,7.6,8,11.7,10.9c4,2.9,9.1,5.6,13.8,7.3c4.5,1.7,9.9,2.9,14.7,3.3c4.6,0.4,10,0.2,14.6-0.7c4.4-0.8,9.4-2.4,13.5-4.3 c3.9-1.9,8.2-4.6,11.5-7.5c3.2-2.7,6.4-6.4,8.8-9.9c2.3-3.4,4.4-7.6,5.7-11.4c1.2-3.7,2.1-8.1,2.3-12c0.2-3.7-0.1-8.1-0.9-11.8 c-0.8-3.5-2.2-7.5-3.8-10.7c-1.6-3.1-3.9-6.3-6.2-8.9c-2.2-2.4-5.2-4.9-8-6.6c-2.7-1.7-6-3.2-9.1-4c-2.9-0.8-6.3-1.4-9.3-1.4 c-2.9,0-6.2,0.4-8.9,1.1c-2.6,0.7-5.5,1.9-7.9,3.3c-2.2,1.3-4.5,3.2-6.3,5c-1.7,1.8-3.3,4-4.4,6.2c-1.1,2-2,4.5-2.4,6.7 c-0.4,2.1-0.6,4.5-0.4,6.7c0.2,2,0.6,4.2,1.3,6.1c0.6,1.7,1.7,3.6,2.8,5.1c1,1.3,2.4,2.7,3.8,3.7c1.3,0.9,2.8,1.8,4.3,2.3 c1.3,0.5,2.9,0.8,4.4,0.8c1.3,0,2.7-0.1,4-0.5c1.1-0.3,2.3-0.9,3.2-1.6c0.8-0.6,1.7-1.4,2.2-2.3c0.5-0.7,0.9-1.7,1.2-2.6 c0.2-0.8,0.2-1.7,0.1-2.5c-0.1-0.7-0.4-1.4-0.8-2c-0.4-0.5-0.9-1-1.5-1.3C285,263.7,284.3,263.6,283.7,263.6L283.7,263.6z" />
</svg>
`)}`,fh,HC=(fh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"store");Se(this,"connect",async()=>{this.logger.info("Connecting...");const e=this.client||await this.initializeClient(),n=await this.getGenesisId(),r=await e.connect(n);if(r.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const i=r.map((a,l)=>({name:`${this.metadata.name} Account ${l+1}`,address:a})),s=i[0],o={accounts:i,activeAccount:s};return mr(this.store,{walletId:this.id,wallet:o}),this.logger.info("Connected successfully",o),i});Se(this,"disconnect",async()=>{this.onDisconnect(),this.logger.info("Disconnected")});Se(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const o=on(e);r=this.processTxns(o,n)}else{const o=on(e);r=this.processEncodedTxns(o,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const s=await i.signTxns(r);return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw JC(r)?(this.logger.error("Error signing transactions:",r.message,`(code: ${r.code})`),new SC(r.message,r.code)):(this.logger.error("Unknown error signing transactions:",r),r)}});if(!(s!=null&&s.siteName))throw this.logger.error("Missing required option: siteName"),new Error("Missing required option: siteName");this.options=s,this.store=n}async initializeClient(){this.logger.info("Initializing client...");const n=(await Gi(()=>import("./use-wallet-Df6KNeSA.js"),[],import.meta.url)).default,r=new n(this.options.siteName);return this.client=r,this.logger.info("Client initialized"),r}async getGenesisId(){const n=await this.getAlgodClient().genesis().do();return`${n.network}-${n.id}`}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a),c=jr(i.toByte());o&&l?r.push({txn:c}):r.push({txn:c,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f),v=jr(l.toByte());c&&h?r.push({txn:v}):r.push({txn:v,signers:[]})}),r}},Se(fh,"defaultMetadata",{name:"Lute",icon:KC}),fh),qC=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 47 47" xmlns="http://www.w3.org/2000/svg">
  <path fill="#6851FF" d="M 23.960861 1.80769 C 25.835077 4.103153 27.902216 6.23489 30.137539 8.178169 C 28.647968 13.009323 27.846092 18.142094 27.846092 23.462154 C 27.846092 28.782307 28.648062 33.915169 30.13763 38.746368 C 27.902216 40.689724 25.835077 42.821476 23.960861 45.116985 C 22.086554 42.821476 20.019415 40.689632 17.783998 38.746368 C 19.273476 33.915169 20.075445 28.7824 20.075445 23.462337 C 20.075445 18.142277 19.273476 13.009506 17.783998 8.178318 C 20.019415 6.235001 22.086554 4.10321 23.960861 1.80769 Z M 13.511427 35.406403 C 11.145139 33.747814 8.633816 32.282063 6.000269 31.031937 C 6.730776 28.637476 7.123754 26.095783 7.123754 23.462429 C 7.123754 20.828892 6.730762 18.287201 6.000235 15.892738 C 8.633816 14.642616 11.145175 13.176861 13.511501 11.518276 C 14.416311 15.352554 14.895074 19.351414 14.895074 23.462154 C 14.895074 27.572985 14.416283 31.571938 13.511427 35.406403 Z M 33.027046 23.462337 C 33.027046 27.572985 33.505753 31.571846 34.410553 35.406124 C 36.776859 33.747631 39.288094 32.281876 41.921539 31.031845 C 41.191017 28.637384 40.798061 26.095692 40.798061 23.462246 C 40.798061 20.8288 41.191017 18.287201 41.921539 15.89283 C 39.288094 14.642708 36.776768 13.177048 34.410553 11.518555 C 33.505753 15.352831 33.027046 19.351692 33.027046 23.462337 Z" />
</svg>
`)}`,hh,QC=(hh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"store");Se(this,"userInfo",null);Se(this,"connect",async e=>{if(this.logger.info("Connecting..."),!(e!=null&&e.email)||typeof e.email!="string")throw this.logger.error("Magic Link provider requires an email (string) to connect"),new Error("Magic Link provider requires an email (string) to connect");const{email:n}=e,r=this.client||await this.initializeClient();this.logger.info(`Logging in ${n}...`),await r.auth.loginWithMagicLink({email:n});const i=await r.user.getInfo();if(!i)throw this.logger.error("User info not found!"),new Error("User info not found!");if(!i.publicAddress)throw this.logger.error("No account found!"),new Error("No account found!");this.userInfo=i,this.logger.info("Login successful",i);const s={name:i.email??"Magic Wallet 1",address:i.publicAddress},o={accounts:[s],activeAccount:s};return mr(this.store,{walletId:this.id,wallet:o}),this.logger.info("Connected successfully",o),[s]});Se(this,"disconnect",async()=>{var n;this.logger.info("Disconnecting..."),this.onDisconnect();const e=this.client||await this.initializeClient();this.logger.info(`Logging out ${((n=this.userInfo)==null?void 0:n.email)||"user"}...`),await e.user.logout(),this.logger.info("Disconnected")});Se(this,"resumeSession",async()=>{try{const n=this.store.state.wallets[this.id];if(!n){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const r=this.client||await this.initializeClient();if(!await r.user.isLoggedIn()){this.logger.warn("Not logged in, please reconnect..."),this.onDisconnect();return}const s=await r.user.getInfo();if(!s)throw await r.user.logout(),this.logger.error("User info not found!"),new Error("User info not found!");if(!s.publicAddress)throw await r.user.logout(),this.logger.error("No account found!"),new Error("No account found!");this.userInfo=s;const o={name:s.email??`${this.metadata.name} Account 1`,address:s.publicAddress},a=n.accounts[0],{name:l,address:c}=o,{name:f,address:h}=a;l===f&&c===h||(this.logger.warn("Session account mismatch, updating account",{prev:a,current:o}),Es(this.store,{walletId:this.id,accounts:[o]})),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const a=on(e);r=this.processTxns(a,n)}else{const a=on(e);r=this.processEncodedTxns(a,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const s=await i.algorand.signGroupTransactionV2(r);this.logger.debug("Received signed transactions from wallet",s);const o=s.map(a=>a===void 0?null:Pd(a));return this.logger.debug("Transactions signed successfully",o),o}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});if(!(s!=null&&s.apiKey))throw this.logger.error("Missing required option: apiKey"),new Error("Missing required option: apiKey");this.options=s,this.store=n}async initializeClient(){this.logger.info("Initializing client...");const e=(await Promise.resolve().then(()=>(xC(),Sb))).Magic,n=(await Promise.resolve().then(()=>(bC(),kb))).AlgorandExtension,r=new e(this.options.apiKey,{extensions:{algorand:new n({rpcUrl:""})}});return this.client=r,this.logger.info("Client initialized"),r}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a),c=jr(i.toByte());o&&l?r.push({txn:c}):r.push({txn:c,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f),v=jr(l.toByte());c&&h?r.push({txn:v}):r.push({txn:v,signers:[]})}),r}},Se(hh,"defaultMetadata",{name:"Magic",icon:qC}),hh),Kf=`${Vp}_mnemonic`,e_=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#525252" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,ph,t_=(ph=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"account",null);Se(this,"options");Se(this,"store");Se(this,"connect",async()=>{this.checkMainnet(),this.logger.info("Connecting...");const e=await this.initializeAccount(),n={name:`${this.metadata.name} Account`,address:e.addr},r={accounts:[n],activeAccount:n};return mr(this.store,{walletId:this.id,wallet:r}),this.logger.info("Connected successfully",r),[n]});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.account=null,this.removeMnemonicFromStorage(),this.logger.info("Disconnected")});Se(this,"resumeSession",async()=>{if(this.checkMainnet(),!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),this.options.persistToStorage)try{await this.initializeAccount(),this.logger.info("Session resumed successfully")}catch(r){throw this.logger.error("Error resuming session:",r.message),this.disconnect(),r}else this.logger.info("No session to resume, disconnecting..."),this.disconnect()});Se(this,"signTransactions",async(e,n)=>{this.checkMainnet();try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const s=on(e);r=this.processTxns(s,n)}else{const s=on(e);r=this.processEncodedTxns(s,n)}const i=r.map(s=>s.signTxn(this.account.sk));return this.logger.debug("Transactions signed successfully",{signedTxns:i}),i}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});const{persistToStorage:a=!1,promptForMnemonic:l=()=>Promise.resolve(prompt("Enter 25-word mnemonic passphrase:"))}=s||{};this.options={persistToStorage:a,promptForMnemonic:l},this.store=n,this.options.persistToStorage&&this.logger.warn("Persisting mnemonics to storage is insecure. Any private key mnemonics used should never hold real Algos (i.e., on MainNet). Use with caution!")}loadMnemonicFromStorage(){return Er.getItem(Kf)}saveMnemonicToStorage(e){Er.setItem(Kf,e)}removeMnemonicFromStorage(){Er.removeItem(Kf)}checkMainnet(){try{if(this.activeNetwork==="mainnet")throw this.logger.warn("The Mnemonic wallet provider is insecure and intended for testing only. Any private key mnemonics used should never hold real Algos (i.e., on MainNet)."),new Error("MainNet active network detected. Aborting.")}catch(e){throw this.disconnect(),e}}async initializeAccount(){let e=this.loadMnemonicFromStorage();if(!e){if(e=await this.options.promptForMnemonic(),!e)throw this.account=null,this.logger.error("No mnemonic provided"),new Error("No mnemonic provided");this.options.persistToStorage&&(this.logger.warn("Mnemonic saved to localStorage."),this.saveMnemonicToStorage(e))}const n=oe.mnemonicToSecretKey(e);return this.account=n,n}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),l=oe.encodeAddress(i.from.publicKey)===this.account.addr;o&&l&&r.push(i)}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&f===this.account.addr;c&&h&&r.push(l)}),r}},Se(ph,"defaultMetadata",{name:"Mnemonic",icon:e_}),ph),n_=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#FFEE55" width="200" height="200" />
  <path fill="#1C1C1C" d="M106.1,64.3c2.2,9.1,1.5,17-1.7,17.8c-3.1,0.8-7.4-6-9.6-15c-2.2-9.1-1.5-17,1.7-17.8 C99.6,48.5,103.9,55.2,106.1,64.3z" />
  <path fill="#1C1C1C" d="M142.2,72.1c-4.8-5.1-14.5-3.7-21.6,3.1c-7,6.9-8.8,16.6-4,21.7c4.8,5.1,14.5,3.7,21.6-3.1 C145.3,86.9,147.1,77.2,142.2,72.1z" />
  <path fill="#1C1C1C" d="M103.7,150.8c3.1-0.8,3.7-9.2,1.4-18.8c-2.3-9.6-6.7-16.8-9.8-16c-3.1,0.8-3.7,9.2-1.4,18.8 C96.2,144.3,100.6,151.5,103.7,150.8z" />
  <path fill="#1C1C1C" d="M72.1,76.8c9,2.6,15.5,7.3,14.6,10.3c-0.9,3.1-8.9,3.4-17.8,0.8s-15.5-7.3-14.6-10.3 C55.1,74.5,63.1,74.1,72.1,76.8z" />
  <path fill="#1C1C1C" d="M130.2,111.5c9.5,2.8,16.5,7.6,15.6,10.6c-0.9,3.1-9.3,3.3-18.8,0.5c-9.5-2.8-16.5-7.6-15.6-10.6 C112.2,108.9,120.7,108.7,130.2,111.5z" />
  <path fill="#1C1C1C" d="M82.1,105c-2.2-2.3-9.5,1-16.3,7.5c-6.8,6.4-10.4,13.5-8.2,15.8c2.2,2.3,9.5-1,16.3-7.5 C80.7,114.4,84.3,107.3,82.1,105z" />
</svg>
`)}`,gh,r_=(gh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s={},metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"store");Se(this,"connect",async()=>{var a;this.logger.info("Connecting...");const e=this.store.state.activeWallet;e&&e!==this.id&&this.manageWalletConnectSession("backup",e);const n=this.client||await this.initializeClient(),r=await n.connect();if((a=n.connector)==null||a.on("disconnect",this.onDisconnect),r.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const i=r.map((l,c)=>({name:`${this.metadata.name} Account ${c+1}`,address:l})),s=i[0],o={accounts:i,activeAccount:s};return mr(this.store,{walletId:this.id,wallet:o}),this.logger.info("Connected successfully",o),i});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const e=this.client||await this.initializeClient(),n=this.store.state.activeWallet;n&&n!==this.id?(this.manageWalletConnectSession("backup",n),this.manageWalletConnectSession("restore",this.id),await e.disconnect(),await new Promise(r=>setTimeout(r,500)),this.manageWalletConnectSession("restore",n)):await e.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});Se(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const e=this.store.state.activeWallet;e&&e==="defly"&&this.manageWalletConnectSession("backup",e),this.manageWalletConnectSession("restore"),Ud(this.store,{walletId:this.id})});Se(this,"resumeSession",async()=>{try{const e=this.store.state,n=e.wallets[this.id];if(!n){this.logger.info("No session to resume");return}if(e.activeWallet==="defly"){this.logger.info("Skipping reconnectSession for Pera (inactive)");return}this.logger.info("Resuming session...");const i=await(this.client||await this.initializeClient()).reconnectSession();if(i.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const s=i.map((a,l)=>({name:`${this.metadata.name} Account ${l+1}`,address:a}));ko(s,n.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:n.accounts,current:s}),Es(this.store,{walletId:this.id,accounts:s})),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const a=on(e);r=this.processTxns(a,n)}else{const a=on(e);r=this.processEncodedTxns(a,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const s=await i.signTransaction([r]);this.logger.debug("Received signed transactions from wallet",s);const o=r.reduce((a,l)=>{if(l.signers&&l.signers.length==0)a.push(null);else{const c=s.shift();c&&a.push(c)}return a},[]);return this.logger.debug("Transactions signed successfully",o),o}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.options=s,this.store=n}async initializeClient(){this.logger.info("Initializing client...");const e=await Gi(()=>import("./index-oG-t8mgH.js").then(i=>i.i),__vite__mapDeps([4,3,1]),import.meta.url),n=e.default?e.default.PeraWalletConnect:e.PeraWalletConnect,r=new n(this.options);return this.client=r,this.logger.info("Client initialized"),r}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a);o&&l?r.push({txn:i}):r.push({txn:i,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f);c&&h?r.push({txn:l}):r.push({txn:l,signers:[]})}),r}},Se(gh,"defaultMetadata",{name:"Pera",icon:n_}),gh),i_=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#FFEE55" width="200" height="200" />
  <path fill="#1C1C1C" d="M106.1,64.3c2.2,9.1,1.5,17-1.7,17.8c-3.1,0.8-7.4-6-9.6-15c-2.2-9.1-1.5-17,1.7-17.8 C99.6,48.5,103.9,55.2,106.1,64.3z" />
  <path fill="#1C1C1C" d="M142.2,72.1c-4.8-5.1-14.5-3.7-21.6,3.1c-7,6.9-8.8,16.6-4,21.7c4.8,5.1,14.5,3.7,21.6-3.1 C145.3,86.9,147.1,77.2,142.2,72.1z" />
  <path fill="#1C1C1C" d="M103.7,150.8c3.1-0.8,3.7-9.2,1.4-18.8c-2.3-9.6-6.7-16.8-9.8-16c-3.1,0.8-3.7,9.2-1.4,18.8 C96.2,144.3,100.6,151.5,103.7,150.8z" />
  <path fill="#1C1C1C" d="M72.1,76.8c9,2.6,15.5,7.3,14.6,10.3c-0.9,3.1-8.9,3.4-17.8,0.8s-15.5-7.3-14.6-10.3 C55.1,74.5,63.1,74.1,72.1,76.8z" />
  <path fill="#1C1C1C" d="M130.2,111.5c9.5,2.8,16.5,7.6,15.6,10.6c-0.9,3.1-9.3,3.3-18.8,0.5c-9.5-2.8-16.5-7.6-15.6-10.6 C112.2,108.9,120.7,108.7,130.2,111.5z" />
  <path fill="#1C1C1C" d="M82.1,105c-2.2-2.3-9.5,1-16.3,7.5c-6.8,6.4-10.4,13.5-8.2,15.8c2.2,2.3,9.5-1,16.3-7.5 C80.7,114.4,84.3,107.3,82.1,105z" />
</svg>
`)}`,mh,s_=(mh=class extends yr{constructor({id:e,store:n,subscribe:r,getAlgodClient:i,options:s,metadata:o={}}){super({id:e,metadata:o,getAlgodClient:i,store:n,subscribe:r});Se(this,"client",null);Se(this,"options");Se(this,"store");Se(this,"connect",async()=>{var o;this.logger.info("Connecting...");const e=this.client||await this.initializeClient(),n=await e.connect();if((o=e.client)==null||o.on("session_delete",this.onDisconnect),n.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const r=n.map((a,l)=>({name:`${this.metadata.name} Account ${l+1}`,address:a})),i=r[0],s={accounts:r,activeAccount:i};return mr(this.store,{walletId:this.id,wallet:s}),this.logger.info("Connected successfully",s),r});Se(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),await(this.client||await this.initializeClient()).disconnect(),this.logger.info("Disconnected")});Se(this,"resumeSession",async()=>{try{const n=this.store.state.wallets[this.id];if(!n){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const i=await(this.client||await this.initializeClient()).reconnectSession();if(i.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const s=i.map((a,l)=>({name:`${this.metadata.name} Account ${l+1}`,address:a}));ko(s,n.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:n.accounts,current:s}),Es(this.store,{walletId:this.id,accounts:s})),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Se(this,"signTransactions",async(e,n)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:n});let r=[];if(Yr(e)){const a=on(e);r=this.processTxns(a,n)}else{const a=on(e);r=this.processEncodedTxns(a,n)}const i=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const s=await i.signTransaction([r]);this.logger.debug("Received signed transactions from wallet",s);const o=r.reduce((a,l)=>{if(l.signers&&l.signers.length==0)a.push(null);else{const c=s.shift();c&&a.push(c)}return a},[]);return this.logger.debug("Transactions signed successfully",o),o}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});if(!(s!=null&&s.projectId))throw this.logger.error("Missing required option: projectId"),new Error("Missing required option: projectId");this.options=s,this.store=n}async initializeClient(){this.logger.info("Initializing client...");const e=await Gi(()=>import("./use-wallet-CoSEDE74.js"),[],import.meta.url),n=e.PeraWalletConnect||e.default.PeraWalletConnect,r=new n(this.options);return this.client=r,this.logger.info("Client initialized"),r}processTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=!n||n.includes(s),a=oe.encodeAddress(i.from.publicKey),l=this.addresses.includes(a);o&&l?r.push({txn:i}):r.push({txn:i,signers:[]})}),r}processEncodedTxns(e,n){const r=[];return e.forEach((i,s)=>{const o=oe.decodeObj(i),a=zr(o),l=a?oe.decodeSignedTransaction(i).txn:oe.decodeUnsignedTransaction(i),c=!n||n.includes(s),f=oe.encodeAddress(l.from.publicKey),h=!a&&this.addresses.includes(f);c&&h?r.push({txn:l}):r.push({txn:l,signers:[]})}),r}},Se(mh,"defaultMetadata",{name:"Pera",icon:i_}),mh);function o_(){return{biatec:WC,custom:OC,defly:UC,exodus:GC,kibisis:jC,kmd:zC,liquid:XC,lute:HC,magic:QC,mnemonic:t_,pera:r_,"pera-beta":s_,walletconnect:Lb}}function ko(t,e){const n=new Set(t.map(i=>i.address)),r=new Set(e.map(i=>i.address));if(n.size!==r.size)return!1;for(const i of n)if(!r.has(i))return!1;return!0}function Pd(t){return a_(atob(t))}function jr(t){return btoa(l_(t))}function a_(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function l_(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function zr(t){return t.txn!==void 0}function Vy(t){return t&&typeof t=="object"&&"genesisID"in t&&typeof t.genesisID=="string"}function Yr(t){return!Array.isArray(t)||t.length===0?!1:!!(Vy(t[0])||Array.isArray(t[0])&&t[0].length>0&&Vy(t[0][0]))}function on(t){return Array.isArray(t[0])?t.flat():t}function c_(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function u_(t,e){return{id:c_(),jsonrpc:"2.0",method:t,params:e}}function jp(t,e){const n=r=>r&&typeof r=="object";if(!n(t)||!n(e))throw new Error("Target and source must be objects");return Object.keys(e).forEach(r=>{const i=t[r],s=e[r];Array.isArray(i)&&Array.isArray(s)?t[r]=i.concat(s):n(i)&&n(s)?t[r]=jp(Object.assign({},i),s):t[r]=s}),t}var d_=class{constructor({wallets:t=[],network:e="testnet",algod:n={},options:r={}}={}){Se(this,"_clients",new Map);Se(this,"networkConfig");Se(this,"store");Se(this,"subscribe");Se(this,"options");Se(this,"logger");Se(this,"getAlgodClient",()=>this.algodClient);Se(this,"setActiveNetwork",async t=>{if(this.activeNetwork===t)return;const e=this.createAlgodClient(t);kC(this.store,{networkId:t,algodClient:e}),this.logger.info(`✅ Active network set to ${t}.`)});this.logger=this.initializeLogger(r),this.logger.debug("Initializing WalletManager with config:",{wallets:t,network:e,algod:n,options:r}),this.networkConfig=this.initNetworkConfig(e,n),this.options={resetNetwork:r.resetNetwork||!1};const i=this.loadPersistedState(),s=this.options.resetNetwork?e:(i==null?void 0:i.activeNetwork)||e,o=this.createAlgodClient(s),a={...RC,...i,activeNetwork:s,algodClient:o};this.store=new up(a,{onUpdate:()=>this.savePersistedState()}),this.savePersistedState(),this.subscribe=l=>this.store.subscribe(()=>{l(this.store.state)}),this.initializeWallets(t)}initializeLogger(t){const e=this.determineLogLevel(t);return Tb.setLevel(e),$a.createScopedLogger("WalletManager")}determineLogLevel(t){return t!=null&&t.debug?0:(t==null?void 0:t.logLevel)!==void 0?t.logLevel:2}get algodClient(){return this.store.state.algodClient}set algodClient(t){this.store.setState(e=>({...e,algodClient:t}))}loadPersistedState(){try{const t=Er.getItem(Vp);if(t===null)return null;const e=JSON.parse(t);if(!TC(e))throw this.logger.warn("Parsed state:",e),new Error("Persisted state is invalid");return e}catch(t){return this.logger.error(`Could not load state from local storage: ${t.message}`),null}}savePersistedState(){try{const{wallets:t,activeWallet:e,activeNetwork:n}=this.store.state,i=JSON.stringify({wallets:t,activeWallet:e,activeNetwork:n});Er.setItem(Vp,i)}catch(t){this.logger.error("Could not save state to local storage:",t)}}get status(){return this.store.state.managerStatus}get isReady(){return this.store.state.managerStatus==="ready"}initializeWallets(t){this.logger.info("Initializing wallets...");for(const r of t){let i,s,o;if(typeof r=="string")i=r;else{const{id:f,options:h,metadata:v}=r;i=f,s=h,o=v}const l=o_()[i];if(!l){this.logger.error(`Wallet not found: ${i}`);continue}const c=new l({id:i,metadata:o,options:s,getAlgodClient:this.getAlgodClient,store:this.store,subscribe:this.subscribe});this._clients.set(i,c),this.logger.info(`✅ Initialized ${i}`)}const e=this.store.state,n=Object.keys(e.wallets);for(const r of n)this._clients.has(r)||(this.logger.warn(`Connected wallet not found: ${r}`),Nb(this.store,{walletId:r}));e.activeWallet&&!this._clients.has(e.activeWallet)&&(this.logger.warn(`Active wallet not found: ${e.activeWallet}`),Ud(this.store,{walletId:null}))}get wallets(){return[...this._clients.values()]}getWallet(t){return this._clients.get(t)}async resumeSessions(){try{const t=this.wallets.map(e=>e==null?void 0:e.resumeSession());await Promise.all(t)}finally{this.store.setState(t=>({...t,managerStatus:"ready"}))}}async disconnect(){const t=this.wallets.filter(e=>e.isConnected).map(e=>e==null?void 0:e.disconnect());await Promise.all(t)}initNetworkConfig(t,e){this.logger.info("Initializing network...");let n=_C();return IC(e)?n=jp(n,e):n[t]=jp(n[t],e),this.logger.debug("Algodv2 config:",n),n}createAlgodClient(t){this.logger.info(`Creating Algodv2 client for ${t}...`);const{token:e="",baseServer:n,port:r="",headers:i={}}=this.networkConfig[t];return new oe.Algodv2(e,n,r,i)}get activeNetwork(){return this.store.state.activeNetwork}get activeWallet(){const t=this.store.state,e=this.wallets.find(n=>n.id===t.activeWallet);return e||null}get activeWalletAccounts(){return this.activeWallet?this.activeWallet.accounts:null}get activeWalletAddresses(){return this.activeWallet?this.activeWallet.accounts.map(t=>t.address):null}get activeAccount(){return this.activeWallet?this.activeWallet.activeAccount:null}get activeAddress(){return this.activeAccount?this.activeAccount.address:null}get signTransactions(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.signTransactions}get transactionSigner(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.transactionSigner}},Mb=Ct.createContext(void 0),Wb=()=>{const t=Ct.useContext(Mb);if(!t)throw new Error("useWallet must be used within the WalletProvider");const{manager:e,algodClient:n,setAlgodClient:r}=t,s=Ml(e.store,x=>x.managerStatus)==="ready",o=Ml(e.store,x=>x.activeNetwork),a=async x=>{if(x===o)return;console.info(`[React] Creating Algodv2 client for ${x}...`);const{token:G="",baseServer:Z,port:C="",headers:D={}}=e.networkConfig[x],V=new oe.Algodv2(G,Z,C,D);r(V),e.store.setState(Q=>({...Q,activeNetwork:x})),console.info(`[React] ✅ Active network set to ${x}.`)},l=Ml(e.store,x=>x.wallets),c=Ml(e.store,x=>x.activeWallet),f=Ct.useMemo(()=>[...e.wallets.values()].map(x=>{const G=l[x.id];return{id:x.id,metadata:x.metadata,accounts:(G==null?void 0:G.accounts)??[],activeAccount:(G==null?void 0:G.activeAccount)??null,isConnected:!!G,isActive:x.id===c,connect:Z=>x.connect(Z),disconnect:()=>x.disconnect(),setActive:()=>x.setActive(),setActiveAccount:Z=>x.setActiveAccount(Z)}}),[e,l,c]),h=c&&e.getWallet(c)||null,v=c&&l[c]||null,I=(v==null?void 0:v.accounts)??null,S=(I==null?void 0:I.map(x=>x.address))??null,M=(v==null?void 0:v.activeAccount)??null,F=(M==null?void 0:M.address)??null;return{wallets:f,isReady:s,algodClient:n,activeNetwork:o,activeWallet:h,activeWalletAccounts:I,activeWalletAddresses:S,activeAccount:M,activeAddress:F,setActiveNetwork:a,setAlgodClient:r,signTransactions:(x,G)=>{if(!h)throw new Error("No active wallet");return h.signTransactions(x,G)},transactionSigner:(x,G)=>{if(!h)throw new Error("No active wallet");return h.transactionSigner(x,G)}}},f_=({manager:t,children:e})=>{const[n,r]=Ct.useState(t.algodClient);Ct.useEffect(()=>{t.algodClient=n},[n,t]);const i=Ct.useRef(!1);return Ct.useEffect(()=>{i.current||(t.resumeSessions(),i.current=!0)},[t]),Ct.createElement(Mb.Provider,{value:{manager:t,algodClient:n,setAlgodClient:r}},e)};function Zb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Zb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Si(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Zb(t))&&(r&&(r+=" "),r+=e);return r}const za=t=>typeof t=="number"&&!isNaN(t),fs=t=>typeof t=="string",qn=t=>typeof t=="function",uc=t=>fs(t)||qn(t)?t:null,$p=t=>Ct.isValidElement(t)||fs(t)||qn(t)||za(t);function h_(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Gd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:f,nodeRef:h,isIn:v,playToast:I}=o;const S=r?`${e}--${l}`:e,M=r?`${n}--${l}`:n,F=Ct.useRef(0);return Ct.useLayoutEffect(()=>{const E=h.current,m=S.split(" "),x=G=>{G.target===h.current&&(I(),E.removeEventListener("animationend",x),E.removeEventListener("animationcancel",x),F.current===0&&G.type!=="animationcancel"&&E.classList.remove(...m))};E.classList.add(...m),E.addEventListener("animationend",x),E.addEventListener("animationcancel",x)},[]),Ct.useEffect(()=>{const E=h.current,m=()=>{E.removeEventListener("animationend",m),i?h_(E,f,s):f()};v||(c?m():(F.current=1,E.className+=` ${M}`,E.addEventListener("animationend",m)))},[v]),Mt.createElement(Mt.Fragment,null,a)}}function jy(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Zn=new Map;let Ya=[];const zp=new Set,p_=t=>zp.forEach(e=>e(t)),Ob=()=>Zn.size>0;function Db(t,e){var n;if(e)return!((n=Zn.get(e))==null||!n.isToastActive(t));let r=!1;return Zn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Ub(t,e){$p(t)&&(Ob()||Ya.push({content:t,options:e}),Zn.forEach(n=>{n.buildToast(t,e)}))}function $y(t,e){Zn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function g_(t){const{subscribe:e,getSnapshot:n,setProps:r}=Ct.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(f,h,v){let I=1,S=0,M=[],F=[],E=[],m=h;const x=new Map,G=new Set,Z=()=>{E=Array.from(x.values()),G.forEach(V=>V())},C=V=>{F=V==null?[]:F.filter(Q=>Q!==V),Z()},D=V=>{const{toastId:Q,onOpen:$,updateId:Ae,children:fe}=V.props,be=Ae==null;V.staleId&&x.delete(V.staleId),x.set(Q,V),F=[...F,V.props.toastId].filter(Le=>Le!==V.staleId),Z(),v(jy(V,be?"added":"updated")),be&&qn($)&&$(Ct.isValidElement(fe)&&fe.props)};return{id:f,props:m,observe:V=>(G.add(V),()=>G.delete(V)),toggle:(V,Q)=>{x.forEach($=>{Q!=null&&Q!==$.props.toastId||qn($.toggle)&&$.toggle(V)})},removeToast:C,toasts:x,clearQueue:()=>{S-=M.length,M=[]},buildToast:(V,Q)=>{if((ve=>{let{containerId:_e,toastId:ue,updateId:We}=ve;const rt=_e?_e!==f:f!==1,at=x.has(ue)&&We==null;return rt||at})(Q))return;const{toastId:$,updateId:Ae,data:fe,staleId:be,delay:Le}=Q,Ve=()=>{C($)},Ge=Ae==null;Ge&&S++;const Pe={...m,style:m.toastStyle,key:I++,...Object.fromEntries(Object.entries(Q).filter(ve=>{let[_e,ue]=ve;return ue!=null})),toastId:$,updateId:Ae,data:fe,closeToast:Ve,isIn:!1,className:uc(Q.className||m.toastClassName),bodyClassName:uc(Q.bodyClassName||m.bodyClassName),progressClassName:uc(Q.progressClassName||m.progressClassName),autoClose:!Q.isLoading&&(Y=Q.autoClose,q=m.autoClose,Y===!1||za(Y)&&Y>0?Y:q),deleteToast(){const ve=x.get($),{onClose:_e,children:ue}=ve.props;qn(_e)&&_e(Ct.isValidElement(ue)&&ue.props),v(jy(ve,"removed")),x.delete($),S--,S<0&&(S=0),M.length>0?D(M.shift()):Z()}};var Y,q;Pe.closeButton=m.closeButton,Q.closeButton===!1||$p(Q.closeButton)?Pe.closeButton=Q.closeButton:Q.closeButton===!0&&(Pe.closeButton=!$p(m.closeButton)||m.closeButton);let ae=V;Ct.isValidElement(V)&&!fs(V.type)?ae=Ct.cloneElement(V,{closeToast:Ve,toastProps:Pe,data:fe}):qn(V)&&(ae=V({closeToast:Ve,toastProps:Pe,data:fe}));const we={content:ae,props:Pe,staleId:be};m.limit&&m.limit>0&&S>m.limit&&Ge?M.push(we):za(Le)?setTimeout(()=>{D(we)},Le):D(we)},setProps(V){m=V},setToggle:(V,Q)=>{x.get(V).toggle=Q},isToastActive:V=>F.some(Q=>Q===V),getSnapshot:()=>E}}(o,s,p_);Zn.set(o,l);const c=l.observe(a);return Ya.forEach(f=>Ub(f.content,f.options)),Ya=[],()=>{c(),Zn.delete(o)}},setProps(a){var l;(l=Zn.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Zn.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=Ct.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:Db,count:i==null?void 0:i.length}}function m_(t){const[e,n]=Ct.useState(!1),[r,i]=Ct.useState(!1),s=Ct.useRef(null),o=Ct.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:f,closeOnClick:h}=t;var v,I;function S(){n(!0)}function M(){n(!1)}function F(x){const G=s.current;o.canDrag&&G&&(o.didMove=!0,e&&M(),o.delta=t.draggableDirection==="x"?x.clientX-o.start:x.clientY-o.start,o.start!==x.clientX&&(o.canCloseOnClick=!1),G.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,G.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function E(){document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",E);const x=s.current;if(o.canDrag&&o.didMove&&x){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}(I=Zn.get((v={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||I.setToggle(v.id,v.fn),Ct.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||M(),window.addEventListener("focus",S),window.addEventListener("blur",M),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",M)}},[t.pauseOnFocusLoss]);const m={onPointerDown:function(x){if(t.draggable===!0||t.draggable===x.pointerType){o.didMove=!1,document.addEventListener("pointermove",F),document.addEventListener("pointerup",E);const G=s.current;o.canCloseOnClick=!0,o.canDrag=!0,G.style.transition="none",t.draggableDirection==="x"?(o.start=x.clientX,o.removalDistance=G.offsetWidth*(t.draggablePercent/100)):(o.start=x.clientY,o.removalDistance=G.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(x){const{top:G,bottom:Z,left:C,right:D}=s.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&x.clientX>=C&&x.clientX<=D&&x.clientY>=G&&x.clientY<=Z?M():S()}};return a&&l&&(m.onMouseEnter=M,t.stacked||(m.onMouseLeave=S)),h&&(m.onClick=x=>{f&&f(x),o.canCloseOnClick&&c()}),{playToast:S,pauseToast:M,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:m}}function y_(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:f,isIn:h,theme:v}=t;const I=s||l&&c===0,S={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(S.transform=`scaleX(${c})`);const M=Si("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),F=qn(o)?o({rtl:f,type:i,defaultClassName:M}):Si(M,o),E={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return Mt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},Mt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${i}`}),Mt.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:F,style:S,...E}))}let w_=1;const Pb=()=>""+w_++;function v_(t){return t&&(fs(t.toastId)||za(t.toastId))?t.toastId:Pb()}function wa(t,e){return Ub(t,e),e.toastId}function Xc(t,e){return{...e,type:e&&e.type||t,toastId:v_(e)}}function jl(t){return(e,n)=>wa(e,Xc(t,n))}function kt(t,e){return wa(t,Xc("default",e))}kt.loading=(t,e)=>wa(t,Xc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),kt.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=fs(i)?kt.loading(i,n):kt.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(f,h,v)=>{if(h==null)return void kt.dismiss(r);const I={type:f,...a,...n,data:v},S=fs(h)?{render:h}:h;return r?kt.update(r,{...I,...S}):kt(S.render,{...I,...S}),v},c=qn(t)?t():t;return c.then(f=>l("success",o,f)).catch(f=>l("error",s,f)),c},kt.success=jl("success"),kt.info=jl("info"),kt.error=jl("error"),kt.warning=jl("warning"),kt.warn=kt.warning,kt.dark=(t,e)=>wa(t,Xc("default",{theme:"dark",...e})),kt.dismiss=function(t){(function(e){var n;if(Ob()){if(e==null||fs(n=e)||za(n))Zn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Zn.get(e.containerId);r?r.removeToast(e.id):Zn.forEach(i=>{i.removeToast(e.id)})}}else Ya=Ya.filter(r=>e!=null&&r.options.toastId!==e)})(t)},kt.clearWaitingQueue=function(t){t===void 0&&(t={}),Zn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},kt.isActive=Db,kt.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Zn.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:Pb()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,wa(o,s)}},kt.done=t=>{kt.update(t,{progress:1})},kt.onChange=function(t){return zp.add(t),()=>{zp.delete(t)}},kt.play=t=>$y(!0,t),kt.pause=t=>$y(!1,t);const x_=typeof window<"u"?Ct.useLayoutEffect:Ct.useEffect,$l=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Hf={info:function(t){return Mt.createElement($l,{...t},Mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Mt.createElement($l,{...t},Mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Mt.createElement($l,{...t},Mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Mt.createElement($l,{...t},Mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Mt.createElement("div",{className:"Toastify__spinner"})}},b_=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=m_(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:f,hideProgressBar:h,closeToast:v,transition:I,position:S,className:M,style:F,bodyClassName:E,bodyStyle:m,progressClassName:x,progressStyle:G,updateId:Z,role:C,progress:D,rtl:V,toastId:Q,deleteToast:$,isIn:Ae,isLoading:fe,closeOnClick:be,theme:Le}=t,Ve=Si("Toastify__toast",`Toastify__toast-theme--${Le}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":be}),Ge=qn(M)?M({rtl:V,position:S,type:f,defaultClassName:Ve}):Si(Ve,M),Pe=function(we){let{theme:ve,type:_e,isLoading:ue,icon:We}=we,rt=null;const at={theme:ve,type:_e};return We===!1||(qn(We)?rt=We({...at,isLoading:ue}):Ct.isValidElement(We)?rt=Ct.cloneElement(We,at):ue?rt=Hf.spinner():(Be=>Be in Hf)(_e)&&(rt=Hf[_e](at))),rt}(t),Y=!!D||!l,q={closeToast:v,type:f,theme:Le};let ae=null;return o===!1||(ae=qn(o)?o(q):Ct.isValidElement(o)?Ct.cloneElement(o,q):function(we){let{closeToast:ve,theme:_e,ariaLabel:ue="close"}=we;return Mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${_e}`,type:"button",onClick:We=>{We.stopPropagation(),ve(We)},"aria-label":ue},Mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(q)),Mt.createElement(I,{isIn:Ae,done:$,position:S,preventExitTransition:n,nodeRef:r,playToast:s},Mt.createElement("div",{id:Q,onClick:c,"data-in":Ae,className:Ge,...i,style:F,ref:r},Mt.createElement("div",{...Ae&&{role:C},className:qn(E)?E({type:f}):Si("Toastify__toast-body",E),style:m},Pe!=null&&Mt.createElement("div",{className:Si("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!fe})},Pe),Mt.createElement("div",null,a)),ae,Mt.createElement(y_,{...Z&&!Y?{key:`pb-${Z}`}:{},rtl:V,theme:Le,delay:l,isRunning:e,isIn:Ae,closeToast:v,hide:h,type:f,style:G,className:x,controlledProgress:Y,progress:D||0})))},Vd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},A_=Gd(Vd("bounce",!0));Gd(Vd("slide",!0));Gd(Vd("zoom"));Gd(Vd("flip"));const I_={position:"top-right",transition:A_,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function C_(t){let e={...I_,...t};const n=t.stacked,[r,i]=Ct.useState(!0),s=Ct.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=g_(e),{className:c,style:f,rtl:h,containerId:v}=e;function I(M){const F=Si("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":h});return qn(c)?c({position:M,rtl:h,defaultClassName:F}):Si(F,uc(c))}function S(){n&&(i(!0),kt.play())}return x_(()=>{if(n){var M;const F=s.current.querySelectorAll('[data-in="true"]'),E=12,m=(M=e.position)==null?void 0:M.includes("top");let x=0,G=0;Array.from(F).reverse().forEach((Z,C)=>{const D=Z;D.classList.add("Toastify__toast--stacked"),C>0&&(D.dataset.collapsed=`${r}`),D.dataset.pos||(D.dataset.pos=m?"top":"bot");const V=x*(r?.2:1)+(r?0:E*C);D.style.setProperty("--y",`${m?V:-1*V}px`),D.style.setProperty("--g",`${E}`),D.style.setProperty("--s",""+(1-(r?G:0))),x+=D.offsetHeight,G+=.025})}},[r,l,n]),Mt.createElement("div",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{n&&(i(!1),kt.pause())},onMouseLeave:S},o((M,F)=>{const E=F.length?{...f}:{...f,pointerEvents:"none"};return Mt.createElement("div",{className:I(M),style:E,key:`container-${M}`},F.map(m=>{let{content:x,props:G}=m;return Mt.createElement(b_,{...G,stacked:n,collapseAll:S,isIn:a(G.toastId,G.containerId),style:G.style,key:`toast-${G.key}`},x)}))}))}const __=({wallets:t,isOpen:e,onClose:n})=>{if(!e)return null;const{activeAccount:r}=Wb(),i=async o=>{if(o.isConnected)o.setActive();else try{const a=await o.connect();console.log(a)}catch(a){console.log(a)}},s=async()=>{t.forEach(o=>{o.isConnected&&o.disconnect()})};return It.jsx("div",{className:"overlay",onClick:n,children:It.jsxs("div",{className:"modal-container",onClick:o=>o.stopPropagation(),children:[It.jsxs("div",{className:"modal-header",children:[It.jsx("span",{children:"Connect to a wallet"}),It.jsx("span",{className:"close-button",onClick:n,children:"×"})]}),t.map(o=>It.jsxs("div",{onClick:a=>{i(o)},className:`wallet-option ${o.activeAccount?"connected":null}`,children:[It.jsxs("span",{children:[o.metadata.name," ",o.activeAccount&&`[${`${o.activeAccount.address.slice(0,3)}...${o.activeAccount.address.slice(-3)}]`}`," ",o.isActive&&"(active)"]}),It.jsx("img",{src:o.metadata.icon,alt:`${o.metadata.name} Icon`,className:"wallet-icon"})]},o.id)),r&&It.jsx("div",{onClick:o=>{s()},className:`wallet-option ${r?"connected":null}`,children:It.jsxs("span",{children:["Disconnect ",r&&`[${`${r.address.slice(0,3)}...${r.address.slice(-3)}`}]`]})}),It.jsxs("div",{className:"modal-footer",children:[It.jsx("span",{children:"New to Algorand? "}),It.jsx("a",{href:"https://algorand.co/wallets",target:"_blank",rel:"noopener noreferrer",children:"Learn more about wallets"})]})]})})};class Gb{constructor(e){this.payment=this._transaction(n=>n.addPayment),this.assetCreate=this._transaction(n=>n.addAssetCreate),this.assetConfig=this._transaction(n=>n.addAssetConfig),this.assetFreeze=this._transaction(n=>n.addAssetFreeze),this.assetDestroy=this._transaction(n=>n.addAssetDestroy),this.assetTransfer=this._transaction(n=>n.addAssetTransfer),this.assetOptIn=this._transaction(n=>n.addAssetOptIn),this.assetOptOut=this._transaction(n=>n.addAssetOptOut),this.appCreate=this._transaction(n=>n.addAppCreate),this.appUpdate=this._transaction(n=>n.addAppUpdate),this.appDelete=this._transaction(n=>n.addAppDelete),this.appCall=this._transaction(n=>n.addAppCall),this.appCreateMethodCall=this._transactions(n=>n.addAppCreateMethodCall),this.appUpdateMethodCall=this._transactions(n=>n.addAppUpdateMethodCall),this.appDeleteMethodCall=this._transactions(n=>n.addAppDeleteMethodCall),this.appCallMethodCall=this._transactions(n=>n.addAppCallMethodCall),this.onlineKeyRegistration=this._transaction(n=>n.addOnlineKeyRegistration),this.offlineKeyRegistration=this._transaction(n=>n.addOfflineKeyRegistration),this._newGroup=e}_transaction(e){return async n=>{const r=this._newGroup();return(await e(r).apply(r,[n]).buildTransactions()).transactions.at(-1)}}_transactions(e){return async n=>{const r=this._newGroup();return await e(r).apply(r,[n]).buildTransactions()}}}class E_{constructor(){this.listenerWrapperMap=new WeakMap,this.listenerMap={},this.off=this.removeListener}async emitAsync(e,n){for(const r of this.listenerMap[e]??[])await r(n,e)}on(e,n){return this.listenerMap[e]||(this.listenerMap[e]=[]),this.listenerMap[e].push(n),this}once(e,n){const r=async(i,s)=>{try{return await n(i,s)}finally{this.removeListener(s,r)}};return this.listenerWrapperMap.set(n,r),this.on(e,r)}removeListener(e,n){var i,s;const r=this.listenerWrapperMap.get(n);return r?(this.listenerWrapperMap.delete(n),((i=this.listenerMap[e])==null?void 0:i.indexOf(r))!==-1&&this.listenerMap[e].splice(this.listenerMap[e].indexOf(r),1)):((s=this.listenerMap[e])==null?void 0:s.indexOf(n))!==-1&&this.listenerMap[e].splice(this.listenerMap[e].indexOf(n),1),this}}const S_={error:console.error,warn:console.warn,info:console.info,verbose:()=>{},debug:console.debug},R_={error:function(t,...e){},warn:function(t,...e){},info:function(t,...e){},verbose:function(t,...e){},debug:function(t,...e){}};class F_{get populateAppCallResources(){return this.config.populateAppCallResources}get logger(){return this.config.logger}get debug(){return this.config.debug}get projectRoot(){return this.config.projectRoot}get traceAll(){return this.config.traceAll}get traceBufferSizeMb(){return this.config.traceBufferSizeMb}get maxSearchDepth(){return this.config.maxSearchDepth}get events(){return this.config.events}getLogger(e){return e?R_:this.logger}withDebug(e){const n=this.config.debug;try{this.config.debug=!0,e()}finally{this.config.debug=n}}constructor(){this.config={logger:S_,debug:!1,projectRoot:null,traceAll:!1,traceBufferSizeMb:256,maxSearchDepth:10,populateAppCallResources:!1,events:new E_}}configure(e){this.config={...this.config,...e}}}const pt=new F_,k_=t=>{if(typeof t=="number")return t;if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new zy(`Cannot convert ${t} to a Number as it is larger than the maximum safe integer the Number type can hold.`);if(t<BigInt(Number.MIN_SAFE_INTEGER))throw new zy(`Cannot convert ${t} to a Number as it is smaller than the minimum safe integer the Number type can hold.`);return Number(t)};class zy extends Error{}const B_=(t,e,n)=>{if(t>e){const r=t-e;return BigInt(Math.max(Number(r),Number(n)))}else return null};function*Yy(t,e){for(let n=0;n<t.length;n+=e)yield t.slice(n,n+e)}const T_=t=>{const e=new Map,n=function(r){return(e.has(r)||e.set(r,t.call(this,r)))&&e.get(r)};return n.cache=e,n},Xy=(t,e)=>{if(e.length>t.length)return!1;for(let n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},Vb=(t,e)=>{if(typeof e=="bigint")try{return k_(e)}catch{return e.toString()}return e},Gr=(t,e=Vb,n)=>JSON.stringify(t,e,n);var ji;(function(t){t.TxnGroupSimulated="TxnGroupSimulated",t.AppCompiled="AppCompiled"})(ji||(ji={}));var qf=oe.modelsv2;async function Jy(t,e){const r=t.buildGroup().map(o=>oe.encodeUnsignedSimulateTransaction(o.txn)),i=new qf.SimulateRequest({allowEmptySignatures:!0,fixSigners:!0,allowMoreLogging:!0,execTraceConfig:new qf.SimulateTraceConfig({enable:!0,scratchChange:!0,stackChange:!0,stateChange:!0}),txnGroups:[new qf.SimulateRequestTransactionGroup({txns:r.map(o=>oe.decodeObj(o))})]});return await e.simulateTransactions(i).do()}var N_=oe.modelsv2;const Ws=8,ea=4;function jb(t){if(!(t==null||typeof t>"u")){if(typeof t=="object"&&t.constructor===Uint8Array)return t;if(typeof t=="object"&&"dAppName"in t){const e=`${t.dAppName}:${t.format}${typeof t.data=="string"?t.data:Gr(t.data)}`;return new TextEncoder().encode(e)}else{const e=typeof t=="string"?t:Gr(t);return new TextEncoder().encode(e)}}}function $b(t){if(!(t===null||typeof t>"u"))if(typeof t=="object"&&t.constructor===Uint8Array){if(t.length===0||t.length>32)throw new Error(`Received invalid lease; expected something with length between 1 and 32, but received bytes with length ${t.length}`);if(t.length===32)return t;const e=new Uint8Array(32);return e.set(t,0),e}else if(typeof t=="string"){if(t.length===0||t.length>32)throw new Error(`Received invalid lease; expected something with length between 1 and 32, but received '${t}' with length ${t.length}`);const e=new TextEncoder,n=new Uint8Array(32);return n.set(e.encode(t),0),n}else throw new Error(`Unknown lease type received of ${typeof t}`)}const Qt=function(t){return typeof t=="string"?t:"addr"in t?t.addr:t.address()},L_=async(t,e)=>{if("txn"in t)return t;if(e===void 0)throw new Error("Default sender must be provided when passing in a transaction object that does not contain its own signer");return t instanceof Promise?{txn:(await t).transaction,signer:ai(e)}:"transaction"in t?{txn:t.transaction,signer:ai(t.signer)}:{txn:t,signer:ai(e)}},M_=t=>{const e=new Map,n=function(r){return(e.has(r)||e.set(r,t.call(this,r)))&&e.get(r)};return n.cache=e,n},ai=M_(function(t){return"signer"in t?t.signer:"lsig"in t?oe.makeLogicSigAccountTransactionSigner(t):oe.makeBasicAccountTransactionSigner(t)});async function W_(t,e){const n=new oe.modelsv2.SimulateRequest({txnGroups:[],allowUnnamedResources:!0,allowEmptySignatures:!0,fixSigners:!0}),r=oe.makeEmptyTransactionSigner(),i=t.clone();i.transactions.forEach(a=>{a.signer=r});const o=(await i.simulate(e,n)).simulateResponse.txnGroups[0];if(o.failureMessage)throw Error(`Error during resource population simulation in transaction ${o.failedAt}: ${o.failureMessage}`);return{group:o.unnamedResourcesAccessed,txns:o.txnResults.map(a=>a.unnamedResourcesAccessed)}}async function Z_(t,e){var a,l,c,f,h,v;const n=await W_(t,e),r=t.buildGroup();n.txns.forEach((I,S)=>{var x,G,Z,C,D,V,Q;if(I===void 0)return;if(I.boxes||I.extraBoxRefs)throw Error("Unexpected boxes at the transaction level");if(I.appLocals)throw Error("Unexpected app local at the transaction level");if(I.assetHoldings)throw Error("Unexpected asset holding at the transaction level");(x=I.accounts)==null||x.forEach($=>{r[S].txn.appAccounts=[...r[S].txn.appAccounts??[],oe.decodeAddress($)]}),(G=I.apps)==null||G.forEach($=>{r[S].txn.appForeignApps=[...r[S].txn.appForeignApps??[],Number($)]}),(Z=I.assets)==null||Z.forEach($=>{r[S].txn.appForeignAssets=[...r[S].txn.appForeignAssets??[],Number($)]});const M=((C=r[S].txn.appAccounts)==null?void 0:C.length)||0;if(M>ea)throw Error(`Account reference limit of ${ea} exceeded in transaction ${S}`);const F=((D=r[S].txn.appForeignAssets)==null?void 0:D.length)||0,E=((V=r[S].txn.appForeignApps)==null?void 0:V.length)||0,m=((Q=r[S].txn.boxes)==null?void 0:Q.length)||0;if(M+F+E+m>Ws)throw Error(`Resource reference limit of ${Ws} exceeded in transaction ${S}`)});const i=(I,S,M)=>{const F=m=>{var D,V,Q,$;if(m.txn.type!==oe.TransactionType.appl)return!1;const x=((D=m.txn.appAccounts)==null?void 0:D.length)||0,G=((V=m.txn.appForeignAssets)==null?void 0:V.length)||0,Z=((Q=m.txn.appForeignApps)==null?void 0:Q.length)||0,C=(($=m.txn.boxes)==null?void 0:$.length)||0;return x+G+Z+C<Ws};if(M==="assetHolding"||M==="appLocal"){const{account:m}=S;let x=I.findIndex(G=>{var Z,C;return F(G)?((Z=G.txn.appAccounts)==null?void 0:Z.map(D=>oe.encodeAddress(D.publicKey)).includes(m))||((C=G.txn.appForeignApps)==null?void 0:C.map(D=>oe.getApplicationAddress(D)).includes(m))||Object.values(G.txn).map(D=>Gr(D)).includes(Gr(oe.decodeAddress(m))):!1});if(x>-1){if(M==="assetHolding"){const{asset:G}=S;I[x].txn.appForeignAssets=[...I[x].txn.appForeignAssets??[],Number(G)]}else{const{app:G}=S;I[x].txn.appForeignApps=[...I[x].txn.appForeignApps??[],Number(G)]}return}if(x=I.findIndex(G=>{var Z,C,D;if(!F(G)||(((Z=G.txn.appAccounts)==null?void 0:Z.length)||0)>=ea)return!1;if(M==="assetHolding"){const{asset:V}=S;return(C=G.txn.appForeignAssets)==null?void 0:C.includes(Number(V))}else{const{app:V}=S;return((D=G.txn.appForeignApps)==null?void 0:D.includes(Number(V)))||G.txn.appIndex===Number(V)}}),x>-1){const{account:G}=S;I[x].txn.appAccounts=[...I[x].txn.appAccounts??[],oe.decodeAddress(G)];return}}if(M==="box"){const{app:m,name:x}=S,G=I.findIndex(Z=>{var C;return F(Z)?((C=Z.txn.appForeignApps)==null?void 0:C.includes(Number(m)))||Z.txn.appIndex===Number(m):!1});if(G>-1){I[G].txn.boxes=[...I[G].txn.boxes??[],{appIndex:Number(m),name:x}];return}}const E=I.findIndex(m=>{var D,V,Q,$;if(m.txn.type!==oe.TransactionType.appl)return!1;const x=((D=m.txn.appAccounts)==null?void 0:D.length)||0;if(M==="account")return x<ea;const G=((V=m.txn.appForeignAssets)==null?void 0:V.length)||0,Z=((Q=m.txn.appForeignApps)==null?void 0:Q.length)||0,C=(($=m.txn.boxes)==null?void 0:$.length)||0;return M==="assetHolding"||M==="appLocal"?x+G+Z+C<Ws-1&&x<ea:M==="box"&&BigInt(S.app)!==BigInt(0)?x+G+Z+C<Ws-1:x+G+Z+C<Ws});if(E===-1)throw Error("No more transactions below reference limit. Add another app call to the group.");if(M==="account")I[E].txn.appAccounts=[...I[E].txn.appAccounts??[],oe.decodeAddress(S)];else if(M==="app")I[E].txn.appForeignApps=[...I[E].txn.appForeignApps??[],Number(S)];else if(M==="box"){const{app:m,name:x}=S;I[E].txn.boxes=[...I[E].txn.boxes??[],{appIndex:Number(m),name:x}],m.toString()!=="0"&&(I[E].txn.appForeignApps=[...I[E].txn.appForeignApps??[],Number(m)])}else if(M==="assetHolding"){const{asset:m,account:x}=S;I[E].txn.appForeignAssets=[...I[E].txn.appForeignAssets??[],Number(m)],I[E].txn.appAccounts=[...I[E].txn.appAccounts??[],oe.decodeAddress(x)]}else if(M==="appLocal"){const{app:m,account:x}=S;I[E].txn.appAccounts=[...I[E].txn.appAccounts??[],oe.decodeAddress(x)],I[E].txn.appForeignApps=[...I[E].txn.appForeignApps??[],Number(m)]}else M==="asset"&&(I[E].txn.appForeignAssets=[...I[E].txn.appForeignAssets??[],Number(S)])},s=n.group;if(s&&((a=s.appLocals)==null||a.forEach(I=>{var S,M;i(r,I,"appLocal"),s.accounts=(S=s.accounts)==null?void 0:S.filter(F=>F!==I.account),s.apps=(M=s.apps)==null?void 0:M.filter(F=>BigInt(F)!==BigInt(I.app))}),(l=s.assetHoldings)==null||l.forEach(I=>{var S,M;i(r,I,"assetHolding"),s.accounts=(S=s.accounts)==null?void 0:S.filter(F=>F!==I.account),s.assets=(M=s.assets)==null?void 0:M.filter(F=>BigInt(F)!==BigInt(I.asset))}),(c=s.accounts)==null||c.forEach(I=>{i(r,I,"account")}),(f=s.boxes)==null||f.forEach(I=>{var S;i(r,I,"box"),s.apps=(S=s.apps)==null?void 0:S.filter(M=>BigInt(M)!==BigInt(I.app))}),(h=s.assets)==null||h.forEach(I=>{i(r,I,"asset")}),(v=s.apps)==null||v.forEach(I=>{i(r,I,"app")}),s.extraBoxRefs))for(let I=0;I<s.extraBoxRefs;I+=1){const S=new oe.modelsv2.BoxReference({app:0,name:new Uint8Array(0)});i(r,S,"box")}const o=new oe.AtomicTransactionComposer;return r.forEach(I=>{I.txn.group=void 0,o.addTransaction(I)}),o.methodCalls=t.methodCalls,o}const zb=async function(t,e){var o,a;const{atc:n,sendParams:r,...i}=t;let s;s=n;try{((i==null?void 0:i.populateAppCallResources)??(r==null?void 0:r.populateAppCallResources)??pt.populateAppCallResources)&&(s=await Z_(n,e));const f=s.buildGroup().map(S=>S.txn);let h;if(f.length>1&&(h=f[0].group?J.Buffer.from(f[0].group).toString("base64"):"",pt.getLogger((i==null?void 0:i.suppressLog)??(r==null?void 0:r.suppressLog)).verbose(`Sending group of ${f.length} transactions (${h})`,{transactionsToSend:f}),pt.getLogger((i==null?void 0:i.suppressLog)??(r==null?void 0:r.suppressLog)).debug(`Transaction IDs (${h})`,f.map(S=>S.txID()))),pt.debug&&pt.traceAll){const S=await Jy(s,e);await pt.events.emitAsync(ji.TxnGroupSimulated,{simulateResponse:S})}const v=await s.execute(e,(i==null?void 0:i.maxRoundsToWaitForConfirmation)??(r==null?void 0:r.maxRoundsToWaitForConfirmation)??5);f.length>1?pt.getLogger((i==null?void 0:i.suppressLog)??(r==null?void 0:r.suppressLog)).verbose(`Group transaction (${h}) sent with ${f.length} transactions`):pt.getLogger((i==null?void 0:i.suppressLog)??(r==null?void 0:r.suppressLog)).verbose(`Sent transaction ID ${f[0].txID()} ${f[0].type} from ${oe.encodeAddress(f[0].from.publicKey)}`);let I;return r!=null&&r.skipWaiting||(I=await Promise.all(f.map(async S=>N_.PendingTransactionResponse.from_obj_for_encoding(await e.pendingTransactionInformation(S.txID()).do())))),{groupId:h,confirmations:I,txIds:f.map(S=>S.txID()),transactions:f,returns:v.methodResults.map(Gm)}}catch(l){const c=new Error(typeof l=="object"?l==null?void 0:l.message:"Received error executing Atomic Transaction Composer");if(c.cause=l,typeof l=="object"&&((o=l.response)==null||delete o.headers,c.response=l.response,c.name=l.name),pt.debug&&typeof l=="object"){c.traces=[],pt.logger.error("Received error executing Atomic Transaction Composer and debug flag enabled; attempting simulation to get more information",c);const f=await Jy(s,e);if(pt.debug&&!pt.traceAll&&await pt.events.emitAsync(ji.TxnGroupSimulated,{simulateResponse:f}),f&&f.txnGroups[0].failedAt)for(const h of f.txnGroups[0].txnResults)c.traces.push({trace:(a=h.execTrace)==null?void 0:a.get_obj_for_encoding(),appBudget:h.appBudgetConsumed,logicSigBudget:h.logicSigBudgetConsumed,logs:h.txnResult.logs,message:f.txnGroups[0].failureMessage})}else pt.logger.error("Received error executing Atomic Transaction Composer, for more information enable the debug flag",c);throw c}},Yp=(t,e)=>typeof t=="bigint"?e instanceof oe.ABIUintType&&e.bitSize<53?Number(t):t:Array.isArray(t)&&(e instanceof oe.ABIArrayStaticType||e instanceof oe.ABIArrayDynamicType)?t.map(n=>Yp(n,e.childType)):Array.isArray(t)&&e instanceof oe.ABITupleType?t.map((n,r)=>Yp(n,e.childTypes[r])):t;function Gm(t){return t.decodeError?{decodeError:t.decodeError}:{method:t.method,rawReturnValue:t.rawReturnValue,decodeError:void 0,returnValue:t.returnValue!==void 0&&t.method.returns.type!=="void"?Yp(t.returnValue,t.method.returns.type):t.returnValue}}const va="TMPL_UPDATABLE",xa="TMPL_DELETABLE",zl="ALGOKIT_DEPLOYER",Ky=2048;var qs;(function(t){t[t.Fail=0]="Fail",t[t.UpdateApp=1]="UpdateApp",t[t.ReplaceApp=2]="ReplaceApp",t[t.AppendApp=3]="AppendApp"})(qs||(qs={}));var Jc;(function(t){t[t.Fail=0]="Fail",t[t.ReplaceApp=1]="ReplaceApp",t[t.AppendApp=2]="AppendApp"})(Jc||(Jc={}));var Hy=oe.modelsv2;class Kt{constructor(e){this._compilationResults={},this._algod=e}async compileTeal(e){if(this._compilationResults[e])return this._compilationResults[e];const n=await this._algod.compile(e).sourcemap(!0).do(),r={teal:e,compiled:n.result,compiledHash:n.hash,compiledBase64ToBytes:new Uint8Array(Buffer.from(n.result,"base64")),sourceMap:new oe.SourceMap(n.sourcemap)};return this._compilationResults[e]=r,r}async compileTealTemplate(e,n,r){let i=Kt.stripTealComments(e);return i=Kt.replaceTealTemplateParams(i,n),r&&(i=Kt.replaceTealTemplateDeployTimeControlParams(i,r)),await this.compileTeal(i)}getCompilationResult(e){return this._compilationResults[e]}async getById(e){var r,i,s,o;const n=Hy.Application.from_obj_for_encoding(await this._algod.getApplicationByID(Number(e)).do());return{appId:BigInt(n.id),appAddress:oe.getApplicationAddress(n.id),approvalProgram:n.params.approvalProgram,clearStateProgram:n.params.clearStateProgram,creator:n.params.creator,localInts:Number(((r=n.params.localStateSchema)==null?void 0:r.numUint)??0),localByteSlices:Number(((i=n.params.localStateSchema)==null?void 0:i.numByteSlice)??0),globalInts:Number(((s=n.params.globalStateSchema)==null?void 0:s.numUint)??0),globalByteSlices:Number(((o=n.params.globalStateSchema)==null?void 0:o.numByteSlice)??0),extraProgramPages:Number(n.params.extraProgramPages??0),globalState:Kt.decodeAppState(n.params.globalState??[])}}async getGlobalState(e){return(await this.getById(e)).globalState}async getLocalState(e,n){var i;const r=Hy.AccountApplicationResponse.from_obj_for_encoding(await this._algod.accountApplicationInformation(n,Number(e)).do());if(!((i=r.appLocalState)!=null&&i.keyValue))throw new Error("Couldn't find local state");return Kt.decodeAppState(r.appLocalState.keyValue)}async getBoxNames(e){return(await this._algod.getApplicationBoxes(Number(e)).do()).boxes.map(r=>({nameRaw:r.name,nameBase64:Buffer.from(r.name).toString("base64"),name:Buffer.from(r.name).toString("utf-8")}))}async getBoxValue(e,n){const r=typeof n=="object"&&"nameRaw"in n?n.nameRaw:n,i=Kt.getBoxReference(r).name;return(await this._algod.getApplicationBoxByName(Number(e),i).do()).value}async getBoxValues(e,n){return await Promise.all(n.map(async r=>await this.getBoxValue(e,r)))}async getBoxValueFromABIType(e){const{appId:n,boxName:r,type:i}=e,s=await this.getBoxValue(n,r);return i.decode(s)}async getBoxValuesFromABIType(e){const{appId:n,boxNames:r,type:i}=e;return await Promise.all(r.map(async s=>await this.getBoxValueFromABIType({appId:n,boxName:s,type:i})))}static getBoxReference(e){const n=typeof e=="object"&&"appId"in e?e:{appId:0n,name:e};return{appIndex:Number(n.appId),name:typeof n.name=="string"?new TextEncoder().encode(n.name):"length"in n.name?n.name:oe.decodeAddress(n.name.addr).publicKey}}static decodeAppState(e){const n={};for(const r of e){const i=r.key,s=Buffer.from(i,"base64"),o=s.toString("utf-8"),a=r.value,l="action"in a?a.action:a.type;let c,f;switch(l){case 1:c=a.bytes??"",f=Buffer.from(c,"base64"),n[o]={keyRaw:s,keyBase64:i,valueRaw:new Uint8Array(f),valueBase64:c,value:f.toString("utf-8")};break;case 2:{const h=a.uint??0;n[o]={keyRaw:s,keyBase64:i,value:BigInt(h)};break}default:throw new Error(`Received unknown state data type of ${l}`)}}return n}static getABIReturn(e,n){if(!n||!e||n.returns.type==="void")return;const r={txID:"",method:n,rawReturnValue:new Uint8Array};return Gm(oe.AtomicTransactionComposer.parseMethodResponse(n,r,e))}static replaceTealTemplateDeployTimeControlParams(e,n){if(n.updatable!==void 0){if(!e.includes(va))throw new Error(`Deploy-time updatability control requested for app deployment, but ${va} not present in TEAL code`);e=Qf(e,va,(n.updatable?1:0).toString())}if(n.deletable!==void 0){if(!e.includes(xa))throw new Error(`Deploy-time deletability control requested for app deployment, but ${xa} not present in TEAL code`);e=Qf(e,xa,(n.deletable?1:0).toString())}return e}static replaceTealTemplateParams(e,n){if(n!==void 0)for(const r in n){const i=n[r],s=`TMPL_${r.replace(/^TMPL_/,"")}`;(typeof i=="number"||typeof i=="bigint")&&(e=e.replace(new RegExp(`(?<=bytes )${s}`,"g"),`0x${i.toString(16).padStart(16,"0")}`)),e=Qf(e,s,typeof i=="string"?`0x${Buffer.from(i,"utf-8").toString("hex")}`:ArrayBuffer.isView(i)?`0x${Buffer.from(i).toString("hex")}`:i.toString())}return e}static stripTealComments(e){const n=r=>{const i=Vm(r,"//");return i===void 0?r:r.slice(0,i).trimEnd()};return e.split(`
`).map(r=>n(r)).join(`
`)}}const Vm=(t,e,n=0,r)=>{const i=r===void 0?t.length:r;let s=n,o=!1,a=!1;for(;s<i;){const l=t[s];if((l===" "||l==="(")&&!o&&O_(t,s))a=!0;else if((l===" "||l===")")&&!o&&a)a=!1;else if(l==="\\"&&o)s+=1;else if(l==='"')o=!o;else if(!o&&!a&&t.startsWith(e,s))return s;s+=1}},O_=(t,e)=>{try{const n=t.slice(0,e).split(/\s+/),r=n[n.length-1];return["base64","b64"].includes(r)}catch{return!1}};function Qf(t,e,n){const r=[],i=n.length-e.length,s=t.split(`
`);for(const o of s){const a=Vm(o,"//"),l=a===void 0?o.length:a;let c=o.substring(0,l);const f=o.substring(l);let h=0;for(;;){const v=D_(c,e,h);if(v===void 0)break;h=v+e.length;const I=c.substring(0,v),S=c.substring(h);c=`${I}${n}${S}`,h+=i}r.push(c+f)}return r.join(`
`)}const D_=(t,e,n=0,r)=>{const i=t.length;let s=n;for(;s<i;){const o=Vm(t,e,s,i);if(o===void 0)break;const a=o+e.length;if((o===0||!qy(t[o-1]))&&(a>=t.length||!qy(t[a])))return o;s=a}};function qy(t){return t.length===1&&(/\w/.test(t)||t==="_")}const eh=({method:t,args:e})=>`${t.name}(${(e??[]).map(n=>typeof n=="object"?Gr(n,(r,i)=>{const s=Vb(r,i);return s instanceof Uint8Array?J.Buffer.from(s).toString("base64"):s}):n)})`;class jm{constructor(e,n,r){this.payment=this._send(i=>i.addPayment,{preLog:(i,s)=>`Sending ${i.amount.microAlgo} µALGO from ${i.sender} to ${i.receiver} via transaction ${s.txID()}`}),this.assetCreate=async i=>{const s=await this._send(o=>o.addAssetCreate,{postLog:(o,a)=>`Created asset${o.assetName?` ${o.assetName}`:""}${o.unitName?` (${o.unitName})`:""} with ${o.total} units and ${o.decimals??0} decimals created by ${o.sender} with ID ${a.confirmation.assetIndex} via transaction ${a.txIds.at(-1)}`})(i);return{...s,assetId:BigInt(s.confirmation.assetIndex??0)}},this.assetConfig=this._send(i=>i.addAssetConfig,{preLog:(i,s)=>`Configuring asset with ID ${i.assetId} via transaction ${s.txID()}`}),this.assetFreeze=this._send(i=>i.addAssetFreeze,{preLog:(i,s)=>`Freezing asset with ID ${i.assetId} via transaction ${s.txID()}`}),this.assetDestroy=this._send(i=>i.addAssetDestroy,{preLog:(i,s)=>`Destroying asset with ID ${i.assetId} via transaction ${s.txID()}`}),this.assetTransfer=this._send(i=>i.addAssetTransfer,{preLog:(i,s)=>`Transferring ${i.amount} units of asset with ID ${i.assetId} from ${i.sender} to ${i.receiver} via transaction ${s.txID()}`}),this.assetOptIn=this._send(i=>i.addAssetOptIn,{preLog:(i,s)=>`Opting in ${i.sender} to asset with ID ${i.assetId} via transaction ${s.txID()}`}),this.assetOptOut=async i=>{if(i.ensureZeroBalance){let s=0n;try{s=(await this._assetManager.getAccountInformation(i.sender,i.assetId)).balance}catch{throw new Error(`Account ${i.sender} is not opted-in to Asset ${i.assetId}; can't opt-out.`)}if(s!==0n)throw new Error(`Account ${i.sender} does not have a zero balance for Asset ${i.assetId}; can't opt-out.`)}return i.creator=i.creator??(await this._assetManager.getById(i.assetId)).creator,await this._send(s=>s.addAssetOptOut,{preLog:(s,o)=>`Opting ${s.sender} out of asset with ID ${s.assetId} to creator ${s.creator} via transaction ${o.txID()}`})(i)},this.appCreate=this._sendAppCreateCall(i=>i.addAppCreate,{postLog:(i,s)=>`App created by ${i.sender} with ID ${s.confirmation.applicationIndex} via transaction ${s.txIds.at(-1)}`}),this.appUpdate=this._sendAppUpdateCall(i=>i.addAppUpdate,{postLog:(i,s)=>`App ${i.appId} updated ${i.args?` with ${i.args.map(o=>J.Buffer.from(o).toString("base64"))}`:""} by ${i.sender} via transaction ${s.txIds.at(-1)}`}),this.appDelete=this._sendAppCall(i=>i.addAppDelete,{postLog:(i,s)=>`App ${i.appId} deleted ${i.args?` with ${i.args.map(o=>J.Buffer.from(o).toString("base64"))}`:""} by ${i.sender} via transaction ${s.txIds.at(-1)}`}),this.appCall=this._sendAppCall(i=>i.addAppCall,{postLog:(i,s)=>`App ${i.appId} called ${i.args?` with ${i.args.map(o=>J.Buffer.from(o).toString("base64"))}`:""} by ${i.sender} via transaction ${s.txIds.at(-1)}`}),this.appCreateMethodCall=this._sendAppCreateCall(i=>i.addAppCreateMethodCall,{postLog:(i,s)=>`App created by ${i.sender} with ID ${s.confirmation.applicationIndex} via transaction ${s.txIds.at(-1)}`}),this.appUpdateMethodCall=this._sendAppUpdateCall(i=>i.addAppUpdateMethodCall,{postLog:(i,s)=>`App ${i.appId} updated with ${eh(i)} by ${i.sender} via transaction ${s.txIds.at(-1)}`}),this.appDeleteMethodCall=this._sendAppCall(i=>i.addAppDeleteMethodCall,{postLog:(i,s)=>`App ${i.appId} deleted with ${eh(i)} by ${i.sender} via transaction ${s.txIds.at(-1)}`}),this.appCallMethodCall=this._sendAppCall(i=>i.addAppCallMethodCall,{postLog:(i,s)=>`App ${i.appId} called with ${eh(i)} by ${i.sender} via transaction ${s.txIds.at(-1)}`}),this.onlineKeyRegistration=this._send(i=>i.addOnlineKeyRegistration,{preLog:(i,s)=>`Registering online key for ${i.sender} via transaction ${s.txID()}`}),this.offlineKeyRegistration=this._send(i=>i.addOfflineKeyRegistration,{preLog:(i,s)=>`Registering offline key for ${i.sender} via transaction ${s.txID()}`}),this._newGroup=e,this._assetManager=n,this._appManager=r}newGroup(){return this._newGroup()}_send(e,n){return async r=>{const i=this._newGroup();if(e(i).apply(i,[r]),n!=null&&n.preLog){const a=(await i.build()).transactions.at(-1).txn;pt.getLogger(r==null?void 0:r.suppressLog).debug(n.preLog(r,a))}const s=await i.send(r),o={transaction:s.transactions.at(-1),confirmation:s.confirmations.at(-1),txId:s.txIds.at(-1),...s};return n!=null&&n.postLog&&pt.getLogger(r==null?void 0:r.suppressLog).debug(n.postLog(r,o)),o}}_sendAppCall(e,n){return async r=>{const i=await this._send(e,n)(r);return{...i,return:Kt.getABIReturn(i.confirmation,"method"in r?r.method:void 0)}}}_sendAppUpdateCall(e,n){return async r=>{const i=await this._sendAppCall(e,n)(r),s=typeof r.approvalProgram=="string"?this._appManager.getCompilationResult(r.approvalProgram):void 0,o=typeof r.clearStateProgram=="string"?this._appManager.getCompilationResult(r.clearStateProgram):void 0;return{...i,compiledApproval:s,compiledClear:o}}}_sendAppCreateCall(e,n){return async r=>{const i=await this._sendAppUpdateCall(e,n)(r);return{...i,appId:BigInt(i.confirmation.applicationIndex),appAddress:oe.getApplicationAddress(i.confirmation.applicationIndex)}}}}function Yb(t){return t==="devnet-v1"||t==="sandnet-v1"||t==="dockernet-v1"}var U_=oe.AtomicTransactionComposer,P_=oe.isTransactionWithSigner,G_=oe.encodeAddress,Qy=oe.modelsv2;const e2=16;class fr{constructor(e){this.atc=new oe.AtomicTransactionComposer,this.txnMethodMap=new Map,this.txns=[],this.defaultValidityWindow=10,this.defaultValidityWindowIsExplicit=!1,this.algod=e.algod;const n=()=>e.algod.getTransactionParams().do();this.getSuggestedParams=e.getSuggestedParams??n,this.getSigner=e.getSigner,this.defaultValidityWindow=e.defaultValidityWindow??this.defaultValidityWindow,this.defaultValidityWindowIsExplicit=e.defaultValidityWindow!==void 0,this.appManager=e.appManager??new Kt(e.algod)}addTransaction(e,n){return this.txns.push({txn:e,signer:n??this.getSigner(oe.encodeAddress(e.from.publicKey)),type:"txnWithSigner"}),this}addPayment(e){return this.txns.push({...e,type:"pay"}),this}addAssetCreate(e){return this.txns.push({...e,type:"assetCreate"}),this}addAssetConfig(e){return this.txns.push({...e,type:"assetConfig"}),this}addAssetFreeze(e){return this.txns.push({...e,type:"assetFreeze"}),this}addAssetDestroy(e){return this.txns.push({...e,type:"assetDestroy"}),this}addAssetTransfer(e){return this.txns.push({...e,type:"assetTransfer"}),this}addAssetOptIn(e){return this.txns.push({...e,type:"assetOptIn"}),this}addAssetOptOut(e){return this.txns.push({...e,type:"assetOptOut"}),this}addAppCreate(e){return this.txns.push({...e,type:"appCall"}),this}addAppUpdate(e){return this.txns.push({...e,type:"appCall",onComplete:oe.OnApplicationComplete.UpdateApplicationOC}),this}addAppDelete(e){return this.txns.push({...e,type:"appCall",onComplete:oe.OnApplicationComplete.DeleteApplicationOC}),this}addAppCall(e){return this.txns.push({...e,type:"appCall"}),this}addAppCreateMethodCall(e){return this.txns.push({...e,type:"methodCall"}),this}addAppUpdateMethodCall(e){return this.txns.push({...e,type:"methodCall",onComplete:oe.OnApplicationComplete.UpdateApplicationOC}),this}addAppDeleteMethodCall(e){return this.txns.push({...e,type:"methodCall",onComplete:oe.OnApplicationComplete.DeleteApplicationOC}),this}addAppCallMethodCall(e){return this.txns.push({...e,type:"methodCall"}),this}addOnlineKeyRegistration(e){return this.txns.push({...e,type:"keyReg"}),this}addOfflineKeyRegistration(e){return this.txns.push({...e,type:"keyReg"}),this}addAtc(e){return this.txns.push({atc:e,type:"atc"}),this}buildAtc(e,n){return e.buildGroup().map((s,o)=>(s.txn.group=void 0,s.txn=(n==null?void 0:n(s.txn,o))??s.txn,e.methodCalls.get(o)&&this.txnMethodMap.set(s.txn.txID(),e.methodCalls.get(o)),s))}commonTxnBuildStep(e,n,r){e.lease&&n.addLease($b(e.lease)),e.rekeyTo&&n.addRekey(e.rekeyTo);const i=new TextEncoder;if(e.note&&(n.note=typeof e.note=="string"?i.encode(e.note):e.note),e.firstValidRound&&(n.firstRound=Number(e.firstValidRound)),e.lastValidRound)n.lastRound=Number(e.lastValidRound);else{const s=e.validityWindow??(!this.defaultValidityWindowIsExplicit&&Yb(r.genesisID)?1e3:this.defaultValidityWindow);n.lastRound=n.firstRound+s}if(e.staticFee!==void 0&&e.extraFee!==void 0)throw Error("Cannot set both staticFee and extraFee");if(e.staticFee!==void 0?n.fee=Number(e.staticFee.microAlgo):(n.fee=n.estimateSize()*r.fee||oe.ALGORAND_MIN_TX_FEE,e.extraFee&&(n.fee+=Number(e.extraFee.microAlgo))),n.flatFee=!0,e.maxFee!==void 0&&n.fee>e.maxFee.microAlgo)throw Error(`Transaction fee ${n.fee} µALGO is greater than maxFee ${e.maxFee}`);return n}async buildMethodCall(e,n,r){var h,v,I,S,M,F,E;const i=[],s=[],o=m=>Array.isArray(m)?m.length==0||m.every(o):typeof m=="bigint"||typeof m=="boolean"||typeof m=="number"||typeof m=="string"||m instanceof Uint8Array;for(let m=(e.args??[]).length-1;m>=0;m--){const x=e.args[m];if(x===void 0){if(oe.abiTypeIsTransaction(e.method.args[m].type)&&s.length>0){const Z=s.splice(-1,1)[0];i.push(Z);continue}throw Error(`No value provided for argument ${m+1} within call to ${e.method.name}`)}if(o(x)){i.push(x);continue}if(P_(x)){i.push(x);continue}if("method"in x){const Z=await this.buildMethodCall(x,n,r);i.push(...Z.slice(-1)),s.push(...Z.slice(0,-1).reverse());continue}const G=await x;i.push({txn:G,signer:r?e.signer?"signer"in e.signer?e.signer.signer:e.signer:this.getSigner(G_(G.from.publicKey)):fr.NULL_SIGNER})}const a=new oe.AtomicTransactionComposer;s.reverse().forEach(m=>a.addTransaction(m));const l=Number("appId"in e?e.appId:0n),c="approvalProgram"in e?typeof e.approvalProgram=="string"?(await this.appManager.compileTeal(e.approvalProgram)).compiledBase64ToBytes:e.approvalProgram:void 0,f="clearStateProgram"in e?typeof e.clearStateProgram=="string"?(await this.appManager.compileTeal(e.clearStateProgram)).compiledBase64ToBytes:e.clearStateProgram:void 0;return a.addMethodCall({appID:l,sender:e.sender,suggestedParams:n,onComplete:e.onComplete??oe.OnApplicationComplete.NoOpOC,appAccounts:e.accountReferences,appForeignApps:(h=e.appReferences)==null?void 0:h.map(m=>Number(m)),appForeignAssets:(v=e.assetReferences)==null?void 0:v.map(m=>Number(m)),boxes:(I=e.boxReferences)==null?void 0:I.map(Kt.getBoxReference),approvalProgram:c,clearProgram:f,extraPages:l===0?"extraProgramPages"in e&&e.extraProgramPages!==void 0?e.extraProgramPages:c?Math.floor((c.length+((f==null?void 0:f.length)??0))/Ky):0:void 0,numLocalInts:l===0?"schema"in e?((S=e.schema)==null?void 0:S.localInts)??0:0:void 0,numLocalByteSlices:l===0?"schema"in e?((M=e.schema)==null?void 0:M.localByteSlices)??0:0:void 0,numGlobalInts:l===0?"schema"in e?((F=e.schema)==null?void 0:F.globalInts)??0:0:void 0,numGlobalByteSlices:l===0?"schema"in e?((E=e.schema)==null?void 0:E.globalByteSlices)??0:0:void 0,method:e.method,signer:r?e.signer?"signer"in e.signer?e.signer.signer:e.signer:this.getSigner(e.sender):fr.NULL_SIGNER,methodArgs:i.reverse(),note:void 0,lease:void 0,rekeyTo:void 0}),this.buildAtc(a,(m,x)=>x===a.count()-1?this.commonTxnBuildStep(e,m,n):m)}buildPayment(e,n){const r=oe.makePaymentTxnWithSuggestedParamsFromObject({from:e.sender,to:e.receiver,amount:e.amount.microAlgo,closeRemainderTo:e.closeRemainderTo,suggestedParams:n});return this.commonTxnBuildStep(e,r,n)}buildAssetCreate(e,n){const r=oe.makeAssetCreateTxnWithSuggestedParamsFromObject({from:e.sender,total:e.total,decimals:e.decimals??0,assetName:e.assetName,unitName:e.unitName,assetURL:e.url,defaultFrozen:e.defaultFrozen??!1,assetMetadataHash:e.metadataHash,manager:e.manager,reserve:e.reserve,freeze:e.freeze,clawback:e.clawback,suggestedParams:n});return this.commonTxnBuildStep(e,r,n)}buildAssetConfig(e,n){const r=oe.makeAssetConfigTxnWithSuggestedParamsFromObject({from:e.sender,assetIndex:Number(e.assetId),suggestedParams:n,manager:e.manager,reserve:e.reserve,freeze:e.freeze,clawback:e.clawback,strictEmptyAddressChecking:!1});return this.commonTxnBuildStep(e,r,n)}buildAssetDestroy(e,n){const r=oe.makeAssetDestroyTxnWithSuggestedParamsFromObject({from:e.sender,assetIndex:Number(e.assetId),suggestedParams:n});return this.commonTxnBuildStep(e,r,n)}buildAssetFreeze(e,n){const r=oe.makeAssetFreezeTxnWithSuggestedParamsFromObject({from:e.sender,assetIndex:Number(e.assetId),freezeTarget:e.account,freezeState:e.frozen,suggestedParams:n});return this.commonTxnBuildStep(e,r,n)}buildAssetTransfer(e,n){const r=oe.makeAssetTransferTxnWithSuggestedParamsFromObject({from:e.sender,to:e.receiver,assetIndex:Number(e.assetId),amount:e.amount,suggestedParams:n,closeRemainderTo:e.closeAssetTo,revocationTarget:e.clawbackTarget});return this.commonTxnBuildStep(e,r,n)}async buildAppCall(e,n){var l,c,f,h,v,I,S;const r=Number("appId"in e?e.appId:0n),i="approvalProgram"in e?typeof e.approvalProgram=="string"?(await this.appManager.compileTeal(e.approvalProgram)).compiledBase64ToBytes:e.approvalProgram:void 0,s="clearStateProgram"in e?typeof e.clearStateProgram=="string"?(await this.appManager.compileTeal(e.clearStateProgram)).compiledBase64ToBytes:e.clearStateProgram:void 0,o={from:e.sender,suggestedParams:n,appArgs:e.args,onComplete:e.onComplete??oe.OnApplicationComplete.NoOpOC,accounts:e.accountReferences,foreignApps:(l=e.appReferences)==null?void 0:l.map(M=>Number(M)),foreignAssets:(c=e.assetReferences)==null?void 0:c.map(M=>Number(M)),boxes:(f=e.boxReferences)==null?void 0:f.map(Kt.getBoxReference),approvalProgram:i,clearProgram:s};let a;if(r===0){if(o.approvalProgram===void 0||o.clearProgram===void 0)throw new Error("approvalProgram and clearStateProgram are required for application creation");a=oe.makeApplicationCreateTxnFromObject({...o,extraPages:"extraProgramPages"in e?e.extraProgramPages??Math.floor((i.length+s.length)/Ky):0,numLocalInts:"schema"in e?((h=e.schema)==null?void 0:h.localInts)??0:0,numLocalByteSlices:"schema"in e?((v=e.schema)==null?void 0:v.localByteSlices)??0:0,numGlobalInts:"schema"in e?((I=e.schema)==null?void 0:I.globalInts)??0:0,numGlobalByteSlices:"schema"in e?((S=e.schema)==null?void 0:S.globalByteSlices)??0:0,approvalProgram:i,clearProgram:s})}else a=oe.makeApplicationCallTxnFromObject({...o,appIndex:r});return this.commonTxnBuildStep(e,a,n)}buildKeyReg(e,n){let r;if("voteKey"in e){const i=e.voteFirst===0n?1n:e.voteFirst;r=oe.makeKeyRegistrationTxnWithSuggestedParamsFromObject({from:e.sender,voteKey:e.voteKey,selectionKey:e.selectionKey,voteFirst:Number(i),voteLast:Number(e.voteLast),voteKeyDilution:Number(e.voteKeyDilution),suggestedParams:n,nonParticipation:!1,stateProofKey:e.stateProofKey}),e.voteFirst===0n&&(r.voteFirst=0)}else r=oe.makeKeyRegistrationTxnWithSuggestedParamsFromObject({from:e.sender,suggestedParams:n,nonParticipation:e.preventAccountFromEverParticipatingAgain});return this.commonTxnBuildStep(e,r,n)}async buildTxn(e,n){switch(e.type){case"pay":return[this.buildPayment(e,n)];case"assetCreate":return[this.buildAssetCreate(e,n)];case"appCall":return[await this.buildAppCall(e,n)];case"assetConfig":return[this.buildAssetConfig(e,n)];case"assetDestroy":return[this.buildAssetDestroy(e,n)];case"assetFreeze":return[this.buildAssetFreeze(e,n)];case"assetTransfer":return[this.buildAssetTransfer(e,n)];case"assetOptIn":return[this.buildAssetTransfer({...e,receiver:e.sender,amount:0n},n)];case"assetOptOut":return[this.buildAssetTransfer({...e,receiver:e.sender,amount:0n,closeAssetTo:e.creator},n)];case"keyReg":return[this.buildKeyReg(e,n)];default:throw Error("Unsupported txn type")}}async buildTxnWithSigner(e,n){if(e.type==="txnWithSigner")return[e];if(e.type==="atc")return this.buildAtc(e.atc);if(e.type==="methodCall")return await this.buildMethodCall(e,n,!0);const r=e.signer?"signer"in e.signer?e.signer.signer:e.signer:this.getSigner(e.sender);return(await this.buildTxn(e,n)).map(i=>({txn:i,signer:r}))}async buildTransactions(){const e=await this.getSuggestedParams(),n=[],r=new Map,i=new Map;for(const s of this.txns)if(!["txnWithSigner","atc","methodCall"].includes(s.type))n.push(...await this.buildTxn(s,e));else{const o=s.type==="txnWithSigner"?[s]:s.type==="atc"?this.buildAtc(s.atc):s.type==="methodCall"?await this.buildMethodCall(s,e,!1):[];n.push(...o.map(a=>a.txn)),o.forEach((a,l)=>{a.signer&&a.signer!==fr.NULL_SIGNER&&i.set(l,a.signer)})}for(let s=0;s<n.length;s++){const o=this.txnMethodMap.get(n[s].txID());o&&r.set(s,o)}return{transactions:n,methodCalls:r,signers:i}}async count(){return(await this.buildTransactions()).transactions.length}async build(){if(this.atc.getStatus()===oe.AtomicTransactionComposerStatus.BUILDING){const e=await this.getSuggestedParams(),n=[];for(const i of this.txns)n.push(...await this.buildTxnWithSigner(i,e));const r=new Map;n.forEach((i,s)=>{this.atc.addTransaction(i);const o=this.txnMethodMap.get(i.txn.txID());o&&r.set(s,o)}),this.atc.methodCalls=r}return{atc:this.atc,transactions:this.atc.buildGroup(),methodCalls:this.atc.methodCalls}}async rebuild(){return this.atc=new oe.AtomicTransactionComposer,await this.build()}async send(e){const n=(await this.build()).transactions;let r=e==null?void 0:e.maxRoundsToWaitForConfirmation;if(r===void 0){const i=n.reduce((o,a)=>Math.max(a.txn.lastRound,o),0),{firstRound:s}=await this.getSuggestedParams();r=i-s+1}return await zb({atc:this.atc,suppressLog:e==null?void 0:e.suppressLog,maxRoundsToWaitForConfirmation:r,populateAppCallResources:e==null?void 0:e.populateAppCallResources},this.algod)}async execute(e){return this.send(e)}async simulate(e){var c;const{skipSignatures:n=!1,...r}=e??{},i=n?new U_:this.atc;if(n){r.allowEmptySignatures=!0,r.fixSigners=!0;const f=await this.buildTransactions();for(const h of f.transactions)i.addTransaction({txn:h,signer:fr.NULL_SIGNER});i.methodCalls=f.methodCalls}else await this.build();const{methodResults:s,simulateResponse:o}=await i.simulate(this.algod,new Qy.SimulateRequest({txnGroups:[],...r,...pt.debug?{allowEmptySignatures:!0,fixSigners:!0,allowMoreLogging:!0,execTraceConfig:new Qy.SimulateTraceConfig({enable:!0,scratchChange:!0,stackChange:!0,stateChange:!0})}:void 0})),a=o==null?void 0:o.txnGroups[0];if(a!=null&&a.failureMessage){const f=`Transaction failed at transaction(s) ${((c=a.failedAt)==null?void 0:c.join(", "))||"unknown"} in the group. ${a.failureMessage}`,h=new Error(f);throw pt.debug&&await pt.events.emitAsync(ji.TxnGroupSimulated,{simulateResponse:o}),h.simulateResponse=o,h}pt.debug&&pt.traceAll&&await pt.events.emitAsync(ji.TxnGroupSimulated,{simulateResponse:o});const l=i.buildGroup().map(f=>f.txn);return{confirmations:o.txnGroups[0].txnResults.map(f=>f.txnResult),transactions:l,txIds:l.map(f=>f.txID()),groupId:Buffer.from(l[0].group??new Uint8Array).toString("base64"),simulateResponse:o,returns:s.map(Gm)}}static arc2Note(e){const n=`${e.dAppName}:${e.format}${typeof e.data=="string"?e.data:Gr(e.data)}`;return new TextEncoder().encode(n)}}fr.NULL_SIGNER=oe.makeEmptyTransactionSigner();var V_=oe.modelsv2.Asset;class $m{constructor(e,n){this._algod=e,this._newGroup=n}async getById(e){const n=V_.from_obj_for_encoding(await this._algod.getAssetByID(Number(e)).do());return{assetId:BigInt(n.index),total:BigInt(n.params.total),decimals:Number(n.params.decimals),assetName:n.params.name,assetNameAsBytes:n.params.nameB64,unitName:n.params.unitName,unitNameAsBytes:n.params.unitNameB64,url:n.params.url,urlAsBytes:n.params.urlB64,creator:n.params.creator,manager:n.params.manager,clawback:n.params.clawback,freeze:n.params.freeze,reserve:n.params.reserve,defaultFrozen:n.params.defaultFrozen,metadataHash:n.params.metadataHash}}async getAccountInformation(e,n){const r=await this._algod.accountAssetInformation(typeof e=="string"?e:e.addr,Number(n)).do();return{assetId:BigInt(n),balance:BigInt(r["asset-holding"].amount),frozen:r["asset-holding"]["is-frozen"]===!0,round:BigInt(r.round)}}async bulkOptIn(e,n,r){var s,o;const i=[];for(const a of Yy(n,e2)){const l=this._newGroup();for(const f of a)l.addAssetOptIn({...r,sender:typeof e=="string"?e:e.addr,assetId:BigInt(f)});const c=await l.send(r);pt.getLogger(r==null?void 0:r.suppressLog).info(`Successfully opted in ${e} for assets ${a.join(", ")} with transaction IDs ${c.txIds.join(", ")}
  Grouped under ${c.groupId} in round ${(o=(s=c.confirmations)==null?void 0:s[0])==null?void 0:o.confirmedRound}.`),a.forEach((f,h)=>{i.push({assetId:BigInt(f),transactionId:c.txIds[h]})})}return i}async bulkOptOut(e,n,r){var o,a;const i=[],s=typeof e=="string"?e:e.addr;for(const l of Yy(n,e2)){const c=this._newGroup(),f=[],h=[];for(const I of l)if((r==null?void 0:r.ensureZeroBalance)!==!1)try{(await this.getAccountInformation(s,I)).balance!==0n&&h.push(BigInt(I))}catch{f.push(BigInt(I))}if(f.length>0||h.length>0)throw new Error(`Account ${s}${f.length>0?` is not opted-in to Asset${f.length>1?"s":""} ${f.join(", ")}`:""}${h.length>0?` has non-zero balance for Asset${h.length>1?"s":""} ${h.join(", ")}`:""}; can't opt-out.`);for(const I of l)c.addAssetOptOut({...r,creator:(await this.getById(BigInt(I))).creator,sender:s,assetId:BigInt(I)});const v=await c.send(r);pt.getLogger(r==null?void 0:r.suppressLog).info(`Successfully opted ${e} out of assets ${l.join(", ")} with transaction IDs ${v.txIds.join(", ")}
  Grouped under ${v.groupId} in round ${(a=(o=v.confirmations)==null?void 0:o[0])==null?void 0:a.confirmedRound}.`),l.forEach((I,S)=>{i.push({assetId:BigInt(I),transactionId:v.txIds[S]})})}return i}}var j_=oe.ABIMethod;async function Xb(t,e,n,r,i,s,o){const a=new Kt(t),l=()=>new fr({algod:t,getSigner:()=>ai(e),getSuggestedParams:async()=>o?{...o}:await t.getTransactionParams().do(),appManager:a}),c=new jm(l,new $m(t,l),a),f=new Gb(l);if(n.fee&&(r.staticFee=n.fee),n.maxFee&&(r.maxFee=n.maxFee),n.atc||n.skipSending){const h=await i(f)(r),v="transactions"in h?h.transactions:[h];if(n.atc){const I=n.atc.count();v.map((S,M)=>({txn:S,signer:"signers"in h?h.signers.get(M)??ai(e):ai(e)})).forEach(S=>n.atc.addTransaction(S)),"transactions"in h&&h.methodCalls.forEach((S,M)=>n.atc.methodCalls.set(M+I,S))}return{transaction:v.at(-1),transactions:v}}return{...await s(c)({...n,...r})}}async function bo(t,e,n,r,i,s,o,a){var f,h,v,I,S,M;const l=new TextEncoder,c={...i,accountReferences:(f=n==null?void 0:n.accounts)==null?void 0:f.map(F=>typeof F=="string"?F:oe.encodeAddress(F.publicKey)),appReferences:(h=n==null?void 0:n.apps)==null?void 0:h.map(F=>BigInt(F)),assetReferences:(v=n==null?void 0:n.assets)==null?void 0:v.map(F=>BigInt(F)),boxReferences:(S=(I=n==null?void 0:n.boxes)==null?void 0:I.map(ba))==null?void 0:S.map(F=>({appId:BigInt(F.appIndex),name:F.name})),lease:n==null?void 0:n.lease,rekeyTo:n!=null&&n.rekeyTo?Qt(n==null?void 0:n.rekeyTo):void 0,args:n?"methodArgs"in n?(await dc(n,e)).methodArgs:(M=n==null?void 0:n.appArgs)==null?void 0:M.map(F=>typeof F=="string"?l.encode(F):F):void 0,note:jb(r==null?void 0:r.note)};return await Xb(t,e,r,c,s,o,a)}async function dc(t,e){var i,s,o;const n=ai(e),r=await Promise.all((i="methodArgs"in t?t.methodArgs:t)==null?void 0:i.map(async(a,l)=>{if(a===void 0)throw new Error(`Argument at position ${l} does not have a value`);return typeof a!="object"||"txn"in a?a:a instanceof Promise?{txn:(await a).transaction,signer:n}:"transaction"in a?{txn:a.transaction,signer:"signer"in a?ai(a.signer):n}:"txID"in a?{txn:a,signer:n}:a}));return{method:"txnCount"in t.method?t.method:new j_(t.method),sender:Qt(e),signer:n,boxes:(s=t.boxes)==null?void 0:s.map(ba),lease:$b(t.lease),appForeignApps:t.apps,appForeignAssets:t.assets,appAccounts:(o=t.accounts)==null?void 0:o.map($_),methodArgs:r,rekeyTo:t!=null&&t.rekeyTo?typeof t.rekeyTo=="string"?t.rekeyTo:Qt(t.rekeyTo):void 0}}function $_(t){return typeof t=="string"?t:oe.encodeAddress(t.publicKey)}function ba(t){const e=new TextEncoder;if(typeof t=="object"&&"appIndex"in t)return t;const n=typeof t=="object"&&"appId"in t?t:{appId:0,name:t};return{appIndex:n.appId,name:typeof n.name=="string"?e.encode(n.name):"length"in n.name?n.name:oe.decodeAddress(Qt(n.name)).publicKey}}var Ao=oe.ABIMethod,ir=oe.OnApplicationComplete;async function z_(t,e){var i;const n=zm(t.onCompleteAction);if(n===oe.OnApplicationComplete.ClearStateOC)throw new Error("Cannot create an app with on-complete action of ClearState");const r=(i=t.args)!=null&&i.method?await bo(e,t.from,t.args,t,{sender:Qt(t.from),onComplete:n,approvalProgram:t.approvalProgram,clearStateProgram:t.clearStateProgram,method:t.args.method instanceof Ao?t.args.method:new Ao(t.args.method),extraProgramPages:t.schema.extraPages,schema:t.schema},s=>s.appCreateMethodCall,s=>s.appCreateMethodCall):await bo(e,t.from,t.args,t,{sender:Qt(t.from),onComplete:n,approvalProgram:t.approvalProgram,clearStateProgram:t.clearStateProgram,extraProgramPages:t.schema.extraPages,schema:t.schema},s=>s.appCreate,s=>s.appCreate);return{...r,appId:"appId"in r?Number(r.appId):0,appAddress:"appAddress"in r?r.appAddress:""}}async function Y_(t,e){var n;return(n=t.args)!=null&&n.method?await bo(e,t.from,t.args,t,{appId:BigInt(t.appId),sender:Qt(t.from),onComplete:oe.OnApplicationComplete.UpdateApplicationOC,approvalProgram:t.approvalProgram,clearStateProgram:t.clearStateProgram,method:t.args.method instanceof Ao?t.args.method:new Ao(t.args.method)},r=>r.appUpdateMethodCall,r=>r.appUpdateMethodCall):await bo(e,t.from,t.args,t,{appId:BigInt(t.appId),sender:Qt(t.from),onComplete:oe.OnApplicationComplete.UpdateApplicationOC,approvalProgram:t.approvalProgram,clearStateProgram:t.clearStateProgram},r=>r.appUpdate,r=>r.appUpdate)}function zm(t){switch(t){case void 0:case"no_op":case ir.NoOpOC:return ir.NoOpOC;case"opt_in":case ir.OptInOC:return ir.OptInOC;case"close_out":case ir.CloseOutOC:return ir.CloseOutOC;case"clear_state":case ir.ClearStateOC:return ir.ClearStateOC;case"update_application":case ir.UpdateApplicationOC:return ir.UpdateApplicationOC;case"delete_application":case ir.DeleteApplicationOC:return ir.DeleteApplicationOC}}async function X_(t,e){var r,i;const n=zm(t.callType);if(n===oe.OnApplicationComplete.UpdateApplicationOC)throw new Error("Cannot execute an app call with on-complete action of Update");if((r=t.args)!=null&&r.method&&n===oe.OnApplicationComplete.ClearStateOC)throw new Error("Cannot execute an ABI method call with on-complete action of ClearState");return(i=t.args)!=null&&i.method?await bo(e,t.from,t.args,t,{appId:BigInt(t.appId),sender:Qt(t.from),onComplete:n,method:t.args.method instanceof Ao?t.args.method:new Ao(t.args.method)},s=>s.appCallMethodCall,s=>s.appCallMethodCall):await bo(e,t.from,t.args,t,{appId:BigInt(t.appId),sender:Qt(t.from),onComplete:n},s=>s.appCall,s=>s.appCall)}async function J_(t,e){return await new Kt(e).getGlobalState(BigInt(t))}async function K_(t,e,n){return new Kt(n).getLocalState(BigInt(t),Qt(e))}async function H_(t,e){return new Kt(e).getBoxNames(BigInt(t))}async function t2(t,e,n){return new Kt(n).getBoxValue(BigInt(t),typeof e!="string"&&"name"in e?e.nameRaw:e)}async function n2(t,e){return new Kt(e).getBoxValueFromABIType({appId:BigInt(t.appId),boxName:typeof t.boxName!="string"&&"name"in t.boxName?t.boxName.nameRaw:t.boxName,type:t.type})}async function r2(t,e){return await new Kt(e).compileTeal(t)}const Jb=1e3;async function q_(t,e,n=void 0,r){return await Kb(i=>{if("message"in i)throw{status:404,...i};return i.applications},i=>{let s=t.lookupAccountCreatedApplications(e).includeAll(n).limit(Jb);return i&&(s=s.nextToken(i)),s})}async function Q_(t,e,n){let r=0;const i=await Kb(s=>{if("message"in s)throw{status:404,...s};return s["current-round"]>r&&(r=s["current-round"]),s.transactions},s=>{let o=e(t.searchForTransactions()).limit(Jb);return s&&(o=o.nextToken(s)),o});return{"current-round":r,"next-token":"",transactions:i}}async function Kb(t,e){const n=[];let r;for(;;){const s=await e(r).do(),o=t(s);if(o==null||o.length===0||(n.push(...o),r=s["next-token"],!r))break}return n}class Ym{constructor(e,n,r){this._appLookups=new Map,this._appManager=e,this._transactionSender=n,this._indexer=r}async deploy(e){var fe,be,Le,Ve;const{metadata:n,deployTimeParams:r,onSchemaBreak:i,onUpdate:s,createParams:o,updateParams:a,deleteParams:l,existingDeployments:c,ignoreCache:f,...h}=e;if(o.note=a.note=fr.arc2Note({dAppName:zl,data:n,format:"j"}),c&&c.creator!==o.sender)throw new Error(`Received invalid existingDeployments value for creator ${c.creator} when attempting to deploy for creator ${o.sender}`);if(!c&&!this._indexer)throw new Error("Didn't receive an indexer client when this AppManager was created, but also didn't receive an existingDeployments cache - one of them must be provided");pt.getLogger(h==null?void 0:h.suppressLog).info(`Idempotently deploying app "${n.name}" from creator ${o.sender} using ${o.approvalProgram.length} bytes of ${typeof o.approvalProgram=="string"?"teal code":"AVM bytecode"} and ${o.clearStateProgram.length} bytes of ${typeof o.approvalProgram=="string"?"teal code":"AVM bytecode"}`);const v=typeof o.approvalProgram=="string"?await this._appManager.compileTealTemplate(o.approvalProgram,r,n):void 0,I=v?v.compiledBase64ToBytes:o.approvalProgram,S=typeof o.clearStateProgram=="string"?await this._appManager.compileTealTemplate(o.clearStateProgram,r):void 0,M=S?S.compiledBase64ToBytes:o.clearStateProgram,F=async()=>{const Ge=await("method"in o?this._transactionSender.appCreateMethodCall({...o,approvalProgram:I,clearStateProgram:M,...h}):this._transactionSender.appCreate({...o,approvalProgram:I,clearStateProgram:M,...h})),Pe={appId:Ge.appId,appAddress:Ge.appAddress,...n,createdMetadata:n,createdRound:BigInt(Ge.confirmation.confirmedRound),updatedRound:BigInt(Ge.confirmation.confirmedRound),deleted:!1};return this.updateAppLookup(o.sender,Pe),{operationPerformed:"create",compiledApproval:v,compiledClear:S,...Ge,...Pe}},E=async Ge=>{pt.getLogger(h==null?void 0:h.suppressLog).info(`Updating existing ${n.name} app for ${o.sender} to version ${n.version}.`);const Pe=await("method"in a?this._transactionSender.appUpdateMethodCall({appId:Ge.appId,approvalProgram:I,clearStateProgram:M,...a,...h}):this._transactionSender.appUpdate({appId:Ge.appId,approvalProgram:I,clearStateProgram:M,...a,...h})),Y={appId:Ge.appId,appAddress:Ge.appAddress,createdMetadata:Ge.createdMetadata,createdRound:Ge.createdRound,updatedRound:BigInt(Pe.confirmation.confirmedRound),...n,deleted:!1};return this.updateAppLookup(o.sender,Y),{operationPerformed:"update",compiledApproval:v,compiledClear:S,...Pe,...Y}},m=async Ge=>{var ue,We;pt.getLogger(h==null?void 0:h.suppressLog).info(`Deploying a new ${n.name} app for ${o.sender}; deploying app with version ${n.version}.`),pt.getLogger(h==null?void 0:h.suppressLog).warn(`Deleting existing ${n.name} app with id ${Ge.appId} from ${l.sender} account.`);const Pe=this._transactionSender.newGroup();"method"in o?Pe.addAppCreateMethodCall({...o,approvalProgram:I,clearStateProgram:M}):Pe.addAppCreate({...o,approvalProgram:I,clearStateProgram:M});const Y=await Pe.count();"method"in l?Pe.addAppDeleteMethodCall({appId:Ge.appId,...l}):Pe.addAppDelete({appId:Ge.appId,...l});const q=await Pe.send({...h,suppressLog:!0}),ae=q.confirmations.at(Y-1),we=q.transactions.at(Y-1),ve=q.transactions.at(-1);pt.getLogger(h==null?void 0:h.suppressLog).warn(`Sent transactions ${we.txID()} to create app with id ${ae.applicationIndex} and ${ve.txID()} to delete app with id ${Ge.appId} from ${o.sender} account.`);const _e={appId:BigInt(ae.applicationIndex),appAddress:oe.getApplicationAddress(ae.applicationIndex),...n,createdMetadata:n,createdRound:BigInt(ae.confirmedRound),updatedRound:BigInt(ae.confirmedRound),deleted:!1};return this.updateAppLookup(o.sender,_e),{operationPerformed:"replace",...q,compiledApproval:v,compiledClear:S,transaction:we,confirmation:ae,return:"method"in o?(ue=q.returns)==null?void 0:ue[0]:void 0,deleteReturn:"method"in l?(We=q.returns)==null?void 0:We.at(-1):void 0,..._e,deleteResult:{transaction:ve,confirmation:q.confirmations.at(-1)}}},G=(c??await this.getCreatorAppsByName(o.sender,f)).apps[n.name];if(!G||G.deleted)return pt.getLogger(h==null?void 0:h.suppressLog).info(`App ${n.name} not found in apps created by ${o.sender}; deploying app with version ${n.version}.`),await F();pt.getLogger(h==null?void 0:h.suppressLog).info(`Existing app ${n.name} found by creator ${o.sender}, with app id ${G.appId} and version ${G.version}.`);const Z=await this._appManager.getById(G.appId),C=Buffer.from(Z.approvalProgram).toString("base64"),D=Buffer.from(Z.clearStateProgram).toString("base64"),V=Buffer.from(I).toString("base64"),Q=Buffer.from(M).toString("base64"),$=V!==C||Q!==D;if(Z.localInts<(((fe=o.schema)==null?void 0:fe.localInts)??0)||Z.globalInts<(((be=o.schema)==null?void 0:be.globalInts)??0)||Z.localByteSlices<(((Le=o.schema)==null?void 0:Le.localByteSlices)??0)||Z.globalByteSlices<(((Ve=o.schema)==null?void 0:Ve.globalByteSlices)??0)){if(pt.getLogger(h==null?void 0:h.suppressLog).warn(`Detected a breaking app schema change in app ${G.appId}:`,{from:{globalInts:Z.globalInts,globalByteSlices:Z.globalByteSlices,localInts:Z.localInts,localByteSlices:Z.localByteSlices},to:o.schema}),i===void 0||i==="fail"||i===Jc.Fail)throw new Error("Schema break detected and onSchemaBreak=OnSchemaBreak.Fail, stopping deployment. If you want to try deleting and recreating the app then re-run with onSchemaBreak=OnSchemaBreak.ReplaceApp");return i==="append"||i===Jc.AppendApp?(pt.getLogger(h==null?void 0:h.suppressLog).info("onSchemaBreak=AppendApp, will attempt to create a new app"),await F()):(G.deletable?pt.getLogger(h==null?void 0:h.suppressLog).info("App is deletable and onSchemaBreak=ReplaceApp, will attempt to create new app and delete old app"):pt.getLogger(h==null?void 0:h.suppressLog).info("App is not deletable but onSchemaBreak=ReplaceApp, will attempt to delete app, delete will most likely fail"),await m(G))}if($){if(pt.getLogger(h==null?void 0:h.suppressLog).info(`Detected a TEAL update in app ${G.appId} for creator ${o.sender}`),s===void 0||s==="fail"||s===qs.Fail)throw new Error("Update detected and onUpdate=Fail, stopping deployment. Try a different onUpdate value to not fail.");if(s==="append"||s===qs.AppendApp)return pt.getLogger(h==null?void 0:h.suppressLog).info("onUpdate=AppendApp, will attempt to create a new app"),await F();if(s==="update"||s===qs.UpdateApp)return G.updatable?pt.getLogger(h==null?void 0:h.suppressLog).info("App is updatable and onUpdate=UpdateApp, updating app..."):pt.getLogger(h==null?void 0:h.suppressLog).warn("App is not updatable but onUpdate=UpdateApp, will attempt to update app, update will most likely fail"),await E(G);if(s==="replace"||s===qs.ReplaceApp)return G.deletable?pt.getLogger(h==null?void 0:h.suppressLog).warn("App is deletable and onUpdate=ReplaceApp, creating new app and deleting old app..."):pt.getLogger(h==null?void 0:h.suppressLog).warn("App is not deletable and onUpdate=ReplaceApp, will attempt to create new app and delete old app, delete will most likely fail"),await m(G)}return pt.getLogger(h==null?void 0:h.suppressLog).debug("No detected changes in app, nothing to do."),{...G,operationPerformed:"nothing"}}updateAppLookup(e,n){const r=this._appLookups.get(e);r?r.apps[n.name]=n:this._appLookups.set(e,{creator:e,apps:{[n.name]:n}})}async getCreatorAppsByName(e,n){const r={};if(!n&&this._appLookups.has(e))return this._appLookups.get(e);if(!this._indexer)throw new Error("Didn't receive an indexer client when this AppManager was created, but received a call to getCreatorApps");const i=(await q_(this._indexer,e)).map(a=>({id:BigInt(a.id),createdAtRound:a["created-at-round"],deleted:a.deleted})).sort((a,l)=>a.createdAtRound-l.createdAtRound);(await Promise.all(i.map(async a=>{const l=await Q_(this._indexer,h=>h.minRound(a.createdAtRound).txType(oe.TransactionType.appl).applicationID(Number(a.id)).address(e).addressRole("sender").notePrefix(Buffer.from(zl).toString("base64"))),c=l.transactions.filter(h=>h["application-transaction"]["application-id"]===0&&h.sender===e)[0],f=l.transactions.filter(h=>h.sender===e).sort((h,v)=>h["confirmed-round"]===v["confirmed-round"]?(v["intra-round-offset"]-h["intra-round-offset"])/10:v["confirmed-round"]-h["confirmed-round"])[0];return c!=null&&c.note?{createdApp:a,appCreationTransaction:c,latestAppUpdateTransaction:f}:null}))).filter(a=>a!==null).forEach(a=>{const{createdApp:l,appCreationTransaction:c,latestAppUpdateTransaction:f}=a,h=v=>{if(!v)return;const S=new TextDecoder().decode(Buffer.from(v)),M=Buffer.from(S,"base64").toString("utf-8");if(M.startsWith(`${zl}:j{`))return JSON.parse(M.substring(zl.length+2))};try{const v=h(c.note),I=h(f.note);v!=null&&v.name&&(r[v.name]={appId:l.id,appAddress:oe.getApplicationAddress(l.id),createdMetadata:v,createdRound:BigInt(c["confirmed-round"]??0),...I??v,updatedRound:BigInt((f==null?void 0:f["confirmed-round"])??0),deleted:l.deleted??!1})}catch(v){pt.logger.warn(`Received error trying to retrieve app with ${l.id} for creator ${e}; failing silently`,v);return}});const o={creator:e,apps:r};return this._appLookups.set(e,o),o}}async function eE(t,e,n){var h,v,I,S,M,F,E,m,x,G,Z,C,D,V,Q,$,Ae,fe,be,Le,Ve,Ge,Pe,Y,q,ae,we,ve,_e,ue,We,rt,at,Be,Me,R,U,X,he,se,ce,xe,re,le,pe;const r=new Kt(e),i=()=>new fr({algod:e,getSigner:()=>ai(t.from),getSuggestedParams:async()=>t.transactionParams?{...t.transactionParams}:await e.getTransactionParams().do(),appManager:r}),s=new Ym(r,new jm(i,new $m(e,i),r),n),o={approvalProgram:t.approvalProgram,clearStateProgram:t.clearStateProgram,sender:Qt(t.from),accountReferences:(v=(h=t.createArgs)==null?void 0:h.accounts)==null?void 0:v.map(_=>typeof _=="string"?_:oe.encodeAddress(_.publicKey)),appReferences:(S=(I=t.createArgs)==null?void 0:I.apps)==null?void 0:S.map(_=>BigInt(_)),assetReferences:(F=(M=t.createArgs)==null?void 0:M.assets)==null?void 0:F.map(_=>BigInt(_)),boxReferences:(x=(m=(E=t.createArgs)==null?void 0:E.boxes)==null?void 0:m.map(ba))==null?void 0:x.map(_=>({appId:BigInt(_.appIndex),name:_.name})),lease:(G=t.createArgs)==null?void 0:G.lease,rekeyTo:(Z=t.createArgs)!=null&&Z.rekeyTo?Qt((C=t.createArgs)==null?void 0:C.rekeyTo):void 0,staticFee:t.fee,maxFee:t.maxFee,extraProgramPages:t.schema.extraPages,onComplete:zm(t.createOnCompleteAction),schema:t.schema},a={approvalProgram:t.approvalProgram,clearStateProgram:t.clearStateProgram,sender:Qt(t.from),accountReferences:(V=(D=t.updateArgs)==null?void 0:D.accounts)==null?void 0:V.map(_=>typeof _=="string"?_:oe.encodeAddress(_.publicKey)),appReferences:($=(Q=t.updateArgs)==null?void 0:Q.apps)==null?void 0:$.map(_=>BigInt(_)),assetReferences:(fe=(Ae=t.updateArgs)==null?void 0:Ae.assets)==null?void 0:fe.map(_=>BigInt(_)),boxReferences:(Ve=(Le=(be=t.updateArgs)==null?void 0:be.boxes)==null?void 0:Le.map(ba))==null?void 0:Ve.map(_=>({appId:BigInt(_.appIndex),name:_.name})),lease:(Ge=t.updateArgs)==null?void 0:Ge.lease,rekeyTo:(Pe=t.updateArgs)!=null&&Pe.rekeyTo?Qt((Y=t.updateArgs)==null?void 0:Y.rekeyTo):void 0,staticFee:t.fee,maxFee:t.maxFee,onComplete:oe.OnApplicationComplete.UpdateApplicationOC},l={sender:Qt(t.from),accountReferences:(ae=(q=t.deleteArgs)==null?void 0:q.accounts)==null?void 0:ae.map(_=>typeof _=="string"?_:oe.encodeAddress(_.publicKey)),appReferences:(ve=(we=t.deleteArgs)==null?void 0:we.apps)==null?void 0:ve.map(_=>BigInt(_)),assetReferences:(ue=(_e=t.deleteArgs)==null?void 0:_e.assets)==null?void 0:ue.map(_=>BigInt(_)),boxReferences:(at=(rt=(We=t.deleteArgs)==null?void 0:We.boxes)==null?void 0:rt.map(ba))==null?void 0:at.map(_=>({appId:BigInt(_.appIndex),name:_.name})),lease:(Be=t.deleteArgs)==null?void 0:Be.lease,rekeyTo:(Me=t.deleteArgs)!=null&&Me.rekeyTo?Qt((R=t.deleteArgs)==null?void 0:R.rekeyTo):void 0,staticFee:t.fee,maxFee:t.maxFee,onComplete:oe.OnApplicationComplete.DeleteApplicationOC},c=new TextEncoder,f=await s.deploy({createParams:(U=t.createArgs)!=null&&U.method?{...o,method:"txnCount"in t.createArgs.method?t.createArgs.method:new oe.ABIMethod(t.createArgs.method),args:(await dc(t.createArgs,t.from)).methodArgs}:{...o,args:"appArgs"in((t==null?void 0:t.createArgs)??{})?(he=(X=t.createArgs)==null?void 0:X.appArgs)==null?void 0:he.map(_=>typeof _=="string"?c.encode(_):_):void 0},updateParams:(se=t.updateArgs)!=null&&se.method?{...a,method:"txnCount"in t.updateArgs.method?t.updateArgs.method:new oe.ABIMethod(t.updateArgs.method),args:(await dc(t.updateArgs,t.from)).methodArgs}:{...a,args:"appArgs"in((t==null?void 0:t.updateArgs)??{})?(xe=(ce=t.updateArgs)==null?void 0:ce.appArgs)==null?void 0:xe.map(_=>typeof _=="string"?c.encode(_):_):void 0},deleteParams:(re=t.deleteArgs)!=null&&re.method?{...l,method:"txnCount"in t.deleteArgs.method?t.deleteArgs.method:new oe.ABIMethod(t.deleteArgs.method),args:(await dc(t.deleteArgs,t.from)).methodArgs}:{...l,args:"appArgs"in((t==null?void 0:t.deleteArgs)??{})?(pe=(le=t.deleteArgs)==null?void 0:le.appArgs)==null?void 0:pe.map(_=>typeof _=="string"?c.encode(_):_):void 0},metadata:t.metadata,deployTimeParams:t.deployTimeParams,onSchemaBreak:t.onSchemaBreak,onUpdate:t.onUpdate,existingDeployments:t.existingDeployments?{creator:t.existingDeployments.creator,apps:Object.fromEntries(Object.entries(t.existingDeployments.apps).map(([_,g])=>[_,{...g,appId:BigInt(g.appId),createdRound:BigInt(g.createdRound),updatedRound:BigInt(g.updatedRound)}]))}:void 0,maxRoundsToWaitForConfirmation:t.maxRoundsToWaitForConfirmation,populateAppCallResources:t.populateAppCallResources,suppressLog:t.suppressLog});return{...f,appId:Number(f.appId),createdRound:Number(f.createdRound),updatedRound:Number(f.updatedRound)}}async function tE(t,e){const n=await new Ym(void 0,void 0,e).getCreatorAppsByName(Qt(t));return{creator:n.creator,apps:Object.fromEntries(Object.entries(n.apps).map(([r,i])=>[r,{...i,appId:Number(i.appId),createdRound:Number(i.createdRound),updatedRound:Number(i.updatedRound)}]))}}function nE(t,e){return Kt.replaceTealTemplateDeployTimeControlParams(t,e)}function i2(t,e){return Kt.replaceTealTemplateParams(t,e)}class rE extends oe.ABIMethod{constructor(e){super(e),this.method=e,this.args=e.args.map(n=>({...n,type:oe.abiTypeIsTransaction(n.type)||oe.abiTypeIsReference(n.type)?n.type:oe.ABIType.from(n.type)})),this.returns={...this.method.returns,type:this.method.returns.type==="void"?"void":oe.ABIType.from(this.method.returns.type)}}toJSON(){return this.method}}function Kc(t,e){return new oe.ABITupleType(t.map(n=>typeof n.type=="string"?e[n.type]?Kc(e[n.type],e):oe.ABIType.from(n.type):Kc(n.type,e)))}function Xm(t,e,n){return Object.fromEntries(e.map(({name:r,type:i},s)=>{const o=t[s];return[r,typeof i=="string"&&!n[i]||!Array.isArray(o)?t[s]:Xm(o,typeof i=="string"?n[i]:i,n)]}))}function Xa(t,e,n){return e.map(({name:r,type:i})=>{const s=t[r];return typeof i=="string"&&!n[i]?s:Xa(s,typeof i=="string"?n[i]:i,n)})}function or(t,e,n){if(e==="AVMBytes"||typeof t!="object")return t;if(e==="AVMString")return Buffer.from(t).toString("utf-8");if(e==="AVMUint64")return oe.ABIType.from("uint64").decode(t);if(n[e]){const r=Kc(n[e],n).decode(t);return Xm(r,n[e],n)}return oe.ABIType.from(e).decode(t)}function s2(t,e,n){if(typeof t=="object"&&t instanceof Uint8Array)return t;if(e==="AVMUint64")return oe.ABIType.from("uint64").encode(t);if(e==="AVMBytes"||e==="AVMString"){if(typeof t=="string")return Buffer.from(t,"utf-8");if(typeof t!="object"||!(t instanceof Uint8Array))throw new Error(`Expected bytes value for ${e}, but got ${t}`);return t}if(n[e]){const r=Kc(n[e],n);if(Array.isArray(t))r.encode(t);else return r.encode(Xa(t,n[e],n))}return oe.ABIType.from(e).encode(t)}function Rn(t,e){let n;if(t.includes("(")){const r=e.methods.find(i=>new oe.ABIMethod(i).getSignature()===t);if(!r)throw new Error(`Unable to find method ${t} in ${e.name} app.`);n=r}else{const r=e.methods.filter(i=>i.name===t);if(r.length===0)throw new Error(`Unable to find method ${t} in ${e.name} app.`);if(r.length>1)throw new Error(`Received a call to method ${t} in contract ${e.name}, but this resolved to multiple methods; please pass in an ABI signature instead: ${e.methods.map(i=>new oe.ABIMethod(i).getSignature()).join(", ")}`);n=r[0]}return new rE(n)}function la(t,e,n){const r="method"in e?e.method:e,i=r.returns.struct??r.returns.type;if(t!=null&&t.decodeError)throw t.decodeError;if(!(i===void 0||i==="void"||(t==null?void 0:t.returnValue)===void 0))return i==="AVMBytes"?t.rawReturnValue:i==="AVMString"?Buffer.from(t.rawReturnValue).toString("utf-8"):i==="AVMUint64"?oe.ABIType.from("uint64").decode(t.rawReturnValue):n[i]?Xm(t.returnValue,n[i],n):t.returnValue}var iE=oe.ABIMethod;function sE(t){const e=Object.values(t.hints).flatMap(l=>Object.entries(l.structs??{})),n=Object.fromEntries(e.map(([l,c])=>{const f=c.elements.map(h=>({name:h[0],type:h[1]}));return[c.name,f]})),r=l=>t.hints[new iE(l).getSignature()],i=(l,c)=>{var f,h;return((f=r(l))==null?void 0:f.call_config)!==void 0?o((h=r(l))==null?void 0:h.call_config,c):[]},s=l=>o(t.bare_call_config,l),o=(l,c)=>{const f=[];return l.close_out&&["ALL",c].includes(l.close_out)&&f.push("CloseOut"),l.delete_application&&["ALL",c].includes(l.delete_application)&&f.push("DeleteApplication"),l.no_op&&["ALL",c].includes(l.no_op)&&f.push("NoOp"),l.opt_in&&["ALL",c].includes(l.opt_in)&&f.push("OptIn"),l.update_application&&["ALL",c].includes(l.update_application)&&f.push("UpdateApplication"),f},a=(l,c)=>{if(c)return c.source==="abi-method"?{source:"method",data:c.data.name}:{source:c.source==="constant"?"literal":c.source==="global-state"?"global":"local",data:Buffer.from(typeof c.data=="number"?oe.ABIType.from("uint64").encode(c.data):c.data).toString("base64"),type:l==="string"?"AVMString":l}};return{arcs:[],name:t.contract.name,desc:t.contract.desc,structs:n,methods:t.contract.methods.map(l=>{var c,f,h,v;return{name:l.name,desc:l.desc,args:l.args.map(I=>{var S,M,F,E,m;return{name:I.name,type:I.type,desc:I.desc,struct:I.name?(F=(M=(S=r(l))==null?void 0:S.structs)==null?void 0:M[I.name])==null?void 0:F.name:void 0,defaultValue:a(I.type,I.name?(m=(E=r(l))==null?void 0:E.default_arguments)==null?void 0:m[I.name]:void 0)}}),returns:{type:l.returns.type,desc:l.returns.desc,struct:(h=(f=(c=r(l))==null?void 0:c.structs)==null?void 0:f.output)==null?void 0:h.name},events:[],readonly:(v=r(l))==null?void 0:v.read_only,actions:{create:i(l,"CREATE"),call:i(l,"CALL")}}}),state:{schema:{global:{ints:t.state.global.num_uints,bytes:t.state.global.num_byte_slices},local:{ints:t.state.local.num_uints,bytes:t.state.local.num_byte_slices}},keys:{global:Object.fromEntries(Object.entries(t.schema.global.declared).map(l=>[l[0],{key:Buffer.from(l[1].key,"utf-8").toString("base64"),keyType:"AVMString",valueType:l[1].type==="uint64"?"AVMUint64":"AVMBytes",desc:l[1].descr}])),local:Object.fromEntries(Object.entries(t.schema.local.declared).map(l=>[l[0],{key:Buffer.from(l[1].key,"utf-8").toString("base64"),keyType:"AVMString",valueType:l[1].type==="uint64"?"AVMUint64":"AVMBytes",desc:l[1].descr}])),box:{}},maps:{global:{},local:{},box:{}}},source:t.source,bareActions:{create:s("CREATE"),call:s("CALL")},byteCode:void 0,compilerInfo:void 0,events:void 0,networks:void 0,scratchVariables:void 0,sourceInfo:void 0,templateVariables:void 0}}const oE=/transaction ([A-Z0-9]+): logic eval error: (.*). Details: .*pc=([0-9]+).*/;class Hc extends Error{static parseLogicError(e){const n=e.message,r=oE.exec(n);if(!(r===null||r.length<=3))return{txId:r[1],msg:r[2],desc:n,pc:parseInt(r[3]?r[3]:"0"),traces:e.traces}}constructor(e,n,r){super(),this.lines=5,this.teal_line=0,this.led=e,this.program=n;const i=r(e.pc);if(this.teal_line=i===void 0?0:i,this.message=`${this.led.msg}. at:${i}. ${this.led.desc}`,this.teal_line>0){const s=this.teal_line>this.lines?this.teal_line-this.lines:0,o=n.length>this.teal_line+this.lines?this.teal_line+this.lines:n.length,a=n.slice(s,o);a[a.length/2]+=" <--- Error",this.stack=a.join(`
`)}}}var o2=oe.ABIMethod,aE=oe.AtomicTransactionComposer,a2=oe.getApplicationAddress,lE=oe.Indexer,sr=oe.OnApplicationComplete,qc=oe.SourceMap;function l2(t,e,n,r){if(!t.includes(n))return;const i=e.bare_call_config[r];return i&&i!=="NEVER"?!0:Object.values(e.hints).some(s=>{const o=s.call_config[r];return!!o&&o!=="NEVER"})}const th=38,c2=32;function cE(t){const e=[...t],n=e.length;e.shift();let r,i;for(;e.length>0;){const s=e.shift();if(s===th||s===c2){const o=s===th,a=e.shift();for(let l=0;l<a;l++)if(o){const c=e.shift();e.splice(0,c)}else for(;e.shift()&128;);if(o?r=n-e.length-1:i=n-e.length-1,e[0]!==th&&e[0]!==c2)break}}return Math.max(r??0,i??0)}class bn{constructor(e){this._appId=e.appId,this._appAddress=oe.getApplicationAddress(this._appId),this._appSpec=bn.normaliseAppSpec(e.appSpec),this._appName=e.appName??this._appSpec.name,this._algorand=e.algorand,this._defaultSender=e.defaultSender,this._defaultSigner=e.defaultSigner,this._approvalSourceMap=e.approvalSourceMap,this._clearSourceMap=e.clearSourceMap,this._localStateMethods=n=>this.getStateMethods(()=>this.getLocalState(n),()=>this._appSpec.state.keys.local,()=>this._appSpec.state.maps.local),this._globalStateMethods=this.getStateMethods(()=>this.getGlobalState(),()=>this._appSpec.state.keys.global,()=>this._appSpec.state.maps.global),this._boxStateMethods=this.getBoxMethods(),this._paramsMethods={...this.getMethodCallParamsMethods(),bare:this.getBareParamsMethods()},this._createTransactionsMethods={...this.getMethodCallCreateTransactionMethods(),bare:this.getBareCreateTransactionMethods()},this._sendMethods={...this.getMethodCallSendMethods(),bare:this.getBareSendMethods()}}clone(e){return new bn({appId:this._appId,appSpec:this._appSpec,algorand:this._algorand,appName:this._appName,defaultSender:this._defaultSender,defaultSigner:this._defaultSigner,approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap,...e})}static async fromCreatorAndName(e){const n=bn.normaliseAppSpec(e.appSpec),i=(e.appLookupCache??await e.algorand.appDeployer.getCreatorAppsByName(e.creatorAddress,e.ignoreCache)).apps[e.appName??n.name];if(!i)throw new Error(`App not found for creator ${e.creatorAddress} and name ${e.appName??n.name}`);return new bn({...e,algorand:e.algorand,appId:i.appId})}static async fromNetwork(e){const n=await e.algorand.client.network(),r=bn.normaliseAppSpec(e.appSpec),i=[n.genesisHash];n.isLocalNet&&i.push("localnet"),n.isTestNet&&i.push("testnet"),n.isMainNet&&i.push("mainnet");const o=Object.keys(r.networks??{}).findIndex(l=>i.includes(l));if(o===-1)throw new Error(`No app ID found for network ${Gr(i)} in the app spec`);const a=BigInt(r.networks[o].appID);return new bn({...e,appId:a,appSpec:r})}static normaliseAppSpec(e){const n=typeof e=="string"?JSON.parse(e):e;return"hints"in n?sE(n):n}get appId(){return this._appId}get appAddress(){return this._appAddress}get appName(){return this._appName}get appSpec(){return this._appSpec}get algorand(){return this._algorand}get params(){return this._paramsMethods}get createTransaction(){return this._createTransactionsMethods}get send(){return this._sendMethods}get state(){return{local:this._localStateMethods,global:this._globalStateMethods,box:this._boxStateMethods}}async fundAppAccount(e){return this.send.fundAppAccount(e)}async getGlobalState(){return await this._algorand.app.getGlobalState(this.appId)}async getLocalState(e){return await this._algorand.app.getLocalState(this.appId,e)}async getBoxNames(){return await this._algorand.app.getBoxNames(this.appId)}async getBoxValue(e){return await this._algorand.app.getBoxValue(this.appId,e)}async getBoxValueFromABIType(e,n){return await this._algorand.app.getBoxValueFromABIType({appId:this.appId,boxName:e,type:n})}async getBoxValues(e){const n=(await this.getBoxNames()).filter(e??(i=>!0)),r=await this._algorand.app.getBoxValues(this.appId,n.map(i=>i.nameRaw));return n.map((i,s)=>({name:i,value:r[s]}))}async getBoxValuesFromABIType(e,n){const r=(await this.getBoxNames()).filter(n??(s=>!0)),i=await this._algorand.app.getBoxValuesFromABIType({appId:this.appId,boxNames:r.map(s=>s.nameRaw),type:e});return r.map((s,o)=>({name:s,value:i[o]}))}async exposeLogicError(e,n){var s,o;const r=(o=(s=this._appSpec.sourceInfo)==null?void 0:s[n?"clear":"approval"])==null?void 0:o.pcOffsetMethod;let i;if(r==="cblocks"){const a=await this._algorand.app.getById(this.appId);i=n?a.clearStateProgram:a.approvalProgram}return bn.exposeLogicError(e,this._appSpec,{isClearStateProgram:n,approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap,program:i})}exportSourceMaps(){if(!this._approvalSourceMap||!this._clearSourceMap)throw new Error("Unable to export source maps; they haven't been loaded into this client - you need to call create, update, or deploy first");return{approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap}}importSourceMaps(e){this._approvalSourceMap=new qc(e.approvalSourceMap),this._clearSourceMap=new qc(e.clearSourceMap)}getABIMethod(e){return Rn(e,this._appSpec)}async processMethodCallReturn(e,n){const r=await e;return{...r,return:la(r.return,n,this._appSpec.structs)}}async compile(e){const n=await bn.compile(this._appSpec,this._algorand.app,e);return n.compiledApproval&&(this._approvalSourceMap=n.compiledApproval.sourceMap),n.compiledClear&&(this._clearSourceMap=n.compiledClear.sourceMap),n}static exposeLogicError(e,n,r){var M,F,E,m;const{isClearStateProgram:i,approvalSourceMap:s,clearSourceMap:o,program:a}=r,l=i?o:s,c=Hc.parseLogicError(e);if(c===void 0||(c==null?void 0:c.pc)===void 0)return e;let f=c==null?void 0:c.pc;const h=i?(M=n.sourceInfo)==null?void 0:M.clear:(F=n.sourceInfo)==null?void 0:F.approval;let v=0;if((h==null?void 0:h.pcOffsetMethod)==="cblocks"){if(a===void 0)throw new Error("Program bytes are required to calculate the ARC56 cblocks PC offset");v=cE(a),f=c.pc-v}const I=h==null?void 0:h.sourceInfo.find(x=>x.pc.includes(f)),S=I==null?void 0:I.errorMessage;if(n.source){let x=G=>{var Z;return(Z=l==null?void 0:l.getLineForPc)==null?void 0:Z.call(l,G)};l===void 0&&(x=G=>{var C;const Z=(C=h==null?void 0:h.sourceInfo.find(D=>D.pc.includes(G-v)))==null?void 0:C.teal;if(Z!==void 0)return Z-1}),e=new Hc(c,J.Buffer.from(i?n.source.clear:n.source.approval,"base64").toString().split(`
`),x)}if(S){const x=((E=Gr(e).match(new RegExp("(?<=app=)\\d+")))==null?void 0:E[0])||"",G=(m=Gr(e).match(new RegExp("(?<=transaction )\\S+(?=:)")))==null?void 0:m[0],Z=new Error(`Runtime error when executing ${n.name} (appId: ${x}) in transaction ${G}: ${S}`);return Z.cause=e,Z}return e}static async compile(e,n,r){var h,v;const{deployTimeParams:i,updatable:s,deletable:o}=r??{};if(!e.source){if(!((h=e.byteCode)!=null&&h.approval)||!((v=e.byteCode)!=null&&v.clear))throw new Error(`Attempt to compile app ${e.name} without source or byteCode`);return{approvalProgram:J.Buffer.from(e.byteCode.approval,"base64"),clearStateProgram:J.Buffer.from(e.byteCode.clear,"base64")}}const a=J.Buffer.from(e.source.approval,"base64").toString("utf-8"),l=await n.compileTealTemplate(a,i,{updatable:s,deletable:o}),c=J.Buffer.from(e.source.clear,"base64").toString("utf-8"),f=await n.compileTealTemplate(c,i);return pt.debug&&await pt.events.emitAsync(ji.AppCompiled,{sources:[{compiledTeal:l,appName:e.name,fileName:"approval"},{compiledTeal:f,appName:e.name,fileName:"clear"}]}),{approvalProgram:l.compiledBase64ToBytes,compiledApproval:l,clearStateProgram:f.compiledBase64ToBytes,compiledClear:f}}async getABIArgsWithDefaultValues(e,n,r){const i=Rn(e,this._appSpec);return await Promise.all((n==null?void 0:n.map(async(s,o)=>{var c,f,h;const a=i.args[o];if(s!==void 0)return a.struct&&typeof s=="object"&&!Array.isArray(s)?Xa(s,this._appSpec.structs[a.struct],this._appSpec.structs):s;const l=a.defaultValue;if(l)switch(l.source){case"literal":return or(J.Buffer.from(l.data,"base64"),((c=i.method.args[o].defaultValue)==null?void 0:c.type)??i.method.args[o].type,this._appSpec.structs);case"method":{const v=this.getABIMethod(l.data),I=await this.send.call({method:l.data,args:v.args.map(()=>{}),sender:r});if(I.return===void 0)throw new Error("Default value method call did not return a value");return typeof I.return=="object"&&!(I.return instanceof Uint8Array)&&!Array.isArray(I.return)?Xa(I.return,this._appSpec.structs[v.returns.struct],this._appSpec.structs):I.return}case"local":case"global":{const v=l.source==="global"?await this.getGlobalState():await this.getLocalState(r),I=Object.values(v).find(S=>S.keyBase64===l.data);if(!I)throw new Error(`Preparing default value for argument ${a.name??`arg${o+1}`} resulted in the failure: The key '${l.data}' could not be found in ${l.source} storage`);return"valueRaw"in I?or(I.valueRaw,((f=i.method.args[o].defaultValue)==null?void 0:f.type)??i.method.args[o].type,this._appSpec.structs):I.value}case"box":{const v=await this.getBoxValue(J.Buffer.from(l.data,"base64"));return or(v,((h=i.method.args[o].defaultValue)==null?void 0:h.type)??i.method.args[o].type,this._appSpec.structs)}}if(!oe.abiTypeIsTransaction(a.type))throw new Error(`No value provided for required argument ${a.name??`arg${o+1}`} in call to method ${i.name}`)}))??[])}getBareParamsMethods(){return{update:async e=>this.getBareParams({...e,...await this.compile(e)},sr.UpdateApplicationOC),optIn:e=>this.getBareParams(e,sr.OptInOC),delete:e=>this.getBareParams(e,sr.DeleteApplicationOC),clearState:e=>this.getBareParams(e,sr.ClearStateOC),closeOut:e=>this.getBareParams(e,sr.CloseOutOC),call:e=>this.getBareParams(e,(e==null?void 0:e.onComplete)??sr.NoOpOC)}}getBareCreateTransactionMethods(){return{update:async e=>this._algorand.createTransaction.appUpdate(await this.params.bare.update(e)),optIn:e=>this._algorand.createTransaction.appCall(this.params.bare.optIn(e)),delete:e=>this._algorand.createTransaction.appDelete(this.params.bare.delete(e)),clearState:e=>this._algorand.createTransaction.appCall(this.params.bare.clearState(e)),closeOut:e=>this._algorand.createTransaction.appCall(this.params.bare.closeOut(e)),call:e=>this._algorand.createTransaction.appCall(this.params.bare.call(e))}}getBareSendMethods(){return{update:async e=>{const n=await this.compile(e);return{...await this.handleCallErrors(async()=>this._algorand.send.appUpdate(await this.params.bare.update(e))),...n}},optIn:e=>this.handleCallErrors(()=>this._algorand.send.appCall(this.params.bare.optIn(e))),delete:e=>this.handleCallErrors(()=>this._algorand.send.appDelete(this.params.bare.delete(e))),clearState:e=>this.handleCallErrors(()=>this._algorand.send.appCall(this.params.bare.clearState(e))),closeOut:e=>this.handleCallErrors(()=>this._algorand.send.appCall(this.params.bare.closeOut(e))),call:e=>this.handleCallErrors(()=>this._algorand.send.appCall(this.params.bare.call(e)))}}getMethodCallParamsMethods(){return{fundAppAccount:e=>({...e,sender:this.getSender(e.sender),signer:this.getSigner(e.sender,e.signer),receiver:this.appAddress}),update:async e=>await this.getABIParams({...e,...await this.compile(e)},sr.UpdateApplicationOC),optIn:async e=>await this.getABIParams(e,sr.OptInOC),delete:async e=>await this.getABIParams(e,sr.DeleteApplicationOC),closeOut:async e=>await this.getABIParams(e,sr.CloseOutOC),call:async e=>await this.getABIParams(e,e.onComplete??sr.NoOpOC)}}getMethodCallSendMethods(){return{fundAppAccount:e=>this._algorand.send.payment(this.params.fundAppAccount(e)),update:async e=>{const n=await this.compile(e);return{...await this.handleCallErrors(async()=>this.processMethodCallReturn(this._algorand.send.appUpdateMethodCall(await this.params.update({...e})),Rn(e.method,this._appSpec))),...n}},optIn:e=>this.handleCallErrors(async()=>this.processMethodCallReturn(this._algorand.send.appCallMethodCall(await this.params.optIn(e)),Rn(e.method,this._appSpec))),delete:e=>this.handleCallErrors(async()=>this.processMethodCallReturn(this._algorand.send.appDeleteMethodCall(await this.params.delete(e)),Rn(e.method,this._appSpec))),closeOut:e=>this.handleCallErrors(async()=>this.processMethodCallReturn(this._algorand.send.appCallMethodCall(await this.params.closeOut(e)),Rn(e.method,this._appSpec))),call:async e=>{var n,r;if((e.onComplete===sr.NoOpOC||!e.onComplete)&&Rn(e.method,this._appSpec).method.readonly){const i=await this._algorand.newGroup().addAppCallMethodCall(await this.params.call(e)).simulate({allowUnnamedResources:e.populateAppCallResources??!0,skipSignatures:!0});return this.processMethodCallReturn({...i,transaction:i.transactions.at(-1),confirmation:i.confirmations.at(-1),return:((n=i.returns)==null?void 0:n.length)??!1?(r=i.returns)==null?void 0:r.at(-1):void 0},Rn(e.method,this._appSpec))}return this.handleCallErrors(async()=>this.processMethodCallReturn(this._algorand.send.appCallMethodCall(await this.params.call(e)),Rn(e.method,this._appSpec)))}}}getMethodCallCreateTransactionMethods(){return{fundAppAccount:e=>this._algorand.createTransaction.payment(this.params.fundAppAccount(e)),update:async e=>this._algorand.createTransaction.appUpdateMethodCall(await this.params.update(e)),optIn:async e=>this._algorand.createTransaction.appCallMethodCall(await this.params.optIn(e)),delete:async e=>this._algorand.createTransaction.appDeleteMethodCall(await this.params.delete(e)),closeOut:async e=>this._algorand.createTransaction.appCallMethodCall(await this.params.closeOut(e)),call:async e=>this._algorand.createTransaction.appCallMethodCall(await this.params.call(e))}}getSender(e){if(!e&&!this._defaultSender)throw new Error(`No sender provided and no default sender present in app factory for call to app ${this._appName}`);return e??this._defaultSender}getSigner(e,n){return n??(!e||e===this._defaultSender?this._defaultSigner:void 0)}getBareParams(e,n){return{...e,appId:this._appId,sender:this.getSender(e==null?void 0:e.sender),signer:this.getSigner(e==null?void 0:e.sender,e==null?void 0:e.signer),onComplete:n}}async getABIParams(e,n){const r=this.getSender(e.sender),i=Rn(e.method,this._appSpec),s=await this.getABIArgsWithDefaultValues(e.method,e.args,r);return{...e,appId:this._appId,sender:r,signer:this.getSigner(e.sender,e.signer),method:i,onComplete:n,args:s}}async handleCallErrors(e){try{return await e()}catch(n){throw await this.exposeLogicError(n)}}getBoxMethods(){const e=this,n={getAll:async()=>Object.fromEntries(await Promise.all(Object.keys(e._appSpec.state.keys.box).map(async r=>[r,await n.getValue(r)]))),getValue:async r=>{const i=e._appSpec.state.keys.box[r],s=await e.getBoxValue(J.Buffer.from(i.key,"base64"));return or(s,i.valueType,e._appSpec.structs)},getMapValue:async(r,i)=>{const s=e._appSpec.state.maps.box[r],o=J.Buffer.from(s.prefix??"","base64"),a=J.Buffer.concat([o,s2(i,s.keyType,e._appSpec.structs)]),l=J.Buffer.from(a).toString("base64"),c=await e.getBoxValue(J.Buffer.from(l,"base64"));return or(c,s.valueType,e._appSpec.structs)},getMap:async r=>{const i=e._appSpec.state.maps.box[r],s=J.Buffer.from(i.prefix??"","base64"),o=await e.getBoxNames();return new Map(await Promise.all(o.filter(a=>Xy(a.nameRaw,s)).map(async a=>{const l=J.Buffer.concat([s,a.nameRaw]),c=J.Buffer.from(l).toString("base64");return[or(a.nameRaw.slice(s.length),i.keyType,e._appSpec.structs),or(await e.getBoxValue(J.Buffer.from(c,"base64")),i.valueType,e._appSpec.structs)]})))}};return n}getStateMethods(e,n,r){const i=this,s={getAll:async()=>{const o=await e();return Object.fromEntries(await Promise.all(Object.keys(n()).map(async a=>[a,await s.getValue(a,o)])))},getValue:async(o,a)=>{const l=Object.values(a??await e()),c=n()[o],f=l.find(h=>h.keyBase64===c.key);return f&&"valueRaw"in f?or(f.valueRaw,c.valueType,i._appSpec.structs):f==null?void 0:f.value},getMapValue:async(o,a,l)=>{const c=Object.values(l??await e()),f=r()[o],h=J.Buffer.from(f.prefix??"","base64"),v=J.Buffer.concat([h,s2(a,f.keyType,i._appSpec.structs)]),I=J.Buffer.from(v).toString("base64"),S=c.find(M=>M.keyBase64===I);return S&&"valueRaw"in S?or(S.valueRaw,f.valueType,i._appSpec.structs):S==null?void 0:S.value},getMap:async o=>{const a=Object.values(await e()),l=r()[o],c=J.Buffer.from(l.prefix??"","base64");return new Map(a.filter(f=>Xy(f.keyRaw,c)).map(f=>{const h=f.keyRaw.slice(c.length);return[or(h,l.keyType,this._appSpec.structs),or("valueRaw"in f?f.valueRaw:f.value,l.valueType,this._appSpec.structs)]}))}};return s}}class uE{constructor(e,n){const{app:r,sender:i,params:s,deployTimeParams:o,...a}=e;if(this.algod=n,this.appSpec=typeof r=="string"?JSON.parse(r):r,this._appName=a.name??this.appSpec.contract.name,this.deployTimeParams=o,a.resolveBy==="id"){if(a.id<0)throw new Error(`Attempt to create application client with invalid app id of ${a.id}`);this._appId=a.id}else if(this._appId=0,this._creator=a.creatorAddress,a.findExistingUsing instanceof lE)this.indexer=a.findExistingUsing;else{if(a.findExistingUsing.creator!==this._creator)throw new Error(`Attempt to create application client with invalid existingDeployments against a different creator (${a.findExistingUsing.creator}) instead of expected creator ${this._creator}`);this.existingDeployments=a.findExistingUsing}this._appAddress=oe.getApplicationAddress(this._appId),this.sender=i,this.params=s}async compile(e){const{deployTimeParams:n,updatable:r,deletable:i}=e??{},s=J.Buffer.from(this.appSpec.source.approval,"base64").toString("utf-8"),o=nE(i2(s,n??this.deployTimeParams),{updatable:r,deletable:i}),a=await r2(o,this.algod);this._approvalSourceMap=a==null?void 0:a.sourceMap;const l=J.Buffer.from(this.appSpec.source.clear,"base64").toString("utf-8"),c=i2(l,n??this.deployTimeParams),f=await r2(c,this.algod);return this._clearSourceMap=f==null?void 0:f.sourceMap,pt.debug&&await pt.events.emitAsync(ji.AppCompiled,{sources:[{compiledTeal:a,appName:this._appName,fileName:"approval"},{compiledTeal:f,appName:this._appName,fileName:"clear"}]}),{approvalCompiled:a,clearCompiled:f}}exportSourceMaps(){if(!this._approvalSourceMap||!this._clearSourceMap)throw new Error("Unable to export source maps; they haven't been loaded into this client - you need to call create, update, or deploy first");return{approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap}}importSourceMaps(e){this._approvalSourceMap=new qc(e.approvalSourceMap),this._clearSourceMap=new qc(e.clearSourceMap)}async deploy(e){const{schema:n,sender:r,version:i,allowUpdate:s,allowDelete:o,sendParams:a,createArgs:l,createOnCompleteAction:c,updateArgs:f,deleteArgs:h,...v}=e??{};if(this._appId!==0)throw new Error(`Attempt to deploy app which already has an app id of ${this._appId}`);const I=r??this.sender;if(!I)throw new Error("No sender provided, unable to deploy app");const S=I??this.sender;if(!this._creator)throw new Error("Attempt to `deploy` a contract without specifying `resolveBy: 'creatorAndName'` in the constructor");if(this._creator!==Qt(S))throw new Error(`Attempt to deploy contract with a sender address (${Qt(S)}) that differs from the given creator address for this application client: ${this._creator}`);const M=J.Buffer.from(this.appSpec.source.approval,"base64").toString("utf-8"),F={deployTimeParams:v.deployTimeParams,updatable:s!==void 0?s:l2(M,this.appSpec,va,"update_application"),deletable:o!==void 0?o:l2(M,this.appSpec,xa,"delete_application")},{approvalCompiled:E,clearCompiled:m}=await this.compile(F);try{await this.getAppReference();const x=await eE({from:I,approvalProgram:E.compiledBase64ToBytes,clearStateProgram:m.compiledBase64ToBytes,metadata:{name:this._appName,version:i??"1.0",updatable:F.updatable,deletable:F.deletable},schema:{globalByteSlices:this.appSpec.state.global.num_byte_slices,globalInts:this.appSpec.state.global.num_uints,localByteSlices:this.appSpec.state.local.num_byte_slices,localInts:this.appSpec.state.local.num_uints,...n},transactionParams:this.params,...a??{},existingDeployments:this.existingDeployments,createArgs:await this.getCallArgs(l,I),createOnCompleteAction:c,updateArgs:await this.getCallArgs(f,I),deleteArgs:await this.getCallArgs(h,I),...v},this.algod,this.indexer);if(x.operationPerformed==="nothing")return x;if(!this.existingDeployments)throw new Error("Expected existingDeployments to be present");const{transaction:G,confirmation:Z,operationPerformed:C,...D}=x;return this.existingDeployments={creator:this.existingDeployments.creator,apps:{...this.existingDeployments.apps,[this._appName]:D}},{...x,compiledApproval:E,compiledClear:m}}catch(x){throw this.exposeLogicError(x)}}async create(e){const{sender:n,note:r,sendParams:i,deployTimeParams:s,updatable:o,deletable:a,onCompleteAction:l,schema:c,...f}=e??{};if(this._appId!==0)throw new Error(`Attempt to create app which already has an app id of ${this._appId}`);const h=n??this.sender;if(!h)throw new Error("No sender provided, unable to create app");const{approvalCompiled:v,clearCompiled:I}=await this.compile(e);try{const S=await z_({from:h,approvalProgram:v.compiledBase64ToBytes,clearStateProgram:I.compiledBase64ToBytes,schema:{globalByteSlices:this.appSpec.state.global.num_byte_slices,globalInts:this.appSpec.state.global.num_uints,localByteSlices:this.appSpec.state.local.num_byte_slices,localInts:this.appSpec.state.local.num_uints,...c},onCompleteAction:l,args:await this.getCallArgs(f,h),note:r,transactionParams:this.params,...i??{}},this.algod);return S.confirmation&&(this._appId=S.confirmation.applicationIndex,this._appAddress=a2(this._appId)),{...S,compiledApproval:v,compiledClear:I}}catch(S){throw await this.exposeLogicError(S)}}async update(e){const{sender:n,note:r,sendParams:i,deployTimeParams:s,updatable:o,deletable:a,...l}=e??{};if(this._appId===0)throw new Error("Attempt to update app which doesn't have an app id defined");const c=n??this.sender;if(!c)throw new Error("No sender provided, unable to create app");const{approvalCompiled:f,clearCompiled:h}=await this.compile(e);try{return{...await Y_({appId:this._appId,from:c,approvalProgram:f.compiledBase64ToBytes,clearStateProgram:h.compiledBase64ToBytes,args:await this.getCallArgs(l,c),note:r,transactionParams:this.params,...i??{}},this.algod),compiledApproval:f,compiledClear:h}}catch(v){throw await this.exposeLogicError(v)}}async call(e){var n,r,i,s,o;if(e!=null&&e.method&&!((n=e.sendParams)!=null&&n.skipSending)&&!((r=e.sendParams)!=null&&r.atc)&&this.appSpec.hints[this.getABIMethodSignature(this.getABIMethod(e.method))].read_only){const a=new aE;await this.callOfType({...e,sendParams:{...e.sendParams,atc:a}},"no_op");const l=await a.simulate(this.algod);if(l.simulateResponse.txnGroups.some(f=>f.failureMessage))throw new Error((i=l.simulateResponse.txnGroups.find(f=>f.failureMessage))==null?void 0:i.failureMessage);const c=a.buildGroup();return{transaction:c[c.length-1].txn,confirmation:(s=l.simulateResponse.txnGroups[0].txnResults.at(-1))==null?void 0:s.txnResult,confirmations:l.simulateResponse.txnGroups[0].txnResults.map(f=>f.txnResult),transactions:c.map(f=>f.txn),return:((o=l.methodResults)==null?void 0:o.length)??!1?l.methodResults[l.methodResults.length-1]:void 0}}return await this.callOfType(e,"no_op")}async optIn(e){return await this.callOfType(e,"opt_in")}async closeOut(e){return await this.callOfType(e,"close_out")}async clearState(e){return await this.callOfType(e,"clear_state")}async delete(e){return await this.callOfType(e,"delete_application")}async callOfType(e={},n){const{sender:r,note:i,sendParams:s,...o}=e,a=r??this.sender;if(!a)throw new Error("No sender provided, unable to call app");const l=await this.getAppReference();if(l.appId===0)throw new Error(`Attempt to call an app that can't be found '${this._appName}' for creator '${this._creator}'.`);try{return await X_({appId:l.appId,callType:n,from:a,args:await this.getCallArgs(o,a),note:i,transactionParams:this.params,...s??{}},this.algod)}catch(c){throw this.exposeLogicError(c)}}async fundAppAccount(e){const{amount:n,sender:r,note:i,sendParams:s}="microAlgos"in e?{amount:e}:e;if(!r&&!this.sender)throw new Error("No sender provided, unable to call app");const o=await this.getAppReference();return Xb(this.algod,r??this.sender,s??{},{receiver:o.appAddress,sender:Qt(r??this.sender),amount:n,note:jb(i)},a=>a.payment,a=>a.payment,this.params)}async getGlobalState(){const e=await this.getAppReference();if(e.appId===0)throw new Error("No app has been created yet, unable to get global state");return J_(e.appId,this.algod)}async getLocalState(e){const n=await this.getAppReference();if(n.appId===0)throw new Error("No app has been created yet, unable to get global state");return K_(n.appId,e,this.algod)}async getBoxNames(){const e=await this.getAppReference();if(e.appId===0)throw new Error("No app has been created yet, unable to get global state");return await H_(e.appId,this.algod)}async getBoxValue(e){const n=await this.getAppReference();if(n.appId===0)throw new Error("No app has been created yet, unable to get global state");return await t2(n.appId,e,this.algod)}async getBoxValueFromABIType(e,n){const r=await this.getAppReference();if(r.appId===0)throw new Error("No app has been created yet, unable to get global state");return await n2({appId:r.appId,boxName:e,type:n},this.algod)}async getBoxValues(e){const n=await this.getAppReference();if(n.appId===0)throw new Error("No app has been created yet, unable to get global state");const r=await this.getBoxNames();return await Promise.all(r.filter(e??(i=>!0)).map(async i=>({name:i,value:await t2(n.appId,i,this.algod)})))}async getBoxValuesFromABIType(e,n){const r=await this.getAppReference();if(r.appId===0)throw new Error("No app has been created yet, unable to get global state");const i=await this.getBoxNames();return await Promise.all(i.filter(n??(s=>!0)).map(async s=>({name:s,value:await n2({appId:r.appId,boxName:s,type:e},this.algod)})))}async getCallArgs(e,n){if(e)if(e.method){const r=this.getABIMethodParams(e.method);if(!r)throw new Error(`Attempt to call ABI method ${e.method}, but it wasn't found`);const i=this.getABIMethodSignature(r);return{...e,method:r,methodArgs:await Promise.all(e.methodArgs.map(async(s,o)=>{var c,f,h,v;if(s!==void 0)return s;const a=r.args[o].name,l=a&&((h=(f=(c=this.appSpec.hints)==null?void 0:c[i])==null?void 0:f.default_arguments)==null?void 0:h[a]);if(!l)throw new Error(`Argument at position ${o} with the name ${a} is undefined and does not have a default value strategy`);switch(l.source){case"constant":return l.data;case"abi-method":{const I=l.data;return(v=(await this.callOfType({method:this.getABIMethodSignature(I),methodArgs:I.args.map(()=>{}),sender:n},"no_op")).return)==null?void 0:v.returnValue}case"local-state":case"global-state":{const I=l.source==="global-state"?await this.getGlobalState():await this.getLocalState(n),S=l.data;if(S in I)return I[S].value;throw new Error(`Preparing default value for argument at position ${o} with the name ${a} resulted in the failure: The key '${S}' could not be found in ${l.source}`)}}}))}}else return e}getABIMethodParams(e){if(!e.includes("(")){const n=this.appSpec.contract.methods.filter(r=>r.name===e);if(n.length>1)throw new Error(`Received a call to method ${e} in contract ${this._appName}, but this resolved to multiple methods; please pass in an ABI signature instead: ${n.map(this.getABIMethodSignature).join(", ")}`);return n[0]}return this.appSpec.contract.methods.find(n=>this.getABIMethodSignature(n)===e)}getABIMethod(e){const n=this.getABIMethodParams(e);return n?new o2(n):void 0}async getAppReference(){if(!this.existingDeployments&&this._creator&&(this.existingDeployments=await tE(this._creator,this.indexer)),this.existingDeployments&&this._appId===0){const e=this.existingDeployments.apps[this._appName];return e||{appId:0,appAddress:a2(0)}}return{appId:this._appId,appAddress:this._appAddress}}exposeLogicError(e,n){if(!n&&this._approvalSourceMap==null||n&&this._clearSourceMap==null)return e;const r=Hc.parseLogicError(e);return r!==void 0?new Hc(r,J.Buffer.from(n?this.appSpec.source.clear:this.appSpec.source.approval,"base64").toString().split(`
`),i=>(n?this._clearSourceMap:this._approvalSourceMap).getLineForPc(i)):e}getABIMethodSignature(e){return"getSignature"in e?e.getSignature():new o2(e).getSignature()}}function dE(t,e){return new uE(t,e)}const u2="DISPENSER";class fE{get params(){return this._params}get signingAccounts(){return this._signingAccounts}get addr(){return this._addr}get signer(){return this._signer}constructor(e,n){this._params=e,this._signingAccounts=n,this._addr=oe.multisigAddress(e),this._signer=oe.makeMultiSigAccountTransactionSigner(e,n.map(r=>r.sk))}sign(e){let n="from"in e?void 0:e;for(const r of this._signingAccounts)n?n=oe.appendSignMultisigTransaction(n,this._params,r.sk).blob:n=oe.signMultisigTransaction(e,this._params,r.sk).blob;return n}}class Xp{get addr(){return this._sender}get sk(){return this._account.sk}get signer(){return this._signer}get sender(){return{addr:this._sender,sk:this._account.sk}}constructor(e,n){this._account=e,this._sender=n??e.addr,this._signer=oe.makeBasicAccountTransactionSigner(e)}}class rn{get microAlgos(){return this.amountInMicroAlgo}get microAlgo(){return this.amountInMicroAlgo}get algos(){return oe.microalgosToAlgos(Number(this.amountInMicroAlgo))}get algo(){return oe.microalgosToAlgos(Number(this.amountInMicroAlgo))}constructor(e){this.amountInMicroAlgo="microAlgos"in e?BigInt(e.microAlgos):"microAlgo"in e?BigInt(e.microAlgo):"algos"in e?BigInt(oe.algosToMicroalgos(Number(e.algos))):BigInt(oe.algosToMicroalgos(Number(e.algo)))}toString(){return`${this.microAlgo.toLocaleString("en-US")} µALGO`}valueOf(){return Number(this.microAlgo)}static Algos(e){return new rn({algos:e})}static Algo(e){return new rn({algos:e})}static MicroAlgos(e){return new rn({microAlgos:e})}static MicroAlgo(e){return new rn({microAlgos:e})}}class hE extends Error{constructor(e,n){super(e),this.response=n,this.name="URLTokenBaseHTTPError",this.response=n}}class es{constructor(e,n,r,i={}){this.defaultHeaders=i;const s=n.endsWith("/")?n:`${n}/`,o=new URL(s);if(typeof r<"u"&&(o.port=r.toString()),o.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=o,this.tokenHeader=e}getURL(e,n){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const i=new URL(r,this.baseURL);if(n)for(const[s,o]of Object.entries(n))i.searchParams.set(s,o);return i.toString()}static formatFetchResponseHeaders(e){const n={};return e.forEach((r,i)=>{n[r]=i}),n}static async checkHttpError(e){if(e.ok)return;let n=null,r=null;try{n=new Uint8Array(await e.arrayBuffer());const s=JSON.parse(J.Buffer.from(n).toString());s.message&&(r=s.message)}catch{}let i=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(i+=`: ${r}`),new hE(i,{body:n!==null?n:new Uint8Array,status:e.status,headers:es.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:es.formatFetchResponseHeaders(e.headers)}}async get(e,n,r={}){const i={...this.tokenHeader,...this.defaultHeaders,...r},s=await fetch(this.getURL(e,n),{mode:"cors",headers:i});return es.formatFetchResponse(s)}async post(e,n,r,i={}){const s={...this.tokenHeader,...this.defaultHeaders,...i},o=await fetch(this.getURL(e,r),{method:"POST",mode:"cors",body:n,headers:s});return es.formatFetchResponse(o)}async delete(e,n,r,i={}){const s={...this.tokenHeader,...this.defaultHeaders,...i},o=await fetch(this.getURL(e,r),{method:"DELETE",mode:"cors",body:n,headers:s});return es.formatFetchResponse(o)}}class Kn extends es{async callWithRetry(e){let n,r=1;do try{n=await e()}catch(i){if(r>=Kn.MAX_TRIES||!(Kn.RETRY_ERROR_CODES.includes(i.code)||Kn.RETRY_STATUS_CODES.includes(Number(i.status))||"response"in i&&Kn.RETRY_STATUS_CODES.includes(Number(i.response.status))))throw i;const s=r==1?0:Math.min(1e3*Math.pow(2,r-1),Kn.MAX_BACKOFF_MS);s>0&&await new Promise(o=>setTimeout(o,s)),pt.logger.warn(`algosdk request failed ${r} times. Retrying in ${s}ms: ${i}`)}while(!n&&++r<=Kn.MAX_TRIES);return n}async get(e,n,r={}){return await this.callWithRetry(()=>super.get(e,n,r))}async post(e,n,r,i={}){return await this.callWithRetry(()=>super.post(e,n,r,i))}async delete(e,n,r,i={}){return await this.callWithRetry(()=>super.delete(e,n,r,i))}}Kn.MAX_TRIES=5;Kn.MAX_BACKOFF_MS=1e4;Kn.RETRY_STATUS_CODES=[408,413,429,500,502,503,504];Kn.RETRY_ERROR_CODES=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN","EPROTO"];var d2=oe.SourceMap,Zs=oe.OnApplicationComplete;class pE{constructor(e){this.createTransaction={bare:{create:async n=>this._algorand.createTransaction.appCreate(await this.params.bare.create(n))},create:async n=>this._algorand.createTransaction.appCreateMethodCall(await this.params.create(n))},this.send={bare:{create:async n=>{const r=(n==null?void 0:n.updatable)??this._updatable,i=(n==null?void 0:n.deletable)??this._deletable,s=(n==null?void 0:n.deployTimeParams)??this._deployTimeParams,o=await this.compile({deployTimeParams:s,updatable:r,deletable:i}),a=await this.handleCallErrors(async()=>({...await this._algorand.send.appCreate(await this.params.bare.create({...n,updatable:r,deletable:i,deployTimeParams:s})),return:void 0}));return{appClient:this.getAppClientById({appId:a.appId}),result:{...a,...o}}}},create:async n=>{const r=(n==null?void 0:n.updatable)??this._updatable,i=(n==null?void 0:n.deletable)??this._deletable,s=(n==null?void 0:n.deployTimeParams)??this._deployTimeParams,o=await this.compile({deployTimeParams:s,updatable:r,deletable:i}),a=await this.handleCallErrors(async()=>this.parseMethodCallReturn(this._algorand.send.appCreateMethodCall(await this.params.create({...n,updatable:r,deletable:i,deployTimeParams:s})),Rn(n.method,this._appSpec)));return{appClient:this.getAppClientById({appId:a.appId}),result:{...a,...o}}}},this._appSpec=bn.normaliseAppSpec(e.appSpec),this._appName=e.appName??this._appSpec.name,this._algorand=e.algorand,this._version=e.version??"1.0",this._defaultSender=e.defaultSender,this._defaultSigner=e.defaultSigner,this._deployTimeParams=e.deployTimeParams,this._updatable=e.updatable,this._deletable=e.deletable,this._paramsMethods=this.getParamsMethods()}get appName(){return this._appName}get appSpec(){return this._appSpec}get algorand(){return this._algorand}get params(){return this._paramsMethods}async deploy(e){const n=e.updatable??this._updatable??this.getDeployTimeControl("updatable"),r=e.deletable??this._deletable??this.getDeployTimeControl("deletable"),i=e.deployTimeParams??this._deployTimeParams,s=await this.compile({deployTimeParams:i,updatable:n,deletable:r}),o=await this._algorand.appDeployer.deploy({...e,createParams:await(e.createParams&&"method"in e.createParams?this.params.create({...e.createParams,updatable:n,deletable:r,deployTimeParams:i}):this.params.bare.create({...e.createParams,updatable:n,deletable:r,deployTimeParams:i})),updateParams:e.updateParams&&"method"in e.updateParams?this.params.deployUpdate(e.updateParams):this.params.bare.deployUpdate(e.updateParams),deleteParams:e.deleteParams&&"method"in e.deleteParams?this.params.deployDelete(e.deleteParams):this.params.bare.deployDelete(e.deleteParams),metadata:{name:e.appName??this._appName,version:this._version,updatable:n,deletable:r}}),a=this.getAppClientById({appId:o.appId,appName:e.appName}),l={...o,...s};return{appClient:a,result:{...l,return:"return"in l?l.operationPerformed==="update"?e.updateParams&&"method"in e.updateParams?la(l.return,Rn(e.updateParams.method,this._appSpec),this._appSpec.structs):void 0:e.createParams&&"method"in e.createParams?la(l.return,Rn(e.createParams.method,this._appSpec),this._appSpec.structs):void 0:void 0,deleteReturn:"deleteReturn"in l&&e.deleteParams&&"method"in e.deleteParams?la(l.deleteReturn,Rn(e.deleteParams.method,this._appSpec),this._appSpec.structs):void 0}}}getAppClientById(e){return new bn({...e,algorand:this._algorand,appSpec:this._appSpec,appName:e.appName??this._appName,defaultSender:e.defaultSender??this._defaultSender,defaultSigner:e.defaultSigner??this._defaultSigner,approvalSourceMap:e.approvalSourceMap??this._approvalSourceMap,clearSourceMap:e.clearSourceMap??this._clearSourceMap})}getAppClientByCreatorAndName(e){return bn.fromCreatorAndName({...e,algorand:this._algorand,appSpec:this._appSpec,appName:e.appName??this._appName,defaultSender:e.defaultSender??this._defaultSender,approvalSourceMap:e.approvalSourceMap??this._approvalSourceMap,clearSourceMap:e.clearSourceMap??this._clearSourceMap})}exposeLogicError(e,n){return bn.exposeLogicError(e,this._appSpec,{isClearStateProgram:n,approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap})}exportSourceMaps(){if(!this._approvalSourceMap||!this._clearSourceMap)throw new Error("Unable to export source maps; they haven't been loaded into this client - you need to call create, update, or deploy first");return{approvalSourceMap:this._approvalSourceMap,clearSourceMap:this._clearSourceMap}}importSourceMaps(e){this._approvalSourceMap=new d2(e.approvalSourceMap),this._clearSourceMap=new d2(e.clearSourceMap)}getDeployTimeControl(e){var r;const n=(r=this._appSpec.source)!=null&&r.approval?Buffer.from(this._appSpec.source.approval,"base64").toString("utf-8"):void 0;if(!(!n||!n.includes(e==="updatable"?va:xa)))return this._appSpec.bareActions.call.includes(e==="updatable"?"UpdateApplication":"DeleteApplication")||Object.values(this._appSpec.methods).some(i=>i.actions.call.includes(e==="updatable"?"UpdateApplication":"DeleteApplication"))}getParamsMethods(){return{create:async e=>{const n=await this.compile({...e,deployTimeParams:e.deployTimeParams??this._deployTimeParams});return this.getABIParams({...e,deployTimeParams:e.deployTimeParams??this._deployTimeParams,schema:e.schema??{globalByteSlices:this._appSpec.state.schema.global.bytes,globalInts:this._appSpec.state.schema.global.ints,localByteSlices:this._appSpec.state.schema.local.bytes,localInts:this._appSpec.state.schema.local.ints},approvalProgram:n.approvalProgram,clearStateProgram:n.clearStateProgram},e.onComplete??Zs.NoOpOC)},deployUpdate:e=>this.getABIParams(e,Zs.UpdateApplicationOC),deployDelete:e=>this.getABIParams(e,Zs.DeleteApplicationOC),bare:{create:async e=>this.getBareParams({...e,deployTimeParams:(e==null?void 0:e.deployTimeParams)??this._deployTimeParams,schema:(e==null?void 0:e.schema)??{globalByteSlices:this._appSpec.state.schema.global.bytes,globalInts:this._appSpec.state.schema.global.ints,localByteSlices:this._appSpec.state.schema.local.bytes,localInts:this._appSpec.state.schema.local.ints},...await this.compile({...e,deployTimeParams:(e==null?void 0:e.deployTimeParams)??this._deployTimeParams})},(e==null?void 0:e.onComplete)??Zs.NoOpOC),deployUpdate:e=>this.getBareParams(e,Zs.UpdateApplicationOC),deployDelete:e=>this.getBareParams(e,Zs.DeleteApplicationOC)}}}async handleCallErrors(e){try{return await e()}catch(n){throw this.exposeLogicError(n)}}async compile(e){const n=await bn.compile(this._appSpec,this._algorand.app,e);return n.compiledApproval&&(this._approvalSourceMap=n.compiledApproval.sourceMap),n.compiledClear&&(this._clearSourceMap=n.compiledClear.sourceMap),n}getBareParams(e,n){return{...e,sender:this.getSender(e==null?void 0:e.sender),signer:this.getSigner(e==null?void 0:e.sender,e==null?void 0:e.signer),onComplete:n}}getABIParams(e,n){return{...e,sender:this.getSender(e.sender),signer:this.getSigner(e.sender,e.signer),method:Rn(e.method,this._appSpec),args:this.getCreateABIArgsWithDefaultValues(e.method,e.args),onComplete:n}}getCreateABIArgsWithDefaultValues(e,n){const r=Rn(e,this._appSpec);return n==null?void 0:n.map((i,s)=>{const o=r.args[s];if(i!==void 0)return o.struct&&typeof i=="object"&&!Array.isArray(i)?Xa(i,this._appSpec.structs[o.struct],this._appSpec.structs):i;const a=o.defaultValue;if(a)switch(a.source){case"literal":return or(Buffer.from(a.data,"base64"),r.method.args[s].type,this._appSpec.structs);default:throw new Error(`Can't provide default value for ${a.source} for a contract creation call`)}throw new Error(`No value provided for required argument ${o.name??`arg${s+1}`} in call to method ${r.name}`)})}getSender(e){if(!e&&!this._defaultSender)throw new Error(`No sender provided and no default sender present in app client for call to app ${this._appName}`);return e??this._defaultSender}getSigner(e,n){return n??(!e||e===this._defaultSender?this._defaultSigner:void 0)}async parseMethodCallReturn(e,n){const r=await e;return{...r,return:la(r.return,n,this._appSpec.structs)}}}const gE="https://api.dispenser.algorandfoundation.tools",mE=15,f2="ALGOKIT_DISPENSER_ACCESS_TOKEN";var co;(function(t){t[t.Algo=0]="Algo"})(co||(co={}));const nh={[co.Algo]:{assetId:0,decimals:6,description:"Algo"}};class h2{constructor(e){var r;const n=(r=process==null?void 0:process.env)==null?void 0:r[f2];if(e!=null&&e.authToken)this._authToken=e.authToken;else if(n)this._authToken=n;else throw new Error(`Can't init AlgoKit TestNet Dispenser API client because neither environment variable ${f2} or the authToken were provided.`);this._requestTimeout=(e==null?void 0:e.requestTimeout)||mE}get authToken(){return this._authToken}get requestTimeout(){return this._requestTimeout}async processDispenserRequest(e,n,r=null,i="POST"){const s={Authorization:`Bearer ${e}`},o={method:i,headers:s,signal:AbortSignal.timeout(this.requestTimeout*1e3)};r&&(o.body=Gr(r));const a=await fetch(`${gE}/${n}`,o);if(!a.ok){let l=`Error processing dispenser API request: ${a.status}`,c=null;try{c=await a.json()}catch{}throw c&&c.code?l=c.code:a.status===400&&(l=(await a.json()).message),new Error(l)}return a}async fund(e,n){const i=await(await this.processDispenserRequest(this.authToken,`fund/${nh[co.Algo].assetId}`,{receiver:e,amount:Number(n),assetID:nh[co.Algo].assetId},"POST")).json();return{txId:i.txID,amount:i.amount}}async refund(e){await this.processDispenserRequest(this.authToken,"refund",{refundTransactionID:e},"POST")}async getLimit(){return{amount:(await(await this.processDispenserRequest(this.authToken,`fund/${nh[co.Algo].assetId}/limit`,null,"GET")).json()).amount}}}var Ht={},yE=oe.Kmd,wE=oe.Indexer,vE=oe.IntDecoding;class Lt{constructor(e,n){const r="algod"in e?e:{algod:Lt.getAlgodClient(e.algodConfig),indexer:e.indexerConfig?Lt.getIndexerClient(e.indexerConfig):void 0,kmd:e.kmdConfig?Lt.getKmdClient(e.kmdConfig):void 0};this._algod=r.algod,this._indexer=r.indexer,this._kmd=r.kmd,this._algorand=n}get algod(){return this._algod}get indexer(){if(!this._indexer)throw new Error("Attempt to use Indexer client in AlgoKit instance with no Indexer configured");return this._indexer}get indexerIfPresent(){return this._indexer}get kmd(){if(!this._kmd)throw new Error("Attempt to use Kmd client in AlgoKit instance with no Kmd configured");return this._kmd}async network(){this._getNetworkPromise||(this._getNetworkPromise=this._algod.getTransactionParams().do());const e=await this._getNetworkPromise;return{isTestNet:["testnet-v1.0","testnet-v1","testnet"].includes(e.genesisID),isMainNet:["mainnet-v1.0","mainnet-v1","mainnet"].includes(e.genesisID),isLocalNet:Lt.genesisIdIsLocalNet(e.genesisID),genesisId:e.genesisID,genesisHash:e.genesisHash}}static genesisIdIsLocalNet(e){return Yb(e)}async isLocalNet(){return(await this.network()).isLocalNet}async isTestNet(){return(await this.network()).isTestNet}async isMainNet(){return(await this.network()).isMainNet}getTestNetDispenser(e){return new h2(e)}getTestNetDispenserFromEnvironment(e){return new h2(e?{...e,authToken:""}:void 0)}getAppFactory(e){if(!this._algorand)throw new Error("Attempt to get app factory from a ClientManager without an Algorand client");return new pE({...e,algorand:this._algorand})}getAppClientByCreatorAndName(e){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return bn.fromCreatorAndName({...e,algorand:this._algorand})}getAppClientById(e){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return new bn({...e,algorand:this._algorand})}async getAppClientByNetwork(e){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return bn.fromNetwork({...e,algorand:this._algorand})}async getTypedAppClientByCreatorAndName(e,n){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return e.fromCreatorAndName({...n,algorand:this._algorand})}getTypedAppClientById(e,n){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return new e({...n,algorand:this._algorand})}getTypedAppClientByNetwork(e,n){if(!this._algorand)throw new Error("Attempt to get app client from a ClientManager without an Algorand client");return e.fromNetwork({...n,algorand:this._algorand})}getTypedAppFactory(e,n){if(!this._algorand)throw new Error("Attempt to get app factory from a ClientManager without an Algorand client");return new e({...n,algorand:this._algorand})}static getConfigFromEnvironmentOrLocalNet(){if(!process||!Ht)throw new Error("Attempt to get default client configuration from a non Node.js context; supply the config instead");const[e,n,r]=Ht.ALGOD_SERVER?[Lt.getAlgodConfigFromEnvironment(),Ht.INDEXER_SERVER?Lt.getIndexerConfigFromEnvironment():void 0,!Ht.ALGOD_SERVER.includes("mainnet")&&!Ht.ALGOD_SERVER.includes("testnet")?{...Lt.getAlgodConfigFromEnvironment(),port:(Ht==null?void 0:Ht.KMD_PORT)??"4002"}:void 0]:[Lt.getDefaultLocalNetConfig("algod"),Lt.getDefaultLocalNetConfig("indexer"),Lt.getDefaultLocalNetConfig("kmd")];return{algodConfig:e,indexerConfig:n,kmdConfig:r}}static getAlgodConfigFromEnvironment(){if(!process||!Ht)throw new Error("Attempt to get default algod configuration from a non Node.js context; supply the config instead");if(!Ht.ALGOD_SERVER)throw new Error("Attempt to get default algod configuration without specifying ALGOD_SERVER in the environment variables");return{server:Ht.ALGOD_SERVER,port:Ht.ALGOD_PORT,token:Ht.ALGOD_TOKEN}}static getIndexerConfigFromEnvironment(){if(!process||!Ht)throw new Error("Attempt to get default indexer configuration from a non Node.js context; supply the config instead");if(!Ht.INDEXER_SERVER)throw new Error("Attempt to get default indexer configuration without specifying INDEXER_SERVER in the environment variables");return{server:Ht.INDEXER_SERVER,port:Ht.INDEXER_PORT,token:Ht.INDEXER_TOKEN}}static getAlgoNodeConfig(e,n){return{server:`https://${e}-${n==="algod"?"api":"idx"}.algonode.cloud/`,port:443}}static getDefaultLocalNetConfig(e){return{server:"http://localhost",port:e==="algod"?4001:e==="indexer"?8980:e==="kmd"?4002:e,token:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}}static getAlgodClient(e){const{token:n,server:r,port:i}=e,s=typeof n=="string"?{"X-Algo-API-Token":n}:n??{},o=new Kn(s,r,i);return new oe.Algodv2(o,r)}static getAlgodClientFromEnvironment(){return Lt.getAlgodClient(Lt.getAlgodConfigFromEnvironment())}static getIndexerClient(e,n){const{token:r,server:i,port:s}=e,o=typeof r=="string"?{"X-Indexer-API-Token":r}:r??{},a=new Kn(o,i,s),l=new wE(a);return l.setIntEncoding(n??vE.MIXED),l}static getIndexerClientFromEnvironment(e){return Lt.getIndexerClient(Lt.getIndexerConfigFromEnvironment(),e)}static getKmdClient(e){const{token:n,server:r,port:i}=e;return new yE(n,r,i)}static getKmdClientFromEnvironment(){return Lt.getKmdClient({...Lt.getAlgodConfigFromEnvironment(),port:(Ht==null?void 0:Ht.KMD_PORT)??"4002"})}}class xE{constructor(e){this._clientManager=e;try{this._kmd=e.kmd}catch{this._kmd=void 0}}async kmd(){if(this._kmd===void 0){if(await this._clientManager.isLocalNet()){const{kmdConfig:e}=Lt.getConfigFromEnvironmentOrLocalNet();if(e)return this._kmd=Lt.getKmdClient(e),this._kmd}this._kmd=null}if(!this._kmd)throw new Error("Attempt to use Kmd client in AlgoKit instance with no Kmd configured");return this._kmd}async getWalletAccount(e,n,r){const i=await this.kmd(),o=(await i.listWallets()).wallets.filter(M=>M.name===e);if(o.length===0)return;const a=o[0].id,l=(await i.initWalletHandle(a,"")).wallet_handle_token,c=(await i.listKeys(l)).addresses;let f=0;if(n)for(f=0;f<c.length;f++){const M=c[f],F=await this._clientManager.algod.accountInformation(M).do();if(n(F))break}if(f>=c.length)return;const h=(await i.exportKey(l,"",c[f])).private_key,v=oe.secretKeyToMnemonic(h),I=oe.mnemonicToSecretKey(v),S=new Xp(I,r);return{account:S,addr:S.addr,signer:S.signer}}async getOrCreateWalletAccount(e,n){const r=await this.getWalletAccount(e);if(r)return r;const i=await this.kmd(),s=(await i.createWallet(e,"")).wallet.id,o=(await i.initWalletHandle(s,"")).wallet_handle_token;await i.generateKey(o);const a=await this.getWalletAccount(e);pt.logger.info(`LocalNet account '${e}' doesn't yet exist; created account ${a.addr} with keys stored in KMD and funding with ${(n==null?void 0:n.algo)??1e3} ALGO`);const l=await this.getLocalNetDispenserAccount();return await new fr({algod:this._clientManager.algod,getSigner:()=>l.signer,getSuggestedParams:()=>this._clientManager.algod.getTransactionParams().do()}).addPayment({amount:n??rn.Algo(1e3),receiver:a.addr,sender:l.addr}).send(),a}async getLocalNetDispenserAccount(){if(!await this._clientManager.isLocalNet())throw new Error("Can't get LocalNet dispenser account from non LocalNet network");const e=await this.getWalletAccount("unencrypted-default-wallet",n=>n.status!=="Offline"&&n.amount>1e9);if(!e)throw new Error("Error retrieving LocalNet dispenser account; couldn't find the default account in KMD");return e}}var ta={},bE=oe.LogicSigAccount,AE=oe.modelsv2.Account;const IE=T_(function(t){return"signer"in t?t.signer:"lsig"in t?oe.makeLogicSigAccountTransactionSigner(t):oe.makeBasicAccountTransactionSigner(t)});class CE{constructor(e){this._accounts={},this._clientManager=e,this._kmdAccountManager=new xE(e)}_getComposer(e){return new fr({algod:this._clientManager.algod,getSigner:this.getSigner.bind(this),getSuggestedParams:e??(()=>this._clientManager.algod.getTransactionParams().do())})}get kmd(){return this._kmdAccountManager}setDefaultSigner(e){return this._defaultSigner="signer"in e?e.signer:e,this}signerAccount(e){const n={addr:"addr"in e?e.addr:e.address(),signer:IE(e)};return this._accounts[n.addr]=n,{...n,account:e}}setSignerFromAccount(e){return this.signerAccount(e),this}setSigner(e,n){return this._accounts[e]={addr:e,signer:n},this}setSigners(e,n=!0){this._accounts=n?{...this._accounts,...e._accounts}:{...e._accounts,...this._accounts}}getSigner(e){var r;const n=((r=this._accounts[e])==null?void 0:r.signer)??this._defaultSigner;if(!n)throw new Error(`No signer found for address ${e}`);return n}getAccount(e){const n=this._accounts[e];if(!n)throw new Error(`No signer found for address ${e}`);return n}async getInformation(e){const{round:n,lastHeartbeat:r=void 0,lastProposed:i=void 0,...s}=AE.from_obj_for_encoding(await this._clientManager.algod.accountInformation(typeof e=="string"?e:e.addr).do());return{...s,balance:rn.MicroAlgo(Number(s.amount)),amountWithoutPendingRewards:rn.MicroAlgo(Number(s.amountWithoutPendingRewards)),minBalance:rn.MicroAlgo(Number(s.minBalance)),pendingRewards:rn.MicroAlgo(Number(s.pendingRewards)),rewards:rn.MicroAlgo(Number(s.rewards)),validAsOfRound:BigInt(n),totalAppsOptedIn:Number(s.totalAppsOptedIn),totalAssetsOptedIn:Number(s.totalAssetsOptedIn),totalCreatedApps:Number(s.totalCreatedApps),totalCreatedAssets:Number(s.totalCreatedAssets),appsTotalExtraPages:s.appsTotalExtraPages!==void 0?Number(s.appsTotalExtraPages):void 0,rewardBase:s.rewardBase!==void 0?Number(s.rewardBase):void 0,totalBoxBytes:s.totalBoxBytes!==void 0?Number(s.totalBoxBytes):void 0,totalBoxes:s.totalBoxes!==void 0?Number(s.totalBoxes):void 0,lastHeartbeatRound:r!==void 0?BigInt(r):void 0,lastProposedRound:i!==void 0?BigInt(i):void 0}}fromMnemonic(e,n){const r=oe.mnemonicToSecretKey(e);return this.signerAccount(new Xp(r,n))}rekeyed(e,n){return this.signerAccount({addr:e,signer:n.signer})}async fromEnvironment(e,n){if(!process||!ta)throw new Error("Attempt to get account with private key from a non Node.js context; this is not supported!");const r=ta[`${e.toUpperCase()}_MNEMONIC`],i=ta[`${e.toUpperCase()}_SENDER`];if(r){const s=oe.mnemonicToSecretKey(r);return this.signerAccount(new Xp(s,i))}if(await this._clientManager.isLocalNet()){const s=await this._kmdAccountManager.getOrCreateWalletAccount(e,n);return this.signerAccount(s.account)}throw new Error(`Missing environment variable ${e.toUpperCase()}_MNEMONIC when looking for account ${e}`)}async fromKmd(e,n,r){const i=await this._kmdAccountManager.getWalletAccount(e,n,r);if(!i)throw new Error(`Unable to find KMD account ${e}${n?" with predicate":""}`);return this.signerAccount(i.account)}multisig(e,n){return this.signerAccount(new fE(e,n))}logicsig(e,n){return this.signerAccount(new bE(e,n))}random(){return this.signerAccount(oe.generateAccount())}async dispenserFromEnvironment(){if(!process||!ta)throw new Error("Attempt to get dispenser from environment from a non Node.js context; this is not supported!");return ta[`${u2.toUpperCase()}_MNEMONIC`]?await this.fromEnvironment(u2):await this.localNetDispenser()}async localNetDispenser(){const e=await this._kmdAccountManager.getLocalNetDispenserAccount();return this.signerAccount(e.account)}async rekeyAccount(e,n,r){const i=await this._getComposer().addPayment({...r,sender:typeof e=="string"?e:e.addr,receiver:typeof e=="string"?e:e.addr,amount:rn.MicroAlgo(0),rekeyTo:typeof n=="string"?n:n.addr}).send(r);return typeof n!="string"&&this.rekeyed(typeof e=="string"?e:e.addr,n),pt.getLogger(r==null?void 0:r.suppressLog).info(`Rekeyed ${e} to ${n} via transaction ${i.txIds.at(-1)}`),{...i,transaction:i.transactions.at(-1),confirmation:i.confirmations.at(-1)}}async _getEnsureFundedAmount(e,n,r){const i=await this.getInformation(e),s=i.balance.microAlgo-i.minBalance.microAlgo,o=B_(n.microAlgo,s,(r==null?void 0:r.microAlgo)??0n);return o===null?void 0:rn.MicroAlgo(o)}async ensureFunded(e,n,r,i){const s=typeof e=="string"?e:e.addr,o=await this._getEnsureFundedAmount(s,r,i==null?void 0:i.minFundingIncrement);if(!o)return;const a=await this._getComposer().addPayment({...i,sender:typeof n=="string"?n:n.addr,receiver:s,amount:o}).send(i);return{...a,transaction:a.transactions[0],confirmation:a.confirmations[0],transactionId:a.txIds[0],amountFunded:o}}async ensureFundedFromEnvironment(e,n,r){const i=typeof e=="string"?e:e.addr,s=await this.dispenserFromEnvironment(),o=await this._getEnsureFundedAmount(i,n,r==null?void 0:r.minFundingIncrement);if(!o)return;const a=await this._getComposer().addPayment({...r,sender:s.addr,receiver:i,amount:o}).send(r);return{...a,transaction:a.transactions[0],confirmation:a.confirmations[0],transactionId:a.txIds[0],amountFunded:o}}async ensureFundedFromTestNetDispenserApi(e,n,r,i){if(!await this._clientManager.isTestNet())throw new Error("Attempt to fund using TestNet dispenser API on non TestNet network.");const s=typeof e=="string"?e:e.addr,o=await this._getEnsureFundedAmount(s,r,i==null?void 0:i.minFundingIncrement);if(!o)return;const a=await n.fund(s,o.microAlgo);return{amountFunded:rn.MicroAlgo(a.amount),transactionId:a.txId}}}class Ai{constructor(e){this._cachedSuggestedParamsTimeout=3e3,this._defaultValidityWindow=void 0,this._clientManager=new Lt(e,this),this._accountManager=new CE(this._clientManager),this._appManager=new Kt(this._clientManager.algod),this._assetManager=new $m(this._clientManager.algod,()=>this.newGroup()),this._transactionSender=new jm(()=>this.newGroup(),this._assetManager,this._appManager),this._transactionCreator=new Gb(()=>this.newGroup()),this._appDeployer=new Ym(this._appManager,this._transactionSender,this._clientManager.indexerIfPresent)}setDefaultValidityWindow(e){return this._defaultValidityWindow=e,this}setDefaultSigner(e){return this._accountManager.setDefaultSigner(e),this}setSignerFromAccount(e){return this._accountManager.setSignerFromAccount(e),this}setSigner(e,n){return this._accountManager.setSigner(e,n),this}setSuggestedParamsCache(e,n){return this._cachedSuggestedParams=e,this._cachedSuggestedParamsExpiry=n??new Date(+new Date+this._cachedSuggestedParamsTimeout),this}setSuggestedParamsCacheTimeout(e){return this._cachedSuggestedParamsTimeout=e,this}async getSuggestedParams(){return this._cachedSuggestedParams&&(!this._cachedSuggestedParamsExpiry||this._cachedSuggestedParamsExpiry>new Date)?{...this._cachedSuggestedParams}:(this._cachedSuggestedParams=await this._clientManager.algod.getTransactionParams().do(),this._cachedSuggestedParamsExpiry=new Date(new Date().getTime()+this._cachedSuggestedParamsTimeout),{...this._cachedSuggestedParams})}get client(){return this._clientManager}get account(){return this._accountManager}get asset(){return this._assetManager}get app(){return this._appManager}get appDeployer(){return this._appDeployer}newGroup(){return new fr({algod:this.client.algod,getSigner:e=>this.account.getSigner(e),getSuggestedParams:()=>this.getSuggestedParams(),defaultValidityWindow:this._defaultValidityWindow,appManager:this._appManager})}get send(){return this._transactionSender}get createTransaction(){return this._transactionCreator}static defaultLocalNet(){return new Ai({algodConfig:Lt.getDefaultLocalNetConfig("algod"),indexerConfig:Lt.getDefaultLocalNetConfig("indexer"),kmdConfig:Lt.getDefaultLocalNetConfig("kmd")})}static testNet(){return new Ai({algodConfig:Lt.getAlgoNodeConfig("testnet","algod"),indexerConfig:Lt.getAlgoNodeConfig("testnet","indexer"),kmdConfig:void 0})}static mainNet(){return new Ai({algodConfig:Lt.getAlgoNodeConfig("mainnet","algod"),indexerConfig:Lt.getAlgoNodeConfig("mainnet","indexer"),kmdConfig:void 0})}static fromClients(e){return new Ai(e)}static fromEnvironment(){return new Ai(Lt.getConfigFromEnvironmentOrLocalNet())}static fromConfig(e){return new Ai(e)}}Number.prototype.microAlgos=function(){return rn.MicroAlgo(this)};Number.prototype.algos=function(){return rn.Algo(this)};Number.prototype.microAlgo=function(){return rn.MicroAlgo(this)};Number.prototype.algo=function(){return rn.Algo(this)};BigInt.prototype.microAlgo=function(){return rn.MicroAlgo(this)};BigInt.prototype.algo=function(){return rn.Algo(this)};const Hb="https://testnet-idx.algonode.cloud",qb="a".repeat(64),Qb=443,_E={hints:{"createApplication()void":{call_config:{no_op:"CREATE"}},"arc59_optRouterIn(uint64)void":{call_config:{no_op:"CALL"}},"arc59_getOrCreateInbox(address)address":{call_config:{no_op:"CALL"}},"arc59_getSendAssetInfo(address,uint64)(uint64,uint64,bool,bool,uint64,uint64)":{call_config:{no_op:"CALL"}},"arc59_sendAsset(axfer,address,uint64)address":{call_config:{no_op:"CALL"}},"arc59_claim(uint64)void":{call_config:{no_op:"CALL"}},"arc59_reject(uint64)void":{call_config:{no_op:"CALL"}},"arc59_getInbox(address)address":{call_config:{no_op:"CALL"}},"arc59_claimAlgo()void":{call_config:{no_op:"CALL"}}},bare_call_config:{no_op:"NEVER",opt_in:"NEVER",close_out:"NEVER",update_application:"NEVER",delete_application:"NEVER"},schema:{local:{declared:{},reserved:{}},global:{declared:{},reserved:{}}},state:{global:{num_byte_slices:0,num_uints:0},local:{num_byte_slices:0,num_uints:0}},source:{approval:"I3ByYWdtYSB2ZXJzaW9uIDEwCgovLyBUaGlzIFRFQUwgd2FzIGdlbmVyYXRlZCBieSBURUFMU2NyaXB0IHYwLjkwLjQKLy8gaHR0cHM6Ly9naXRodWIuY29tL2FsZ29yYW5kZm91bmRhdGlvbi9URUFMU2NyaXB0CgovLyBUaGlzIGNvbnRyYWN0IGlzIGNvbXBsaWFudCB3aXRoIGFuZC9vciBpbXBsZW1lbnRzIHRoZSBmb2xsb3dpbmcgQVJDczogWyBBUkM0IF0KCi8vIFRoZSBmb2xsb3dpbmcgdGVuIGxpbmVzIG9mIFRFQUwgaGFuZGxlIGluaXRpYWwgcHJvZ3JhbSBmbG93Ci8vIFRoaXMgcGF0dGVybiBpcyB1c2VkIHRvIG1ha2UgaXQgZWFzeSBmb3IgYW55b25lIHRvIHBhcnNlIHRoZSBzdGFydCBvZiB0aGUgcHJvZ3JhbSBhbmQgZGV0ZXJtaW5lIGlmIGEgc3BlY2lmaWMgYWN0aW9uIGlzIGFsbG93ZWQKLy8gSGVyZSwgYWN0aW9uIHJlZmVycyB0byB0aGUgT25Db21wbGV0ZSBpbiBjb21iaW5hdGlvbiB3aXRoIHdoZXRoZXIgdGhlIGFwcCBpcyBiZWluZyBjcmVhdGVkIG9yIGNhbGxlZAovLyBFdmVyeSBwb3NzaWJsZSBhY3Rpb24gZm9yIHRoaXMgY29udHJhY3QgaXMgcmVwcmVzZW50ZWQgaW4gdGhlIHN3aXRjaCBzdGF0ZW1lbnQKLy8gSWYgdGhlIGFjdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQgaW4gdGhlIGNvbnRyYWN0LCBpdHMgcmVzcGVjdGl2ZSBicmFuY2ggd2lsbCBiZSAiKk5PVF9JTVBMRU1FTlRFRCIgd2hpY2gganVzdCBjb250YWlucyAiZXJyIgp0eG4gQXBwbGljYXRpb25JRAohCmludCA2CioKdHhuIE9uQ29tcGxldGlvbgorCnN3aXRjaCAqY2FsbF9Ob09wICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRCAqTk9UX0lNUExFTUVOVEVEICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRCAqY3JlYXRlX05vT3AgKk5PVF9JTVBMRU1FTlRFRCAqTk9UX0lNUExFTUVOVEVEICpOT1RfSU1QTEVNRU5URUQgKk5PVF9JTVBMRU1FTlRFRCAqTk9UX0lNUExFTUVOVEVECgoqTk9UX0lNUExFTUVOVEVEOgoJZXJyCgovLyBjcmVhdGVBcHBsaWNhdGlvbigpdm9pZAoqYWJpX3JvdXRlX2NyZWF0ZUFwcGxpY2F0aW9uOgoJLy8gZXhlY3V0ZSBjcmVhdGVBcHBsaWNhdGlvbigpdm9pZAoJY2FsbHN1YiBjcmVhdGVBcHBsaWNhdGlvbgoJaW50IDEKCXJldHVybgoKLy8gY3JlYXRlQXBwbGljYXRpb24oKTogdm9pZAovLwovLyBEZXBsb3kgQVJDNTkgY29udHJhY3QKY3JlYXRlQXBwbGljYXRpb246Cglwcm90byAwIDAKCXJldHN1YgoKLy8gYXJjNTlfb3B0Um91dGVySW4odWludDY0KXZvaWQKKmFiaV9yb3V0ZV9hcmM1OV9vcHRSb3V0ZXJJbjoKCS8vIGFzYTogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAxCglidG9pCgoJLy8gZXhlY3V0ZSBhcmM1OV9vcHRSb3V0ZXJJbih1aW50NjQpdm9pZAoJY2FsbHN1YiBhcmM1OV9vcHRSb3V0ZXJJbgoJaW50IDEKCXJldHVybgoKLy8gYXJjNTlfb3B0Um91dGVySW4oYXNhOiBBc3NldElEKTogdm9pZAovLwovLyBPcHQgdGhlIEFSQzU5IHJvdXRlciBpbnRvIHRoZSBBU0EuIFRoaXMgaXMgcmVxdWlyZWQgYmVmb3JlIHRoaXMgYXBwIGNhbiBiZSB1c2VkIHRvIHNlbmQgdGhlIEFTQSB0byBhbnlvbmUuCi8vCi8vIEBwYXJhbSBhc2EgVGhlIEFTQSB0byBvcHQgaW50bwphcmM1OV9vcHRSb3V0ZXJJbjoKCXByb3RvIDEgMAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjUwCgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICBhc3NldFJlY2VpdmVyOiB0aGlzLmFwcC5hZGRyZXNzLAoJLy8gICAgICAgYXNzZXRBbW91bnQ6IDAsCgkvLyAgICAgICB4ZmVyQXNzZXQ6IGFzYSwKCS8vICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGF4ZmVyCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6NTEKCS8vIGFzc2V0UmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czo1MgoJLy8gYXNzZXRBbW91bnQ6IDAKCWludCAwCglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6NTMKCS8vIHhmZXJBc3NldDogYXNhCglmcmFtZV9kaWcgLTEgLy8gYXNhOiBBc3NldElECglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKLy8gYXJjNTlfZ2V0T3JDcmVhdGVJbmJveChhZGRyZXNzKWFkZHJlc3MKKmFiaV9yb3V0ZV9hcmM1OV9nZXRPckNyZWF0ZUluYm94OgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyByZWNlaXZlcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCWFzc2VydAoKCS8vIGV4ZWN1dGUgYXJjNTlfZ2V0T3JDcmVhdGVJbmJveChhZGRyZXNzKWFkZHJlc3MKCWNhbGxzdWIgYXJjNTlfZ2V0T3JDcmVhdGVJbmJveAoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGFyYzU5X2dldE9yQ3JlYXRlSW5ib3gocmVjZWl2ZXI6IEFkZHJlc3MpOiBBZGRyZXNzCi8vCi8vIEdldHMgdGhlIGV4aXN0aW5nIGluYm94IGZvciB0aGUgcmVjZWl2ZXIgb3IgY3JlYXRlcyBhIG5ldyBvbmUgaWYgaXQgZG9lcyBub3QgZXhpc3QKLy8KLy8gQHBhcmFtIHJlY2VpdmVyIFRoZSBhZGRyZXNzIHRvIGdldCBvciBjcmVhdGUgdGhlIGluYm94IGZvcgovLyBAcmV0dXJucyBUaGUgaW5ib3ggYWRkcmVzcwphcmM1OV9nZXRPckNyZWF0ZUluYm94OgoJcHJvdG8gMSAxCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCgkvLyAqaWYwX2NvbmRpdGlvbgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6NjQKCS8vIHRoaXMuaW5ib3hlcyhyZWNlaXZlcikuZXhpc3RzCglmcmFtZV9kaWcgLTEgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWJveF9sZW4KCXN3YXAKCXBvcAoJYnogKmlmMF9lbmQKCgkvLyAqaWYwX2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjY0CgkvLyByZXR1cm4gdGhpcy5pbmJveGVzKHJlY2VpdmVyKS52YWx1ZTsKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJYm94X2dldAoJYXNzZXJ0CgliICphcmM1OV9nZXRPckNyZWF0ZUluYm94KnJldHVybgoKKmlmMF9lbmQ6CgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czo2NgoJLy8gaW5ib3ggPSBzZW5kTWV0aG9kQ2FsbDx0eXBlb2YgQ29udHJvbGxlZEFkZHJlc3MucHJvdG90eXBlLm5ldz4oewoJLy8gICAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRpb24uRGVsZXRlQXBwbGljYXRpb24sCgkvLyAgICAgICBhcHByb3ZhbFByb2dyYW06IENvbnRyb2xsZWRBZGRyZXNzLmFwcHJvdmFsUHJvZ3JhbSgpLAoJLy8gICAgICAgY2xlYXJTdGF0ZVByb2dyYW06IENvbnRyb2xsZWRBZGRyZXNzLmNsZWFyUHJvZ3JhbSgpLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXBwbAoJaXR4bl9maWVsZCBUeXBlRW51bQoJbWV0aG9kICJuZXcoKWFkZHJlc3MiCglpdHhuX2ZpZWxkIEFwcGxpY2F0aW9uQXJncwoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjY3CgkvLyBvbkNvbXBsZXRpb246IE9uQ29tcGxldGlvbi5EZWxldGVBcHBsaWNhdGlvbgoJaW50IDUgLy8gRGVsZXRlQXBwbGljYXRpb24KCWl0eG5fZmllbGQgT25Db21wbGV0aW9uCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6NjgKCS8vIGFwcHJvdmFsUHJvZ3JhbTogQ29udHJvbGxlZEFkZHJlc3MuYXBwcm92YWxQcm9ncmFtKCkKCWJ5dGUgYjY0IENpQUJBVEVZRklFR0N6RVpDSTBNQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQWhBSUFFRlI5OGRZZ0FCRkN3SWtPS0FBR3hJcklRTVFDeUlJRUFzZ0d6TWdxSmdBUldIUy9xTmhvQWpnSC8wd0E9CglpdHhuX2ZpZWxkIEFwcHJvdmFsUHJvZ3JhbQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjY5CgkvLyBjbGVhclN0YXRlUHJvZ3JhbTogQ29udHJvbGxlZEFkZHJlc3MuY2xlYXJQcm9ncmFtKCkKCWJ5dGUgYjY0IENnPT0KCWl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglpdHhuIE51bUxvZ3MKCWludCAxCgktCglpdHhuYXMgTG9ncwoJZXh0cmFjdCA0IDAKCWZyYW1lX2J1cnkgMCAvLyBpbmJveDogYWRkcmVzcwoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjcyCgkvLyB0aGlzLmluYm94ZXMocmVjZWl2ZXIpLnZhbHVlID0gaW5ib3gKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWJveF9wdXQKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czo3NAoJLy8gcmV0dXJuIGluYm94OwoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCiphcmM1OV9nZXRPckNyZWF0ZUluYm94KnJldHVybjoKCS8vIHNldCB0aGUgc3Vicm91dGluZSByZXR1cm4gdmFsdWUKCWZyYW1lX2J1cnkgMAoJcmV0c3ViCgovLyBhcmM1OV9nZXRTZW5kQXNzZXRJbmZvKGFkZHJlc3MsdWludDY0KSh1aW50NjQsdWludDY0LGJvb2wsYm9vbCx1aW50NjQsdWludDY0KQoqYWJpX3JvdXRlX2FyYzU5X2dldFNlbmRBc3NldEluZm86CgkvLyBUaGUgQUJJIHJldHVybiBwcmVmaXgKCWJ5dGUgMHgxNTFmN2M3NQoKCS8vIGFzc2V0OiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDIKCWJ0b2kKCgkvLyByZWNlaXZlcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCWFzc2VydAoKCS8vIGV4ZWN1dGUgYXJjNTlfZ2V0U2VuZEFzc2V0SW5mbyhhZGRyZXNzLHVpbnQ2NCkodWludDY0LHVpbnQ2NCxib29sLGJvb2wsdWludDY0LHVpbnQ2NCkKCWNhbGxzdWIgYXJjNTlfZ2V0U2VuZEFzc2V0SW5mbwoJY29uY2F0Cglsb2cKCWludCAxCglyZXR1cm4KCi8vIGFyYzU5X2dldFNlbmRBc3NldEluZm8ocmVjZWl2ZXI6IEFkZHJlc3MsIGFzc2V0OiBBc3NldElEKTogU2VuZEFzc2V0SW5mbwovLwovLwovLyBAcGFyYW0gcmVjZWl2ZXIgVGhlIGFkZHJlc3MgdG8gc2VuZCB0aGUgYXNzZXQgdG8KLy8gQHBhcmFtIGFzc2V0IFRoZSBhc3NldCB0byBzZW5kCi8vCi8vIEByZXR1cm5zIFJldHVybnMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbiBmb3Igc2VuZGluZyBhbiBhc3NldDoKLy8gVGhlIG51bWJlciBvZiBpdHhucyByZXF1aXJlZCwgdGhlIE1CUiByZXF1aXJlZCwgd2hldGhlciB0aGUgcm91dGVyIGlzIG9wdGVkIGluLCB3aGV0aGVyIHRoZSByZWNlaXZlciBpcyBvcHRlZCBpbiwKLy8gYW5kIGhvdyBtdWNoIEFMR08gdGhlIHJlY2VpdmVyIHdvdWxkIG5lZWQgdG8gY2xhaW0gdGhlIGFzc2V0CmFyYzU5X2dldFNlbmRBc3NldEluZm86Cglwcm90byAyIDEKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoJZHVwbiA4CgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6ODcKCS8vIHJvdXRlck9wdGVkSW4gPSB0aGlzLmFwcC5hZGRyZXNzLmlzT3B0ZWRJblRvQXNzZXQoYXNzZXQpCglnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCXN3YXAKCXBvcAoJZnJhbWVfYnVyeSAwIC8vIHJvdXRlck9wdGVkSW46IGJvb2wKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czo4OAoJLy8gcmVjZWl2ZXJPcHRlZEluID0gcmVjZWl2ZXIuaXNPcHRlZEluVG9Bc3NldChhc3NldCkKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCXN3YXAKCXBvcAoJZnJhbWVfYnVyeSAxIC8vIHJlY2VpdmVyT3B0ZWRJbjogYm9vbAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjg5CgkvLyBpbmZvOiBTZW5kQXNzZXRJbmZvID0gewoJLy8gICAgICAgaXR4bnM6IDEsCgkvLyAgICAgICBtYnI6IDAsCgkvLyAgICAgICByb3V0ZXJPcHRlZEluOiByb3V0ZXJPcHRlZEluLAoJLy8gICAgICAgcmVjZWl2ZXJPcHRlZEluOiByZWNlaXZlck9wdGVkSW4sCgkvLyAgICAgICByZWNlaXZlckFsZ29OZWVkZWRGb3JDbGFpbTogMCwKCS8vICAgICAgIHJlY2VpdmVyQWxnb05lZWRlZEZvcldvcnN0Q2FzZUNsYWltOiBnbG9iYWxzLm1pbkJhbGFuY2UgKyBnbG9iYWxzLmFzc2V0T3B0SW5NaW5CYWxhbmNlICsgZ2xvYmFscy5taW5UeG5GZWUsCgkvLyAgICAgfQoJYnl0ZSAweDAwMDAwMDAwMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwCglieXRlIDB4MDAKCWludCAwCglmcmFtZV9kaWcgMCAvLyByb3V0ZXJPcHRlZEluOiBib29sCglzZXRiaXQKCWludCAxCglmcmFtZV9kaWcgMSAvLyByZWNlaXZlck9wdGVkSW46IGJvb2wKCXNldGJpdAoJY29uY2F0CglieXRlIDB4MDAwMDAwMDAwMDAwMDAwMAoJY29uY2F0CglnbG9iYWwgTWluQmFsYW5jZQoJZ2xvYmFsIEFzc2V0T3B0SW5NaW5CYWxhbmNlCgkrCglnbG9iYWwgTWluVHhuRmVlCgkrCglpdG9iCgljb25jYXQKCWZyYW1lX2J1cnkgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCgoJLy8gKmlmMV9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjk4CgkvLyByZWNlaXZlck9wdGVkSW4KCWZyYW1lX2RpZyAxIC8vIHJlY2VpdmVyT3B0ZWRJbjogYm9vbAoJYnogKmlmMV9lbmQKCgkvLyAqaWYxX2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjk4CgkvLyByZXR1cm4gaW5mbzsKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCWIgKmFyYzU5X2dldFNlbmRBc3NldEluZm8qcmV0dXJuCgoqaWYxX2VuZDoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEwMAoJLy8gYWxnb05lZWRlZFRvQ2xhaW0gPSByZWNlaXZlci5taW5CYWxhbmNlICsgZ2xvYmFscy5hc3NldE9wdEluTWluQmFsYW5jZSArIGdsb2JhbHMubWluVHhuRmVlCglmcmFtZV9kaWcgLTEgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCglnbG9iYWwgQXNzZXRPcHRJbk1pbkJhbGFuY2UKCSsKCWdsb2JhbCBNaW5UeG5GZWUKCSsKCWZyYW1lX2J1cnkgMyAvLyBhbGdvTmVlZGVkVG9DbGFpbTogdWludDY0CgoJLy8gKmlmMl9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEwMwoJLy8gcmVjZWl2ZXIuYmFsYW5jZSA8IGFsZ29OZWVkZWRUb0NsYWltCglmcmFtZV9kaWcgLTEgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQoJcG9wCglmcmFtZV9kaWcgMyAvLyBhbGdvTmVlZGVkVG9DbGFpbTogdWludDY0Cgk8CglieiAqaWYyX2VuZAoKCS8vICppZjJfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTA0CgkvLyBpbmZvLnJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltID0gYWxnb05lZWRlZFRvQ2xhaW0gLSByZWNlaXZlci5iYWxhbmNlCglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDE3CglmcmFtZV9kaWcgMyAvLyBhbGdvTmVlZGVkVG9DbGFpbTogdWludDY0CglmcmFtZV9kaWcgLTEgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQoJcG9wCgktCglpdG9iCglyZXBsYWNlMwoJZnJhbWVfYnVyeSAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCippZjJfZW5kOgoJLy8gKmlmM19jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEwOAoJLy8gIXJvdXRlck9wdGVkSW4KCWZyYW1lX2RpZyAwIC8vIHJvdXRlck9wdGVkSW46IGJvb2wKCSEKCWJ6ICppZjNfZW5kCgoJLy8gKmlmM19jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxMDkKCS8vIGluZm8ubWJyICs9IGdsb2JhbHMuYXNzZXRPcHRJbk1pbkJhbGFuY2UKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglpbnQgOAoJZnJhbWVfZGlnIDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWV4dHJhY3QgOCA4CglidG9pCglnbG9iYWwgQXNzZXRPcHRJbk1pbkJhbGFuY2UKCSsKCWl0b2IKCXJlcGxhY2UzCglmcmFtZV9idXJ5IDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjExMAoJLy8gaW5mby5pdHhucyArPSAxCglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDAKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglleHRyYWN0IDAgOAoJYnRvaQoJaW50IDEKCSsKCWl0b2IKCXJlcGxhY2UzCglmcmFtZV9idXJ5IDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoKKmlmM19lbmQ6CgkvLyAqaWY0X2NvbmRpdGlvbgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTEzCgkvLyAhdGhpcy5pbmJveGVzKHJlY2VpdmVyKS5leGlzdHMKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJYm94X2xlbgoJc3dhcAoJcG9wCgkhCglieiAqaWY0X2VuZAoKCS8vICppZjRfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTE3CgkvLyBpbmZvLml0eG5zICs9IDQKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglpbnQgMAoJZnJhbWVfZGlnIDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWV4dHJhY3QgMCA4CglidG9pCglpbnQgNAoJKwoJaXRvYgoJcmVwbGFjZTMKCWZyYW1lX2J1cnkgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTIwCgkvLyBwcmVNQlIgPSBnbG9iYWxzLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MubWluQmFsYW5jZQoJZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCglmcmFtZV9idXJ5IDQgLy8gcHJlTUJSOiB1aW50NjQKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxMjEKCS8vIHRoaXMuaW5ib3hlcyhyZWNlaXZlcikudmFsdWUgPSBnbG9iYWxzLnplcm9BZGRyZXNzCglmcmFtZV9kaWcgLTEgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWdsb2JhbCBaZXJvQWRkcmVzcwoJYm94X3B1dAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEyMgoJLy8gYm94TWJyRGVsdGEgPSBnbG9iYWxzLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MubWluQmFsYW5jZSAtIHByZU1CUgoJZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCglmcmFtZV9kaWcgNCAvLyBwcmVNQlI6IHVpbnQ2NAoJLQoJZnJhbWVfYnVyeSA1IC8vIGJveE1ickRlbHRhOiB1aW50NjQKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxMjMKCS8vIHRoaXMuaW5ib3hlcyhyZWNlaXZlcikuZGVsZXRlKCkKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJYm94X2RlbAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEyNgoJLy8gaW5mby5tYnIgKz0gYm94TWJyRGVsdGEgKyBnbG9iYWxzLm1pbkJhbGFuY2UgKyBnbG9iYWxzLmFzc2V0T3B0SW5NaW5CYWxhbmNlCglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDgKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglleHRyYWN0IDggOAoJYnRvaQoJZnJhbWVfZGlnIDUgLy8gYm94TWJyRGVsdGE6IHVpbnQ2NAoJZ2xvYmFsIE1pbkJhbGFuY2UKCSsKCWdsb2JhbCBBc3NldE9wdEluTWluQmFsYW5jZQoJKwoJKwoJaXRvYgoJcmVwbGFjZTMKCWZyYW1lX2J1cnkgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTI4CgkvLyByZXR1cm4gaW5mbzsKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCWIgKmFyYzU5X2dldFNlbmRBc3NldEluZm8qcmV0dXJuCgoqaWY0X2VuZDoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEzMQoJLy8gaW5ib3ggPSB0aGlzLmluYm94ZXMocmVjZWl2ZXIpLnZhbHVlCglmcmFtZV9kaWcgLTEgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWJveF9nZXQKCWFzc2VydAoJZnJhbWVfYnVyeSA2IC8vIGluYm94OiBhZGRyZXNzCgoJLy8gKmlmNV9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEzMwoJLy8gIWluYm94LmlzT3B0ZWRJblRvQXNzZXQoYXNzZXQpCglmcmFtZV9kaWcgNiAvLyBpbmJveDogYWRkcmVzcwoJZnJhbWVfZGlnIC0yIC8vIGFzc2V0OiBBc3NldElECglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCXN3YXAKCXBvcAoJIQoJYnogKmlmNV9lbmQKCgkvLyAqaWY1X2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjEzNQoJLy8gaW5mby5pdHhucyArPSAxCglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDAKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglleHRyYWN0IDAgOAoJYnRvaQoJaW50IDEKCSsKCWl0b2IKCXJlcGxhY2UzCglmcmFtZV9idXJ5IDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoKCS8vICppZjZfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxMzcKCS8vICEoaW5ib3guYmFsYW5jZSA+PSBpbmJveC5taW5CYWxhbmNlICsgZ2xvYmFscy5hc3NldE9wdEluTWluQmFsYW5jZSkKCWZyYW1lX2RpZyA2IC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDYgLy8gaW5ib3g6IGFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCglnbG9iYWwgQXNzZXRPcHRJbk1pbkJhbGFuY2UKCSsKCT49CgkhCglieiAqaWY2X2VuZAoKCS8vICppZjZfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTM5CgkvLyBpbmZvLml0eG5zICs9IDEKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglpbnQgMAoJZnJhbWVfZGlnIDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWV4dHJhY3QgMCA4CglidG9pCglpbnQgMQoJKwoJaXRvYgoJcmVwbGFjZTMKCWZyYW1lX2J1cnkgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTQyCgkvLyBpbmZvLm1iciArPSBnbG9iYWxzLmFzc2V0T3B0SW5NaW5CYWxhbmNlCglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJaW50IDgKCWZyYW1lX2RpZyAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCXN0b3JlIDI1NSAvLyBmdWxsIGFycmF5Cglsb2FkIDI1NSAvLyBmdWxsIGFycmF5CglleHRyYWN0IDggOAoJYnRvaQoJZ2xvYmFsIEFzc2V0T3B0SW5NaW5CYWxhbmNlCgkrCglpdG9iCglyZXBsYWNlMwoJZnJhbWVfYnVyeSAyIC8vIGluZm86IFNlbmRBc3NldEluZm8KCippZjZfZW5kOgoKKmlmNV9lbmQ6CgkvLyAqaWY3X2NvbmRpdGlvbgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTQ3CgkvLyBpbmJveC5iYWxhbmNlID4gaW5ib3gubWluQmFsYW5jZSAmJiBpbmZvLnJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltICE9PSAwCglmcmFtZV9kaWcgNiAvLyBpbmJveDogYWRkcmVzcwoJYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCglwb3AKCWZyYW1lX2RpZyA2IC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKCXBvcAoJPgoJZHVwCglieiAqc2tpcF9hbmQwCglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJZXh0cmFjdCAxNyA4CglidG9pCglpbnQgMAoJIT0KCSYmCgoqc2tpcF9hbmQwOgoJYnogKmlmN19lbmQKCgkvLyAqaWY3X2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE1MgoJLy8gYWxnb0NvbnN1bWVkQnlDbGFpbSA9IGdsb2JhbHMuYXNzZXRPcHRJbk1pbkJhbGFuY2UgKyAoaW5mby5pdHhucyArIDQpICogZ2xvYmFscy5taW5UeG5GZWUKCWdsb2JhbCBBc3NldE9wdEluTWluQmFsYW5jZQoJZnJhbWVfZGlnIDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWV4dHJhY3QgMCA4CglidG9pCglpbnQgNAoJKwoJZ2xvYmFsIE1pblR4bkZlZQoJKgoJKwoJZnJhbWVfYnVyeSA3IC8vIGFsZ29Db25zdW1lZEJ5Q2xhaW06IHVpbnQ2NAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE1MwoJLy8gaW5ib3hBbGdvQXZhaWxhYmxlID0gaW5ib3guYmFsYW5jZSA+IGluYm94Lm1pbkJhbGFuY2UgPyBpbmJveC5iYWxhbmNlIC0gaW5ib3gubWluQmFsYW5jZSA6IDAKCWZyYW1lX2RpZyA2IC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDYgLy8gaW5ib3g6IGFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCgk+CglieiAqdGVybmFyeTFfZmFsc2UKCWZyYW1lX2RpZyA2IC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDYgLy8gaW5ib3g6IGFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCgktCgliICp0ZXJuYXJ5MV9lbmQKCip0ZXJuYXJ5MV9mYWxzZToKCWludCAwCgoqdGVybmFyeTFfZW5kOgoJZnJhbWVfYnVyeSA4IC8vIGluYm94QWxnb0F2YWlsYWJsZTogdWludDY0CgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTU0CgkvLyBpbmJveEFsZ29BdmFpbGFibGUgPSBpbmJveEFsZ29BdmFpbGFibGUgPiBhbGdvQ29uc3VtZWRCeUNsYWltID8gaW5ib3hBbGdvQXZhaWxhYmxlIC0gYWxnb0NvbnN1bWVkQnlDbGFpbSA6IDAKCWZyYW1lX2RpZyA4IC8vIGluYm94QWxnb0F2YWlsYWJsZTogdWludDY0CglmcmFtZV9kaWcgNyAvLyBhbGdvQ29uc3VtZWRCeUNsYWltOiB1aW50NjQKCT4KCWJ6ICp0ZXJuYXJ5Ml9mYWxzZQoJZnJhbWVfZGlnIDggLy8gaW5ib3hBbGdvQXZhaWxhYmxlOiB1aW50NjQKCWZyYW1lX2RpZyA3IC8vIGFsZ29Db25zdW1lZEJ5Q2xhaW06IHVpbnQ2NAoJLQoJYiAqdGVybmFyeTJfZW5kCgoqdGVybmFyeTJfZmFsc2U6CglpbnQgMAoKKnRlcm5hcnkyX2VuZDoKCWZyYW1lX2J1cnkgOCAvLyBpbmJveEFsZ29BdmFpbGFibGU6IHVpbnQ2NAoKCS8vICppZjhfY29uZGl0aW9uCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxNTYKCS8vIGluYm94QWxnb0F2YWlsYWJsZSA8IGluZm8ucmVjZWl2ZXJBbGdvTmVlZGVkRm9yQ2xhaW0KCWZyYW1lX2RpZyA4IC8vIGluYm94QWxnb0F2YWlsYWJsZTogdWludDY0CglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCglzdG9yZSAyNTUgLy8gZnVsbCBhcnJheQoJbG9hZCAyNTUgLy8gZnVsbCBhcnJheQoJZXh0cmFjdCAxNyA4CglidG9pCgk8CglieiAqaWY4X2VuZAoKCS8vICppZjhfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTU3CgkvLyBpbmZvLnJlY2VpdmVyQWxnb05lZWRlZEZvckNsYWltIC09IGluYm94QWxnb0F2YWlsYWJsZQoJZnJhbWVfZGlnIDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWludCAxNwoJZnJhbWVfZGlnIDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoJc3RvcmUgMjU1IC8vIGZ1bGwgYXJyYXkKCWxvYWQgMjU1IC8vIGZ1bGwgYXJyYXkKCWV4dHJhY3QgMTcgOAoJYnRvaQoJZnJhbWVfZGlnIDggLy8gaW5ib3hBbGdvQXZhaWxhYmxlOiB1aW50NjQKCS0KCWl0b2IKCXJlcGxhY2UzCglmcmFtZV9idXJ5IDIgLy8gaW5mbzogU2VuZEFzc2V0SW5mbwoKKmlmOF9lbmQ6CgoqaWY3X2VuZDoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE2MQoJLy8gcmV0dXJuIGluZm87CglmcmFtZV9kaWcgMiAvLyBpbmZvOiBTZW5kQXNzZXRJbmZvCgoqYXJjNTlfZ2V0U2VuZEFzc2V0SW5mbypyZXR1cm46CgkvLyBzZXQgdGhlIHN1YnJvdXRpbmUgcmV0dXJuIHZhbHVlCglmcmFtZV9idXJ5IDAKCgkvLyBwb3AgYWxsIGxvY2FsIHZhcmlhYmxlcyBmcm9tIHRoZSBzdGFjawoJcG9wbiA4CglyZXRzdWIKCi8vIGFyYzU5X3NlbmRBc3NldChheGZlcixhZGRyZXNzLHVpbnQ2NClhZGRyZXNzCiphYmlfcm91dGVfYXJjNTlfc2VuZEFzc2V0OgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyBhZGRpdGlvbmFsUmVjZWl2ZXJGdW5kczogdWludDY0Cgl0eG5hIEFwcGxpY2F0aW9uQXJncyAyCglidG9pCgoJLy8gcmVjZWl2ZXI6IGFkZHJlc3MKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWR1cAoJbGVuCglpbnQgMzIKCT09Cglhc3NlcnQKCgkvLyBheGZlcjogYXhmZXIKCXR4biBHcm91cEluZGV4CglpbnQgMQoJLQoJZHVwCglndHhucyBUeXBlRW51bQoJaW50IGF4ZmVyCgk9PQoJYXNzZXJ0CgoJLy8gZXhlY3V0ZSBhcmM1OV9zZW5kQXNzZXQoYXhmZXIsYWRkcmVzcyx1aW50NjQpYWRkcmVzcwoJY2FsbHN1YiBhcmM1OV9zZW5kQXNzZXQKCWNvbmNhdAoJbG9nCglpbnQgMQoJcmV0dXJuCgovLyBhcmM1OV9zZW5kQXNzZXQoYXhmZXI6IEFzc2V0VHJhbnNmZXJUeG4sIHJlY2VpdmVyOiBBZGRyZXNzLCBhZGRpdGlvbmFsUmVjZWl2ZXJGdW5kczogdWludDY0KTogQWRkcmVzcwovLwovLyBTZW5kIGFuIGFzc2V0IHRvIHRoZSByZWNlaXZlcgovLwovLyBAcGFyYW0gcmVjZWl2ZXIgVGhlIGFkZHJlc3MgdG8gc2VuZCB0aGUgYXNzZXQgdG8KLy8gQHBhcmFtIGF4ZmVyIFRoZSBhc3NldCB0cmFuc2ZlciB0byB0aGlzIGFwcAovLyBAcGFyYW0gYWRkaXRpb25hbFJlY2VpdmVyRnVuZHMgVGhlIGFtb3VudCBvZiBBTEdPIHRvIHNlbmQgdG8gdGhlIHJlY2VpdmVyL2luYm94IGluIGFkZGl0aW9uIHRvIHRoZSBNQlIKLy8KLy8gQHJldHVybnMgVGhlIGFkZHJlc3MgdGhhdCB0aGUgYXNzZXQgd2FzIHNlbnQgdG8gKGVpdGhlciB0aGUgcmVjZWl2ZXIgb3IgdGhlaXIgaW5ib3gpCmFyYzU5X3NlbmRBc3NldDoKCXByb3RvIDMgMQoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CglkdXBuIDIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxNzQKCS8vIHZlcmlmeUFzc2V0VHJhbnNmZXJUeG4oYXhmZXIsIHsKCS8vICAgICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMuYXBwLmFkZHJlc3MsCgkvLyAgICAgfSkKCS8vIHZlcmlmeSBhc3NldFJlY2VpdmVyCglmcmFtZV9kaWcgLTEgLy8gYXhmZXI6IEFzc2V0VHJhbnNmZXJUeG4KCWd0eG5zIEFzc2V0UmVjZWl2ZXIKCWdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCgk9PQoJYXNzZXJ0CgoJLy8gKmlmOV9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE3OQoJLy8gcmVjZWl2ZXIuaXNPcHRlZEluVG9Bc3NldChheGZlci54ZmVyQXNzZXQpCglmcmFtZV9kaWcgLTIgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWZyYW1lX2RpZyAtMSAvLyBheGZlcjogQXNzZXRUcmFuc2ZlclR4bgoJZ3R4bnMgWGZlckFzc2V0Cglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCXN3YXAKCXBvcAoJYnogKmlmOV9lbmQKCgkvLyAqaWY5X2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE4MAoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgICBhc3NldFJlY2VpdmVyOiByZWNlaXZlciwKCS8vICAgICAgICAgYXNzZXRBbW91bnQ6IGF4ZmVyLmFzc2V0QW1vdW50LAoJLy8gICAgICAgICB4ZmVyQXNzZXQ6IGF4ZmVyLnhmZXJBc3NldCwKCS8vICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgYXhmZXIKCWl0eG5fZmllbGQgVHlwZUVudW0KCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxODEKCS8vIGFzc2V0UmVjZWl2ZXI6IHJlY2VpdmVyCglmcmFtZV9kaWcgLTIgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE4MgoJLy8gYXNzZXRBbW91bnQ6IGF4ZmVyLmFzc2V0QW1vdW50CglmcmFtZV9kaWcgLTEgLy8gYXhmZXI6IEFzc2V0VHJhbnNmZXJUeG4KCWd0eG5zIEFzc2V0QW1vdW50CglpdHhuX2ZpZWxkIEFzc2V0QW1vdW50CgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTgzCgkvLyB4ZmVyQXNzZXQ6IGF4ZmVyLnhmZXJBc3NldAoJZnJhbWVfZGlnIC0xIC8vIGF4ZmVyOiBBc3NldFRyYW5zZmVyVHhuCglndHhucyBYZmVyQXNzZXQKCWl0eG5fZmllbGQgWGZlckFzc2V0CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vICppZjEwX2NvbmRpdGlvbgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTg2CgkvLyBhZGRpdGlvbmFsUmVjZWl2ZXJGdW5kcyAhPT0gMAoJZnJhbWVfZGlnIC0zIC8vIGFkZGl0aW9uYWxSZWNlaXZlckZ1bmRzOiB1aW50NjQKCWludCAwCgkhPQoJYnogKmlmMTBfZW5kCgoJLy8gKmlmMTBfY29uc2VxdWVudAoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTg3CgkvLyBzZW5kUGF5bWVudCh7CgkvLyAgICAgICAgICAgcmVjZWl2ZXI6IHJlY2VpdmVyLAoJLy8gICAgICAgICAgIGFtb3VudDogYWRkaXRpb25hbFJlY2VpdmVyRnVuZHMsCgkvLyAgICAgICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTg4CgkvLyByZWNlaXZlcjogcmVjZWl2ZXIKCWZyYW1lX2RpZyAtMiAvLyByZWNlaXZlcjogQWRkcmVzcwoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjE4OQoJLy8gYW1vdW50OiBhZGRpdGlvbmFsUmVjZWl2ZXJGdW5kcwoJZnJhbWVfZGlnIC0zIC8vIGFkZGl0aW9uYWxSZWNlaXZlckZ1bmRzOiB1aW50NjQKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKKmlmMTBfZW5kOgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTkzCgkvLyByZXR1cm4gcmVjZWl2ZXI7CglmcmFtZV9kaWcgLTIgLy8gcmVjZWl2ZXI6IEFkZHJlc3MKCWIgKmFyYzU5X3NlbmRBc3NldCpyZXR1cm4KCippZjlfZW5kOgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTk2CgkvLyBpbmJveEV4aXN0ZWQgPSB0aGlzLmluYm94ZXMocmVjZWl2ZXIpLmV4aXN0cwoJZnJhbWVfZGlnIC0yIC8vIHJlY2VpdmVyOiBBZGRyZXNzCglib3hfbGVuCglzd2FwCglwb3AKCWZyYW1lX2J1cnkgMCAvLyBpbmJveEV4aXN0ZWQ6IGJvb2wKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoxOTcKCS8vIGluYm94ID0gdGhpcy5hcmM1OV9nZXRPckNyZWF0ZUluYm94KHJlY2VpdmVyKQoJZnJhbWVfZGlnIC0yIC8vIHJlY2VpdmVyOiBBZGRyZXNzCgljYWxsc3ViIGFyYzU5X2dldE9yQ3JlYXRlSW5ib3gKCWZyYW1lX2J1cnkgMSAvLyBpbmJveDogYWRkcmVzcwoKCS8vICppZjExX2NvbmRpdGlvbgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MTk5CgkvLyAhaW5ib3guaXNPcHRlZEluVG9Bc3NldChheGZlci54ZmVyQXNzZXQpCglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoJZnJhbWVfZGlnIC0xIC8vIGF4ZmVyOiBBc3NldFRyYW5zZmVyVHhuCglndHhucyBYZmVyQXNzZXQKCWFzc2V0X2hvbGRpbmdfZ2V0IEFzc2V0QmFsYW5jZQoJc3dhcAoJcG9wCgkhCglieiAqaWYxMV9lbmQKCgkvLyAqaWYxMV9jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMDAKCS8vIGluYm94TWJyRGVsdGEgPSBnbG9iYWxzLmFzc2V0T3B0SW5NaW5CYWxhbmNlCglnbG9iYWwgQXNzZXRPcHRJbk1pbkJhbGFuY2UKCWZyYW1lX2J1cnkgMiAvLyBpbmJveE1ickRlbHRhOiB1aW50NjQKCgkvLyAqaWYxMl9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIwMQoJLy8gIWluYm94RXhpc3RlZAoJZnJhbWVfZGlnIDAgLy8gaW5ib3hFeGlzdGVkOiBib29sCgkhCglieiAqaWYxMl9lbmQKCgkvLyAqaWYxMl9jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMDEKCS8vIGluYm94TWJyRGVsdGEgKz0gZ2xvYmFscy5taW5CYWxhbmNlCglmcmFtZV9kaWcgMiAvLyBpbmJveE1ickRlbHRhOiB1aW50NjQKCWdsb2JhbCBNaW5CYWxhbmNlCgkrCglmcmFtZV9idXJ5IDIgLy8gaW5ib3hNYnJEZWx0YTogdWludDY0CgoqaWYxMl9lbmQ6CgkvLyAqaWYxM19jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIwNAoJLy8gaW5ib3guYmFsYW5jZSA8IGluYm94Lm1pbkJhbGFuY2UgKyBpbmJveE1ickRlbHRhCglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoJYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCglwb3AKCWZyYW1lX2RpZyAxIC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDIgLy8gaW5ib3hNYnJEZWx0YTogdWludDY0CgkrCgk8CglieiAqaWYxM19lbmQKCgkvLyAqaWYxM19jb25zZXF1ZW50CgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMDUKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgICAgICByZWNlaXZlcjogaW5ib3gsCgkvLyAgICAgICAgICAgYW1vdW50OiBpbmJveE1ickRlbHRhLAoJLy8gICAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIwNgoJLy8gcmVjZWl2ZXI6IGluYm94CglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIwNwoJLy8gYW1vdW50OiBpbmJveE1ickRlbHRhCglmcmFtZV9kaWcgMiAvLyBpbmJveE1ickRlbHRhOiB1aW50NjQKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKKmlmMTNfZW5kOgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjEyCgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICAgIHNlbmRlcjogaW5ib3gsCgkvLyAgICAgICAgIGFzc2V0UmVjZWl2ZXI6IGluYm94LAoJLy8gICAgICAgICBhc3NldEFtb3VudDogMCwKCS8vICAgICAgICAgeGZlckFzc2V0OiBheGZlci54ZmVyQXNzZXQsCgkvLyAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IGF4ZmVyCglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjEzCgkvLyBzZW5kZXI6IGluYm94CglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMTQKCS8vIGFzc2V0UmVjZWl2ZXI6IGluYm94CglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoJaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjE1CgkvLyBhc3NldEFtb3VudDogMAoJaW50IDAKCWl0eG5fZmllbGQgQXNzZXRBbW91bnQKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMTYKCS8vIHhmZXJBc3NldDogYXhmZXIueGZlckFzc2V0CglmcmFtZV9kaWcgLTEgLy8gYXhmZXI6IEFzc2V0VHJhbnNmZXJUeG4KCWd0eG5zIFhmZXJBc3NldAoJaXR4bl9maWVsZCBYZmVyQXNzZXQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CgoqaWYxMV9lbmQ6CgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMjEKCS8vIHNlbmRBc3NldFRyYW5zZmVyKHsKCS8vICAgICAgIGFzc2V0UmVjZWl2ZXI6IGluYm94LAoJLy8gICAgICAgYXNzZXRBbW91bnQ6IGF4ZmVyLmFzc2V0QW1vdW50LAoJLy8gICAgICAgeGZlckFzc2V0OiBheGZlci54ZmVyQXNzZXQsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIyMgoJLy8gYXNzZXRSZWNlaXZlcjogaW5ib3gKCWZyYW1lX2RpZyAxIC8vIGluYm94OiBhZGRyZXNzCglpdHhuX2ZpZWxkIEFzc2V0UmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyMjMKCS8vIGFzc2V0QW1vdW50OiBheGZlci5hc3NldEFtb3VudAoJZnJhbWVfZGlnIC0xIC8vIGF4ZmVyOiBBc3NldFRyYW5zZmVyVHhuCglndHhucyBBc3NldEFtb3VudAoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIyNAoJLy8geGZlckFzc2V0OiBheGZlci54ZmVyQXNzZXQKCWZyYW1lX2RpZyAtMSAvLyBheGZlcjogQXNzZXRUcmFuc2ZlclR4bgoJZ3R4bnMgWGZlckFzc2V0CglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyAqaWYxNF9jb25kaXRpb24KCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIyNwoJLy8gYWRkaXRpb25hbFJlY2VpdmVyRnVuZHMgIT09IDAKCWZyYW1lX2RpZyAtMyAvLyBhZGRpdGlvbmFsUmVjZWl2ZXJGdW5kczogdWludDY0CglpbnQgMAoJIT0KCWJ6ICppZjE0X2VuZAoKCS8vICppZjE0X2NvbnNlcXVlbnQKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIyOAoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgICByZWNlaXZlcjogaW5ib3gsCgkvLyAgICAgICAgIGFtb3VudDogYWRkaXRpb25hbFJlY2VpdmVyRnVuZHMsCgkvLyAgICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIyOQoJLy8gcmVjZWl2ZXI6IGluYm94CglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoJaXR4bl9maWVsZCBSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjIzMAoJLy8gYW1vdW50OiBhZGRpdGlvbmFsUmVjZWl2ZXJGdW5kcwoJZnJhbWVfZGlnIC0zIC8vIGFkZGl0aW9uYWxSZWNlaXZlckZ1bmRzOiB1aW50NjQKCWl0eG5fZmllbGQgQW1vdW50CgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKKmlmMTRfZW5kOgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjM0CgkvLyByZXR1cm4gaW5ib3g7CglmcmFtZV9kaWcgMSAvLyBpbmJveDogYWRkcmVzcwoKKmFyYzU5X3NlbmRBc3NldCpyZXR1cm46CgkvLyBzZXQgdGhlIHN1YnJvdXRpbmUgcmV0dXJuIHZhbHVlCglmcmFtZV9idXJ5IDAKCgkvLyBwb3AgYWxsIGxvY2FsIHZhcmlhYmxlcyBmcm9tIHRoZSBzdGFjawoJcG9wbiAyCglyZXRzdWIKCi8vIGFyYzU5X2NsYWltKHVpbnQ2NCl2b2lkCiphYmlfcm91dGVfYXJjNTlfY2xhaW06CgkvLyBhc2E6IHVpbnQ2NAoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJYnRvaQoKCS8vIGV4ZWN1dGUgYXJjNTlfY2xhaW0odWludDY0KXZvaWQKCWNhbGxzdWIgYXJjNTlfY2xhaW0KCWludCAxCglyZXR1cm4KCi8vIGFyYzU5X2NsYWltKGFzYTogQXNzZXRJRCk6IHZvaWQKLy8KLy8gQ2xhaW0gYW4gQVNBIGZyb20gdGhlIGluYm94Ci8vCi8vIEBwYXJhbSBhc2EgVGhlIEFTQSB0byBjbGFpbQphcmM1OV9jbGFpbToKCXByb3RvIDEgMAoKCS8vIFB1c2ggZW1wdHkgYnl0ZXMgYWZ0ZXIgdGhlIGZyYW1lIHBvaW50ZXIgdG8gcmVzZXJ2ZSBzcGFjZSBmb3IgbG9jYWwgdmFyaWFibGVzCglieXRlIDB4CgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjQzCgkvLyBpbmJveCA9IHRoaXMuaW5ib3hlcyh0aGlzLnR4bi5zZW5kZXIpLnZhbHVlCgl0eG4gU2VuZGVyCglib3hfZ2V0Cglhc3NlcnQKCWZyYW1lX2J1cnkgMCAvLyBpbmJveDogYWRkcmVzcwoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI0NQoJLy8gc2VuZEFzc2V0VHJhbnNmZXIoewoJLy8gICAgICAgc2VuZGVyOiBpbmJveCwKCS8vICAgICAgIGFzc2V0UmVjZWl2ZXI6IHRoaXMudHhuLnNlbmRlciwKCS8vICAgICAgIGFzc2V0QW1vdW50OiBpbmJveC5hc3NldEJhbGFuY2UoYXNhKSwKCS8vICAgICAgIHhmZXJBc3NldDogYXNhLAoJLy8gICAgICAgYXNzZXRDbG9zZVRvOiB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI0NgoJLy8gc2VuZGVyOiBpbmJveAoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWl0eG5fZmllbGQgU2VuZGVyCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjQ3CgkvLyBhc3NldFJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgQXNzZXRSZWNlaXZlcgoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI0OAoJLy8gYXNzZXRBbW91bnQ6IGluYm94LmFzc2V0QmFsYW5jZShhc2EpCglmcmFtZV9kaWcgMCAvLyBpbmJveDogYWRkcmVzcwoJZnJhbWVfZGlnIC0xIC8vIGFzYTogQXNzZXRJRAoJYXNzZXRfaG9sZGluZ19nZXQgQXNzZXRCYWxhbmNlCglwb3AKCWl0eG5fZmllbGQgQXNzZXRBbW91bnQKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyNDkKCS8vIHhmZXJBc3NldDogYXNhCglmcmFtZV9kaWcgLTEgLy8gYXNhOiBBc3NldElECglpdHhuX2ZpZWxkIFhmZXJBc3NldAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI1MAoJLy8gYXNzZXRDbG9zZVRvOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgQXNzZXRDbG9zZVRvCgoJLy8gRmVlIGZpZWxkIG5vdCBzZXQsIGRlZmF1bHRpbmcgdG8gMAoJaW50IDAKCWl0eG5fZmllbGQgRmVlCgoJLy8gU3VibWl0IGlubmVyIHRyYW5zYWN0aW9uCglpdHhuX3N1Ym1pdAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI1MwoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgc2VuZGVyOiBpbmJveCwKCS8vICAgICAgIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgICBhbW91bnQ6IGluYm94LmJhbGFuY2UgLSBpbmJveC5taW5CYWxhbmNlLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjU0CgkvLyBzZW5kZXI6IGluYm94CglmcmFtZV9kaWcgMCAvLyBpbmJveDogYWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyNTUKCS8vIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyNTYKCS8vIGFtb3VudDogaW5ib3guYmFsYW5jZSAtIGluYm94Lm1pbkJhbGFuY2UKCWZyYW1lX2RpZyAwIC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCgktCglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKLy8gYXJjNTlfcmVqZWN0KHVpbnQ2NCl2b2lkCiphYmlfcm91dGVfYXJjNTlfcmVqZWN0OgoJLy8gYXNhOiB1aW50NjQKCXR4bmEgQXBwbGljYXRpb25BcmdzIDEKCWJ0b2kKCgkvLyBleGVjdXRlIGFyYzU5X3JlamVjdCh1aW50NjQpdm9pZAoJY2FsbHN1YiBhcmM1OV9yZWplY3QKCWludCAxCglyZXR1cm4KCi8vIGFyYzU5X3JlamVjdChhc2E6IEFzc2V0SUQpOiB2b2lkCi8vCi8vIFJlamVjdCB0aGUgQVNBIGJ5IGNsb3NpbmcgaXQgb3V0IHRvIHRoZSBBU0EgY3JlYXRvci4gQWx3YXlzIHNlbmRzIHR3byBpbm5lciB0cmFuc2FjdGlvbnMuCi8vIEFsbCBub24tTUJSIEFMR08gYmFsYW5jZSBpbiB0aGUgaW5ib3ggd2lsbCBiZSBzZW50IHRvIHRoZSBjYWxsZXIuCi8vCi8vIEBwYXJhbSBhc2EgVGhlIEFTQSB0byByZWplY3QKYXJjNTlfcmVqZWN0OgoJcHJvdG8gMSAwCgoJLy8gUHVzaCBlbXB0eSBieXRlcyBhZnRlciB0aGUgZnJhbWUgcG9pbnRlciB0byByZXNlcnZlIHNwYWNlIGZvciBsb2NhbCB2YXJpYWJsZXMKCWJ5dGUgMHgKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyNjcKCS8vIGluYm94ID0gdGhpcy5pbmJveGVzKHRoaXMudHhuLnNlbmRlcikudmFsdWUKCXR4biBTZW5kZXIKCWJveF9nZXQKCWFzc2VydAoJZnJhbWVfYnVyeSAwIC8vIGluYm94OiBhZGRyZXNzCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjY5CgkvLyBzZW5kQXNzZXRUcmFuc2Zlcih7CgkvLyAgICAgICBzZW5kZXI6IGluYm94LAoJLy8gICAgICAgYXNzZXRSZWNlaXZlcjogYXNhLmNyZWF0b3IsCgkvLyAgICAgICBhc3NldEFtb3VudDogaW5ib3guYXNzZXRCYWxhbmNlKGFzYSksCgkvLyAgICAgICB4ZmVyQXNzZXQ6IGFzYSwKCS8vICAgICAgIGFzc2V0Q2xvc2VUbzogYXNhLmNyZWF0b3IsCgkvLyAgICAgfSkKCWl0eG5fYmVnaW4KCWludCBheGZlcgoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI3MAoJLy8gc2VuZGVyOiBpbmJveAoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWl0eG5fZmllbGQgU2VuZGVyCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjcxCgkvLyBhc3NldFJlY2VpdmVyOiBhc2EuY3JlYXRvcgoJZnJhbWVfZGlnIC0xIC8vIGFzYTogQXNzZXRJRAoJYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKCXBvcAoJaXR4bl9maWVsZCBBc3NldFJlY2VpdmVyCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjcyCgkvLyBhc3NldEFtb3VudDogaW5ib3guYXNzZXRCYWxhbmNlKGFzYSkKCWZyYW1lX2RpZyAwIC8vIGluYm94OiBhZGRyZXNzCglmcmFtZV9kaWcgLTEgLy8gYXNhOiBBc3NldElECglhc3NldF9ob2xkaW5nX2dldCBBc3NldEJhbGFuY2UKCXBvcAoJaXR4bl9maWVsZCBBc3NldEFtb3VudAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI3MwoJLy8geGZlckFzc2V0OiBhc2EKCWZyYW1lX2RpZyAtMSAvLyBhc2E6IEFzc2V0SUQKCWl0eG5fZmllbGQgWGZlckFzc2V0CgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6Mjc0CgkvLyBhc3NldENsb3NlVG86IGFzYS5jcmVhdG9yCglmcmFtZV9kaWcgLTEgLy8gYXNhOiBBc3NldElECglhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgoJcG9wCglpdHhuX2ZpZWxkIEFzc2V0Q2xvc2VUbwoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyNzcKCS8vIHNlbmRQYXltZW50KHsKCS8vICAgICAgIHNlbmRlcjogaW5ib3gsCgkvLyAgICAgICByZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyLAoJLy8gICAgICAgYW1vdW50OiBpbmJveC5iYWxhbmNlIC0gaW5ib3gubWluQmFsYW5jZSwKCS8vICAgICB9KQoJaXR4bl9iZWdpbgoJaW50IHBheQoJaXR4bl9maWVsZCBUeXBlRW51bQoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI3OAoJLy8gc2VuZGVyOiBpbmJveAoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWl0eG5fZmllbGQgU2VuZGVyCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6Mjc5CgkvLyByZWNlaXZlcjogdGhpcy50eG4uc2VuZGVyCgl0eG4gU2VuZGVyCglpdHhuX2ZpZWxkIFJlY2VpdmVyCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjgwCgkvLyBhbW91bnQ6IGluYm94LmJhbGFuY2UgLSBpbmJveC5taW5CYWxhbmNlCglmcmFtZV9kaWcgMCAvLyBpbmJveDogYWRkcmVzcwoJYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCglwb3AKCWZyYW1lX2RpZyAwIC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKCXBvcAoJLQoJaXR4bl9maWVsZCBBbW91bnQKCgkvLyBGZWUgZmllbGQgbm90IHNldCwgZGVmYXVsdGluZyB0byAwCglpbnQgMAoJaXR4bl9maWVsZCBGZWUKCgkvLyBTdWJtaXQgaW5uZXIgdHJhbnNhY3Rpb24KCWl0eG5fc3VibWl0CglyZXRzdWIKCi8vIGFyYzU5X2dldEluYm94KGFkZHJlc3MpYWRkcmVzcwoqYWJpX3JvdXRlX2FyYzU5X2dldEluYm94OgoJLy8gVGhlIEFCSSByZXR1cm4gcHJlZml4CglieXRlIDB4MTUxZjdjNzUKCgkvLyByZWNlaXZlcjogYWRkcmVzcwoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQoJZHVwCglsZW4KCWludCAzMgoJPT0KCWFzc2VydAoKCS8vIGV4ZWN1dGUgYXJjNTlfZ2V0SW5ib3goYWRkcmVzcylhZGRyZXNzCgljYWxsc3ViIGFyYzU5X2dldEluYm94Cgljb25jYXQKCWxvZwoJaW50IDEKCXJldHVybgoKLy8gYXJjNTlfZ2V0SW5ib3gocmVjZWl2ZXI6IEFkZHJlc3MpOiBBZGRyZXNzCi8vCi8vIEdldCB0aGUgaW5ib3ggYWRkcmVzcyBmb3IgdGhlIGdpdmVuIHJlY2VpdmVyCi8vCi8vIEBwYXJhbSByZWNlaXZlciBUaGUgcmVjZWl2ZXIgdG8gZ2V0IHRoZSBpbmJveCBmb3IKLy8KLy8gQHJldHVybnMgWmVybyBhZGRyZXNzIGlmIHRoZSByZWNlaXZlciBkb2VzIG5vdCB5ZXQgaGF2ZSBhbiBpbmJveCwgb3RoZXJ3aXNlIHRoZSBpbmJveCBhZGRyZXNzCmFyYzU5X2dldEluYm94OgoJcHJvdG8gMSAxCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MjkyCgkvLyByZXR1cm4gdGhpcy5pbmJveGVzKHJlY2VpdmVyKS5leGlzdHMgPyB0aGlzLmluYm94ZXMocmVjZWl2ZXIpLnZhbHVlIDogZ2xvYmFscy56ZXJvQWRkcmVzczsKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJYm94X2xlbgoJc3dhcAoJcG9wCglieiAqdGVybmFyeTNfZmFsc2UKCWZyYW1lX2RpZyAtMSAvLyByZWNlaXZlcjogQWRkcmVzcwoJYm94X2dldAoJYXNzZXJ0CgliICp0ZXJuYXJ5M19lbmQKCip0ZXJuYXJ5M19mYWxzZToKCWdsb2JhbCBaZXJvQWRkcmVzcwoKKnRlcm5hcnkzX2VuZDoKCXJldHN1YgoKLy8gYXJjNTlfY2xhaW1BbGdvKCl2b2lkCiphYmlfcm91dGVfYXJjNTlfY2xhaW1BbGdvOgoJLy8gZXhlY3V0ZSBhcmM1OV9jbGFpbUFsZ28oKXZvaWQKCWNhbGxzdWIgYXJjNTlfY2xhaW1BbGdvCglpbnQgMQoJcmV0dXJuCgovLyBhcmM1OV9jbGFpbUFsZ28oKTogdm9pZAovLwovLyBDbGFpbSBhbnkgZXh0cmEgYWxnbyBmcm9tIHRoZSBpbmJveAphcmM1OV9jbGFpbUFsZ286Cglwcm90byAwIDAKCgkvLyBQdXNoIGVtcHR5IGJ5dGVzIGFmdGVyIHRoZSBmcmFtZSBwb2ludGVyIHRvIHJlc2VydmUgc3BhY2UgZm9yIGxvY2FsIHZhcmlhYmxlcwoJYnl0ZSAweAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjI5NwoJLy8gaW5ib3ggPSB0aGlzLmluYm94ZXModGhpcy50eG4uc2VuZGVyKS52YWx1ZQoJdHhuIFNlbmRlcgoJYm94X2dldAoJYXNzZXJ0CglmcmFtZV9idXJ5IDAgLy8gaW5ib3g6IGFkZHJlc3MKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czoyOTkKCS8vIGFzc2VydChpbmJveC5iYWxhbmNlIC0gaW5ib3gubWluQmFsYW5jZSAhPT0gMCkKCWZyYW1lX2RpZyAwIC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCgktCglpbnQgMAoJIT0KCWFzc2VydAoKCS8vIGNvbnRyYWN0cy9hcmM1OS5hbGdvLnRzOjMwMQoJLy8gc2VuZFBheW1lbnQoewoJLy8gICAgICAgc2VuZGVyOiBpbmJveCwKCS8vICAgICAgIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIsCgkvLyAgICAgICBhbW91bnQ6IGluYm94LmJhbGFuY2UgLSBpbmJveC5taW5CYWxhbmNlLAoJLy8gICAgIH0pCglpdHhuX2JlZ2luCglpbnQgcGF5CglpdHhuX2ZpZWxkIFR5cGVFbnVtCgoJLy8gY29udHJhY3RzL2FyYzU5LmFsZ28udHM6MzAyCgkvLyBzZW5kZXI6IGluYm94CglmcmFtZV9kaWcgMCAvLyBpbmJveDogYWRkcmVzcwoJaXR4bl9maWVsZCBTZW5kZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czozMDMKCS8vIHJlY2VpdmVyOiB0aGlzLnR4bi5zZW5kZXIKCXR4biBTZW5kZXIKCWl0eG5fZmllbGQgUmVjZWl2ZXIKCgkvLyBjb250cmFjdHMvYXJjNTkuYWxnby50czozMDQKCS8vIGFtb3VudDogaW5ib3guYmFsYW5jZSAtIGluYm94Lm1pbkJhbGFuY2UKCWZyYW1lX2RpZyAwIC8vIGluYm94OiBhZGRyZXNzCglhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKCXBvcAoJZnJhbWVfZGlnIDAgLy8gaW5ib3g6IGFkZHJlc3MKCWFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQoJcG9wCgktCglpdHhuX2ZpZWxkIEFtb3VudAoKCS8vIEZlZSBmaWVsZCBub3Qgc2V0LCBkZWZhdWx0aW5nIHRvIDAKCWludCAwCglpdHhuX2ZpZWxkIEZlZQoKCS8vIFN1Ym1pdCBpbm5lciB0cmFuc2FjdGlvbgoJaXR4bl9zdWJtaXQKCXJldHN1YgoKKmNyZWF0ZV9Ob09wOgoJbWV0aG9kICJjcmVhdGVBcHBsaWNhdGlvbigpdm9pZCIKCXR4bmEgQXBwbGljYXRpb25BcmdzIDAKCW1hdGNoICphYmlfcm91dGVfY3JlYXRlQXBwbGljYXRpb24KCWVycgoKKmNhbGxfTm9PcDoKCW1ldGhvZCAiYXJjNTlfb3B0Um91dGVySW4odWludDY0KXZvaWQiCgltZXRob2QgImFyYzU5X2dldE9yQ3JlYXRlSW5ib3goYWRkcmVzcylhZGRyZXNzIgoJbWV0aG9kICJhcmM1OV9nZXRTZW5kQXNzZXRJbmZvKGFkZHJlc3MsdWludDY0KSh1aW50NjQsdWludDY0LGJvb2wsYm9vbCx1aW50NjQsdWludDY0KSIKCW1ldGhvZCAiYXJjNTlfc2VuZEFzc2V0KGF4ZmVyLGFkZHJlc3MsdWludDY0KWFkZHJlc3MiCgltZXRob2QgImFyYzU5X2NsYWltKHVpbnQ2NCl2b2lkIgoJbWV0aG9kICJhcmM1OV9yZWplY3QodWludDY0KXZvaWQiCgltZXRob2QgImFyYzU5X2dldEluYm94KGFkZHJlc3MpYWRkcmVzcyIKCW1ldGhvZCAiYXJjNTlfY2xhaW1BbGdvKCl2b2lkIgoJdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMAoJbWF0Y2ggKmFiaV9yb3V0ZV9hcmM1OV9vcHRSb3V0ZXJJbiAqYWJpX3JvdXRlX2FyYzU5X2dldE9yQ3JlYXRlSW5ib3ggKmFiaV9yb3V0ZV9hcmM1OV9nZXRTZW5kQXNzZXRJbmZvICphYmlfcm91dGVfYXJjNTlfc2VuZEFzc2V0ICphYmlfcm91dGVfYXJjNTlfY2xhaW0gKmFiaV9yb3V0ZV9hcmM1OV9yZWplY3QgKmFiaV9yb3V0ZV9hcmM1OV9nZXRJbmJveCAqYWJpX3JvdXRlX2FyYzU5X2NsYWltQWxnbwoJZXJy",clear:"I3ByYWdtYSB2ZXJzaW9uIDEw"},contract:{name:"ARC59",desc:"",methods:[{name:"createApplication",desc:"Deploy ARC59 contract",args:[],returns:{type:"void"}},{name:"arc59_optRouterIn",desc:"Opt the ARC59 router into the ASA. This is required before this app can be used to send the ASA to anyone.",args:[{name:"asa",type:"uint64",desc:"The ASA to opt into"}],returns:{type:"void"}},{name:"arc59_getOrCreateInbox",desc:"Gets the existing inbox for the receiver or creates a new one if it does not exist",args:[{name:"receiver",type:"address",desc:"The address to get or create the inbox for"}],returns:{type:"address",desc:"The inbox address"}},{name:"arc59_getSendAssetInfo",args:[{name:"receiver",type:"address",desc:"The address to send the asset to"},{name:"asset",type:"uint64",desc:"The asset to send"}],returns:{type:"(uint64,uint64,bool,bool,uint64,uint64)",desc:"Returns the following information for sending an asset:The number of itxns required, the MBR required, whether the router is opted in, whether the receiver is opted in,and how much ALGO the receiver would need to claim the asset"}},{name:"arc59_sendAsset",desc:"Send an asset to the receiver",args:[{name:"axfer",type:"axfer",desc:"The asset transfer to this app"},{name:"receiver",type:"address",desc:"The address to send the asset to"},{name:"additionalReceiverFunds",type:"uint64",desc:"The amount of ALGO to send to the receiver/inbox in addition to the MBR"}],returns:{type:"address",desc:"The address that the asset was sent to (either the receiver or their inbox)"}},{name:"arc59_claim",desc:"Claim an ASA from the inbox",args:[{name:"asa",type:"uint64",desc:"The ASA to claim"}],returns:{type:"void"}},{name:"arc59_reject",desc:"Reject the ASA by closing it out to the ASA creator. Always sends two inner transactions.All non-MBR ALGO balance in the inbox will be sent to the caller.",args:[{name:"asa",type:"uint64",desc:"The ASA to reject"}],returns:{type:"void"}},{name:"arc59_getInbox",desc:"Get the inbox address for the given receiver",args:[{name:"receiver",type:"address",desc:"The receiver to get the inbox for"}],returns:{type:"address",desc:"Zero address if the receiver does not yet have an inbox, otherwise the inbox address"}},{name:"arc59_claimAlgo",desc:"Claim any extra algo from the inbox",args:[],returns:{type:"void"}}]}};class Lr{static get create(){return{createApplication(e,n={}){return{method:"createApplication()void",methodArgs:Array.isArray(e)?e:[],...n}}}}static arc59OptRouterIn(e,n){return{method:"arc59_optRouterIn(uint64)void",methodArgs:Array.isArray(e)?e:[e.asa],...n}}static arc59GetOrCreateInbox(e,n){return{method:"arc59_getOrCreateInbox(address)address",methodArgs:Array.isArray(e)?e:[e.receiver],...n}}static arc59GetSendAssetInfo(e,n){return{method:"arc59_getSendAssetInfo(address,uint64)(uint64,uint64,bool,bool,uint64,uint64)",methodArgs:Array.isArray(e)?e:[e.receiver,e.asset],...n}}static arc59SendAsset(e,n){return{method:"arc59_sendAsset(axfer,address,uint64)address",methodArgs:Array.isArray(e)?e:[e.axfer,e.receiver,e.additionalReceiverFunds],...n}}static arc59Claim(e,n){return{method:"arc59_claim(uint64)void",methodArgs:Array.isArray(e)?e:[e.asa],...n}}static arc59Reject(e,n){return{method:"arc59_reject(uint64)void",methodArgs:Array.isArray(e)?e:[e.asa],...n}}static arc59GetInbox(e,n){return{method:"arc59_getInbox(address)address",methodArgs:Array.isArray(e)?e:[e.receiver],...n}}static arc59ClaimAlgo(e,n){return{method:"arc59_claimAlgo()void",methodArgs:Array.isArray(e)?e:[],...n}}}class EE{constructor(e,n){this.algod=n,this.sender=e.sender,this.appClient=dE({...e,app:_E},n)}mapReturnValue(e,n){var i,s,o;if((i=e.return)!=null&&i.decodeError)throw e.return.decodeError;const r=((s=e.return)==null?void 0:s.returnValue)!==void 0&&n!==void 0?n(e.return.returnValue):(o=e.return)==null?void 0:o.returnValue;return{...e,return:r}}async call(e,n){return this.mapReturnValue(await this.appClient.call(e),n)}deploy(e={}){var r;const n=(r=e.createCall)==null?void 0:r.call(e,Lr.create);return this.appClient.deploy({...e,createArgs:n,createOnCompleteAction:n==null?void 0:n.onCompleteAction})}get create(){const e=this;return{async createApplication(n,r={}){return e.mapReturnValue(await e.appClient.create(Lr.create.createApplication(n,r)))}}}clearState(e={}){return this.appClient.clearState(e)}arc59OptRouterIn(e,n={}){return this.call(Lr.arc59OptRouterIn(e,n))}arc59GetOrCreateInbox(e,n={}){return this.call(Lr.arc59GetOrCreateInbox(e,n))}arc59GetSendAssetInfo(e,n={}){return this.call(Lr.arc59GetSendAssetInfo(e,n))}arc59SendAsset(e,n={}){return this.call(Lr.arc59SendAsset(e,n))}arc59Claim(e,n={}){return this.call(Lr.arc59Claim(e,n))}arc59Reject(e,n={}){return this.call(Lr.arc59Reject(e,n))}arc59GetInbox(e,n={}){return this.call(Lr.arc59GetInbox(e,n))}arc59ClaimAlgo(e,n={}){return this.call(Lr.arc59ClaimAlgo(e,n))}compose(){const e=this,n=new Zm;let r=Promise.resolve();const i=[];return{arc59OptRouterIn(s,o){return r=r.then(()=>e.arc59OptRouterIn(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59GetOrCreateInbox(s,o){return r=r.then(()=>e.arc59GetOrCreateInbox(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59GetSendAssetInfo(s,o){return r=r.then(()=>e.arc59GetSendAssetInfo(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59SendAsset(s,o){return r=r.then(()=>e.arc59SendAsset(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59Claim(s,o){return r=r.then(()=>e.arc59Claim(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59Reject(s,o){return r=r.then(()=>e.arc59Reject(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59GetInbox(s,o){return r=r.then(()=>e.arc59GetInbox(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},arc59ClaimAlgo(s,o){return r=r.then(()=>e.arc59ClaimAlgo(s,{...o,sendParams:{...o==null?void 0:o.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},clearState(s){return r=r.then(()=>e.clearState({...s,sendParams:{...s==null?void 0:s.sendParams,skipSending:!0,atc:n}})),i.push(void 0),this},addTransaction(s,o){return r=r.then(async()=>n.addTransaction(await L_(s,o??e.sender))),this},async atc(){return await r,n},async simulate(s){var a;await r;const o=await n.simulate(e.algod,new Eo({txnGroups:[],...s}));return{...o,returns:(a=o.methodResults)==null?void 0:a.map((l,c)=>i[c]!==void 0?i[c](l.returnValue):l.returnValue)}},async execute(s){var a;await r;const o=await zb({atc:n,sendParams:s},e.algod);return{...o,returns:(a=o.returns)==null?void 0:a.map((l,c)=>i[c]!==void 0?i[c](l.returnValue):l.returnValue)}}}}}const SE=async t=>{const e=new km(qb,Hb,Qb);let n=await e.lookupAccountAssets(t).do(),r=1e3;for(;n.assets.length===r&&n["next-token"];){const s=n["next-token"],o=await e.lookupAccountAssets(t).nextToken(s).do();n.assets=n.assets.concat(o.assets),n["next-token"]=o["next-token"],r+=1e3}return n.assets.map(s=>({assetId:s["asset-id"],orgAmount:s.amount,type:"asset"}))},RE=async t=>{const n=await new km(qb,Hb,Qb).lookupAssetByID(t.assetId).do();return{assetId:t.assetId,amount:t.orgAmount/10**n.asset.params.decimals,orgAmount:t.orgAmount,decimals:n.asset.params.decimals,name:p2(n.asset.params["name-b64"]),unitName:p2(n.asset.params["unit-name-b64"])}},p2=t=>{const e=atob(t),n=Uint8Array.from(e,i=>i.charCodeAt(0));return new TextDecoder().decode(n)},FE=async(t,e,n,r)=>{try{const i=new EE({sender:e,resolveBy:"id",id:r==="mainnet"?2449590623:643020148},n),s={addr:e.addr,signer:oe.makeEmptyTransactionSigner()},o={allowEmptySignatures:!0,allowUnnamedResources:!0,fixSigners:!0};for(let a=0;a<t.length;a++){const l=await n.getTransactionParams().do(),c=i.compose(),f=(await i.appClient.getAppReference()).appAddress,h=t[a].receiver;console.log((await i.compose().arc59GetSendAssetInfo({asset:t[a].assetId,receiver:h},{sender:{...s,addr:e.addr}}).simulate(o)).returns);const[v,I,S,M,F]=(await i.compose().arc59GetSendAssetInfo({asset:t[a].assetId,receiver:h},{sender:{...s,addr:e.addr}}).simulate(o)).returns[0];if(console.log("itxns: ",v),M&&console.log("Receiver is opted in"),I||F){const $=oe.makePaymentTxnWithSuggestedParamsFromObject({to:f,from:e.addr,suggestedParams:l,amount:Number(I+F)});c.addTransaction({txn:$,signer:e.signer})}S||c.arc59OptRouterIn({asa:t[a].assetId});const E=oe.makeAssetTransferTxnWithSuggestedParamsFromObject({to:f,from:e.addr,assetIndex:t[a].assetId,amount:t[a].amount,suggestedParams:l}),m=v+(F===0n?0n:1n),x=(oe.ALGORAND_MIN_TX_FEE*Number(m+1n)).microAlgos(),G=[oe.decodeAddress(h).publicKey],Z=(await i.compose().arc59GetInbox({receiver:h},{sender:s}).simulate(o)).returns[0],C=[h,Z],D=[Number(t[a].assetId)];c.arc59SendAsset({axfer:E,receiver:h,additionalReceiverFunds:F},{sendParams:{fee:x},boxes:G,accounts:C,assets:D});const V=await c.atc();await V.gatherSignatures();const Q=await V.submit(n);console.log("result: ",Q)}}catch(i){throw console.error(i),i}},kE=Ai.testNet(),BE=()=>{const{wallets:t,activeAccount:e,transactionSigner:n,activeNetwork:r}=Wb(),[i,s]=Ct.useState(0),[o,a]=Ct.useState(""),[l,c]=Ct.useState(!1),[f,h]=Ct.useState([]),[v,I]=Ct.useState(),[S,M]=Ct.useState("");async function F(m){let x=await SE(m),G=[];for(let Z=0;Z<x.length;Z++){const C=x[Z],D=await RE(C);G.push(D),await new Promise(V=>setTimeout(V,10))}return h(G),console.log(G),G}Ct.useEffect(()=>{(async()=>e&&await F(e.address))()},[e]);const E=async()=>{if(!e){kt.error("Please connect wallet");return}if(!v){kt.error("Please select an asset");return}if(i<=0||i>v.amount){kt.error("Invalid asset amount");return}if(oe.isValidAddress(o)===!1){kt.error("Invalid receiver address");return}console.log(r,">>>"),M("Sending...");try{await FE([{assetId:v.assetId,amount:i*10**v.decimals,receiver:o}],{addr:e.address,signer:n},kE.client.algod,r),kt.success("Asset sent successfully")}catch(m){console.log(m),kt.error(`Error sending asset: ${m.message}`)}finally{M(""),h([]),s(0),a(""),await F(e.address)}};return It.jsx(It.Fragment,{children:It.jsxs(It.Fragment,{children:[It.jsxs("section",{className:"header_section",id:"header_section",children:[It.jsx("div",{className:"sticky_nav",children:It.jsx("a",{className:"cmpny_name",children:"ARC59 Frontend"})}),It.jsxs("div",{className:"header_wrapper",children:[It.jsx("div",{className:"second_wrap",children:It.jsx("button",{onClick:()=>c(!0),className:"connect_wallet_btn",children:e?`Connected as ${e.address.slice(0,3)}...${e.address.slice(-3)}`:"Connect Wallet"})}),It.jsxs("div",{className:"first_wrap",children:[It.jsxs("div",{className:"input_wrap",children:[It.jsx("label",{children:"Asset"}),It.jsxs("select",{onChange:m=>I(f[Number(m.target.value)]),children:[It.jsx("option",{value:-1,children:"Select Asset"}),f.map((m,x)=>It.jsxs("option",{value:x,children:[m.name," [",m.amount," ",m.unitName,"]"]},x))]})]}),It.jsxs("div",{className:"input_wrap",children:[It.jsx("label",{children:"Asset Amount"}),It.jsx("input",{value:i,onChange:m=>s(parseInt(m.target.value)),type:"number"})]})]}),It.jsx("div",{className:"first_wrap",children:It.jsxs("div",{className:"input_wrap",children:[It.jsx("label",{children:"Asset Receiver"}),It.jsx("input",{value:o,onChange:m=>a(m.target.value),type:"text"})]})}),It.jsx("div",{className:"first_wrap",children:It.jsx("button",{disabled:S!=="",onClick:E,className:"fetch_asset_btn",children:S===""?"Send Asset":S})})]})]}),It.jsx(__,{wallets:t,isOpen:l,onClose:()=>c(!1)}),It.jsx(C_,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})})},TE=new d_({wallets:[Qi.DEFLY,Qi.PERA,Qi.EXODUS,{id:Qi.WALLETCONNECT,options:{projectId:"0af28c6c83a29810852e9405b1d7fee7"}},{id:Qi.LUTE,options:{siteName:"ARC59 Frontend"}}],network:pl.TESTNET});yh.createRoot(document.getElementById("root")).render(It.jsx(Mt.StrictMode,{children:It.jsx(f_,{manager:TE,children:It.jsx(BE,{})})}));const NE=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{Tx as $,fl as A,vu as B,Pi as C,J8 as D,RI as E,Zx as F,lb as G,rb as H,$g as I,G8 as J,K4 as K,Wn as L,cs as M,Wt as N,Br as O,sb as P,Mm as Q,Gc as R,ib as S,Xt as T,HA as U,N8 as V,L8 as W,Nx as X,bs as Y,Bm as Z,Gi as _,n3 as a,AI as a$,j8 as a0,Lx as a1,bt as a2,EI as a3,qv as a4,EA as a5,XA as a6,ht as a7,_I as a8,jv as a9,Q8 as aA,Vx as aB,q8 as aC,$x as aD,eI as aE,zx as aF,tI as aG,Yx as aH,nI as aI,uI as aJ,hI as aK,Gx as aL,H8 as aM,dI as aN,fI as aO,Px as aP,K8 as aQ,C8 as aR,Rd as aS,KA as aT,Tm as aU,I8 as aV,b8 as aW,l4 as aX,M8 as aY,A8 as aZ,Nm as a_,Hv as aa,YA as ab,w8 as ac,hp as ad,Wm as ae,d8 as af,Wi as ag,wp as ah,zv as ai,O8 as aj,tb as ak,Qx as al,lI as am,qx as an,aI as ao,Xx as ap,rI as aq,Kx as ar,sI as as,eb as at,cI as au,Hx as av,oI as aw,Jx as ax,iI as ay,jx as az,J as b,II as b0,Z8 as b1,Lm as b2,Wx as b3,bI as b4,Dx as b5,U8 as b6,CI as b7,Mx as b8,D8 as b9,Rx as ba,lA as bb,Qc as c,oe as d,Nd as e,Td as f,Ja as g,ii as h,kd as i,wI as j,vI as k,Ld as l,si as m,Bd as n,Cr as o,fi as p,Bn as q,Fd as r,us as s,nb as t,pp as u,J4 as v,Zm as w,Sn as x,SI as y,km as z};
